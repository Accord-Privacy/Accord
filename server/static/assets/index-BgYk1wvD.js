var Ev=Object.defineProperty;var jv=(o,l,u)=>l in o?Ev(o,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[l]=u;var ue=(o,l,u)=>jv(o,typeof l!="symbol"?l+"":l,u);(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))r(h);new MutationObserver(h=>{for(const m of h)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function u(h){const m={};return h.integrity&&(m.integrity=h.integrity),h.referrerPolicy&&(m.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?m.credentials="include":h.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function r(h){if(h.ep)return;h.ep=!0;const m=u(h);fetch(h.href,m)}})();function Sg(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var If={exports:{}},Jc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function Cv(){if(Op)return Jc;Op=1;var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function u(r,h,m){var p=null;if(m!==void 0&&(p=""+m),h.key!==void 0&&(p=""+h.key),"key"in h){m={};for(var v in h)v!=="key"&&(m[v]=h[v])}else m=h;return h=m.ref,{$$typeof:o,type:r,key:p,ref:h!==void 0?h:null,props:m}}return Jc.Fragment=l,Jc.jsx=u,Jc.jsxs=u,Jc}var zp;function Tv(){return zp||(zp=1,If.exports=Cv()),If.exports}var s=Tv(),$f={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function Av(){if(Lp)return Oe;Lp=1;var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),X=Symbol.iterator;function O(S){return S===null||typeof S!="object"?null:(S=X&&S[X]||S["@@iterator"],typeof S=="function"?S:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,te={};function ce(S,R,H){this.props=S,this.context=R,this.refs=te,this.updater=H||B}ce.prototype.isReactComponent={},ce.prototype.setState=function(S,R){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,R,"setState")},ce.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function he(){}he.prototype=ce.prototype;function de(S,R,H){this.props=S,this.context=R,this.refs=te,this.updater=H||B}var fe=de.prototype=new he;fe.constructor=de,Q(fe,ce.prototype),fe.isPureReactComponent=!0;var Te=Array.isArray;function Le(){}var je={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function oe(S,R,H){var le=H.ref;return{$$typeof:o,type:S,key:R,ref:le!==void 0?le:null,props:H}}function De(S,R){return oe(S.type,R,S.props)}function Ne(S){return typeof S=="object"&&S!==null&&S.$$typeof===o}function me(S){var R={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(H){return R[H]})}var ie=/\/+/g;function Y(S,R){return typeof S=="object"&&S!==null&&S.key!=null?me(""+S.key):R.toString(36)}function U(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Le,Le):(S.status="pending",S.then(function(R){S.status==="pending"&&(S.status="fulfilled",S.value=R)},function(R){S.status==="pending"&&(S.status="rejected",S.reason=R)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function N(S,R,H,le,W){var ae=typeof S;(ae==="undefined"||ae==="boolean")&&(S=null);var pe=!1;if(S===null)pe=!0;else switch(ae){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(S.$$typeof){case o:case l:pe=!0;break;case A:return pe=S._init,N(pe(S._payload),R,H,le,W)}}if(pe)return W=W(S),pe=le===""?"."+Y(S,0):le,Te(W)?(H="",pe!=null&&(H=pe.replace(ie,"$&/")+"/"),N(W,R,H,"",function(Ye){return Ye})):W!=null&&(Ne(W)&&(W=De(W,H+(W.key==null||S&&S.key===W.key?"":(""+W.key).replace(ie,"$&/")+"/")+pe)),R.push(W)),1;pe=0;var Me=le===""?".":le+":";if(Te(S))for(var Ue=0;Ue<S.length;Ue++)le=S[Ue],ae=Me+Y(le,Ue),pe+=N(le,R,H,ae,W);else if(Ue=O(S),typeof Ue=="function")for(S=Ue.call(S),Ue=0;!(le=S.next()).done;)le=le.value,ae=Me+Y(le,Ue++),pe+=N(le,R,H,ae,W);else if(ae==="object"){if(typeof S.then=="function")return N(U(S),R,H,le,W);throw R=String(S),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return pe}function K(S,R,H){if(S==null)return S;var le=[],W=0;return N(S,le,"","",function(ae){return R.call(H,ae,W++)}),le}function V(S){if(S._status===-1){var R=S._result;R=R(),R.then(function(H){(S._status===0||S._status===-1)&&(S._status=1,S._result=H)},function(H){(S._status===0||S._status===-1)&&(S._status=2,S._result=H)}),S._status===-1&&(S._status=0,S._result=R)}if(S._status===1)return S._result.default;throw S._result}var ne=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},se={map:K,forEach:function(S,R,H){K(S,function(){R.apply(this,arguments)},H)},count:function(S){var R=0;return K(S,function(){R++}),R},toArray:function(S){return K(S,function(R){return R})||[]},only:function(S){if(!Ne(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return Oe.Activity=T,Oe.Children=se,Oe.Component=ce,Oe.Fragment=u,Oe.Profiler=h,Oe.PureComponent=de,Oe.StrictMode=r,Oe.Suspense=y,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=je,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(S){return je.H.useMemoCache(S)}},Oe.cache=function(S){return function(){return S.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(S,R,H){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var le=Q({},S.props),W=S.key;if(R!=null)for(ae in R.key!==void 0&&(W=""+R.key),R)!Se.call(R,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&R.ref===void 0||(le[ae]=R[ae]);var ae=arguments.length-2;if(ae===1)le.children=H;else if(1<ae){for(var pe=Array(ae),Me=0;Me<ae;Me++)pe[Me]=arguments[Me+2];le.children=pe}return oe(S.type,W,le)},Oe.createContext=function(S){return S={$$typeof:p,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:m,_context:S},S},Oe.createElement=function(S,R,H){var le,W={},ae=null;if(R!=null)for(le in R.key!==void 0&&(ae=""+R.key),R)Se.call(R,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(W[le]=R[le]);var pe=arguments.length-2;if(pe===1)W.children=H;else if(1<pe){for(var Me=Array(pe),Ue=0;Ue<pe;Ue++)Me[Ue]=arguments[Ue+2];W.children=Me}if(S&&S.defaultProps)for(le in pe=S.defaultProps,pe)W[le]===void 0&&(W[le]=pe[le]);return oe(S,ae,W)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(S){return{$$typeof:v,render:S}},Oe.isValidElement=Ne,Oe.lazy=function(S){return{$$typeof:A,_payload:{_status:-1,_result:S},_init:V}},Oe.memo=function(S,R){return{$$typeof:x,type:S,compare:R===void 0?null:R}},Oe.startTransition=function(S){var R=je.T,H={};je.T=H;try{var le=S(),W=je.S;W!==null&&W(H,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Le,ne)}catch(ae){ne(ae)}finally{R!==null&&H.types!==null&&(R.types=H.types),je.T=R}},Oe.unstable_useCacheRefresh=function(){return je.H.useCacheRefresh()},Oe.use=function(S){return je.H.use(S)},Oe.useActionState=function(S,R,H){return je.H.useActionState(S,R,H)},Oe.useCallback=function(S,R){return je.H.useCallback(S,R)},Oe.useContext=function(S){return je.H.useContext(S)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(S,R){return je.H.useDeferredValue(S,R)},Oe.useEffect=function(S,R){return je.H.useEffect(S,R)},Oe.useEffectEvent=function(S){return je.H.useEffectEvent(S)},Oe.useId=function(){return je.H.useId()},Oe.useImperativeHandle=function(S,R,H){return je.H.useImperativeHandle(S,R,H)},Oe.useInsertionEffect=function(S,R){return je.H.useInsertionEffect(S,R)},Oe.useLayoutEffect=function(S,R){return je.H.useLayoutEffect(S,R)},Oe.useMemo=function(S,R){return je.H.useMemo(S,R)},Oe.useOptimistic=function(S,R){return je.H.useOptimistic(S,R)},Oe.useReducer=function(S,R,H){return je.H.useReducer(S,R,H)},Oe.useRef=function(S){return je.H.useRef(S)},Oe.useState=function(S){return je.H.useState(S)},Oe.useSyncExternalStore=function(S,R,H){return je.H.useSyncExternalStore(S,R,H)},Oe.useTransition=function(){return je.H.useTransition()},Oe.version="19.2.4",Oe}var Bp;function wd(){return Bp||(Bp=1,$f.exports=Av()),$f.exports}var w=wd();const hd=Sg(w);var Ff={exports:{}},Ic={},Wf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function kv(){return Hp||(Hp=1,(function(o){function l(N,K){var V=N.length;N.push(K);e:for(;0<V;){var ne=V-1>>>1,se=N[ne];if(0<h(se,K))N[ne]=K,N[V]=se,V=ne;else break e}}function u(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var K=N[0],V=N.pop();if(V!==K){N[0]=V;e:for(var ne=0,se=N.length,S=se>>>1;ne<S;){var R=2*(ne+1)-1,H=N[R],le=R+1,W=N[le];if(0>h(H,V))le<se&&0>h(W,H)?(N[ne]=W,N[le]=V,ne=le):(N[ne]=H,N[R]=V,ne=R);else if(le<se&&0>h(W,V))N[ne]=W,N[le]=V,ne=le;else break e}}return K}function h(N,K){var V=N.sortIndex-K.sortIndex;return V!==0?V:N.id-K.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;o.unstable_now=function(){return m.now()}}else{var p=Date,v=p.now();o.unstable_now=function(){return p.now()-v}}var y=[],x=[],A=1,T=null,X=3,O=!1,B=!1,Q=!1,te=!1,ce=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function fe(N){for(var K=u(x);K!==null;){if(K.callback===null)r(x);else if(K.startTime<=N)r(x),K.sortIndex=K.expirationTime,l(y,K);else break;K=u(x)}}function Te(N){if(Q=!1,fe(N),!B)if(u(y)!==null)B=!0,Le||(Le=!0,me());else{var K=u(x);K!==null&&U(Te,K.startTime-N)}}var Le=!1,je=-1,Se=5,oe=-1;function De(){return te?!0:!(o.unstable_now()-oe<Se)}function Ne(){if(te=!1,Le){var N=o.unstable_now();oe=N;var K=!0;try{e:{B=!1,Q&&(Q=!1,he(je),je=-1),O=!0;var V=X;try{t:{for(fe(N),T=u(y);T!==null&&!(T.expirationTime>N&&De());){var ne=T.callback;if(typeof ne=="function"){T.callback=null,X=T.priorityLevel;var se=ne(T.expirationTime<=N);if(N=o.unstable_now(),typeof se=="function"){T.callback=se,fe(N),K=!0;break t}T===u(y)&&r(y),fe(N)}else r(y);T=u(y)}if(T!==null)K=!0;else{var S=u(x);S!==null&&U(Te,S.startTime-N),K=!1}}break e}finally{T=null,X=V,O=!1}K=void 0}}finally{K?me():Le=!1}}}var me;if(typeof de=="function")me=function(){de(Ne)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Y=ie.port2;ie.port1.onmessage=Ne,me=function(){Y.postMessage(null)}}else me=function(){ce(Ne,0)};function U(N,K){je=ce(function(){N(o.unstable_now())},K)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(N){N.callback=null},o.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<N?Math.floor(1e3/N):5},o.unstable_getCurrentPriorityLevel=function(){return X},o.unstable_next=function(N){switch(X){case 1:case 2:case 3:var K=3;break;default:K=X}var V=X;X=K;try{return N()}finally{X=V}},o.unstable_requestPaint=function(){te=!0},o.unstable_runWithPriority=function(N,K){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var V=X;X=N;try{return K()}finally{X=V}},o.unstable_scheduleCallback=function(N,K,V){var ne=o.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ne+V:ne):V=ne,N){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=V+se,N={id:A++,callback:K,priorityLevel:N,startTime:V,expirationTime:se,sortIndex:-1},V>ne?(N.sortIndex=V,l(x,N),u(y)===null&&N===u(x)&&(Q?(he(je),je=-1):Q=!0,U(Te,V-ne))):(N.sortIndex=se,l(y,N),B||O||(B=!0,Le||(Le=!0,me()))),N},o.unstable_shouldYield=De,o.unstable_wrapCallback=function(N){var K=X;return function(){var V=X;X=K;try{return N.apply(this,arguments)}finally{X=V}}}})(Pf)),Pf}var qp;function Mv(){return qp||(qp=1,Wf.exports=kv()),Wf.exports}var ed={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function Rv(){if(Kp)return xn;Kp=1;var o=wd();function l(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)x+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var r={d:{f:u,r:function(){throw Error(l(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},h=Symbol.for("react.portal");function m(y,x,A){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:T==null?null:""+T,children:y,containerInfo:x,implementation:A}}var p=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,x){if(y==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xn.createPortal=function(y,x){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(l(299));return m(y,x,null,A)},xn.flushSync=function(y){var x=p.T,A=r.p;try{if(p.T=null,r.p=2,y)return y()}finally{p.T=x,r.p=A,r.d.f()}},xn.preconnect=function(y,x){typeof y=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,r.d.C(y,x))},xn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},xn.preinit=function(y,x){if(typeof y=="string"&&x&&typeof x.as=="string"){var A=x.as,T=v(A,x.crossOrigin),X=typeof x.integrity=="string"?x.integrity:void 0,O=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;A==="style"?r.d.S(y,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:T,integrity:X,fetchPriority:O}):A==="script"&&r.d.X(y,{crossOrigin:T,integrity:X,fetchPriority:O,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},xn.preinitModule=function(y,x){if(typeof y=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var A=v(x.as,x.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&r.d.M(y)},xn.preload=function(y,x){if(typeof y=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var A=x.as,T=v(A,x.crossOrigin);r.d.L(y,A,{crossOrigin:T,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},xn.preloadModule=function(y,x){if(typeof y=="string")if(x){var A=v(x.as,x.crossOrigin);r.d.m(y,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else r.d.m(y)},xn.requestFormReset=function(y){r.d.r(y)},xn.unstable_batchedUpdates=function(y,x){return y(x)},xn.useFormState=function(y,x,A){return p.H.useFormState(y,x,A)},xn.useFormStatus=function(){return p.H.useHostTransitionStatus()},xn.version="19.2.4",xn}var Yp;function Dv(){if(Yp)return ed.exports;Yp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(l){console.error(l)}}return o(),ed.exports=Rv(),ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function Uv(){if(Gp)return Ic;Gp=1;var o=Mv(),l=wd(),u=Dv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(m(e)!==e)throw Error(r(188))}function x(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var c=i.alternate;if(c===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===n)return y(i),e;if(c===a)return y(i),t;c=c.sibling}throw Error(r(188))}if(n.return!==a.return)n=i,a=c;else{for(var f=!1,g=i.child;g;){if(g===n){f=!0,n=i,a=c;break}if(g===a){f=!0,a=i,n=c;break}g=g.sibling}if(!f){for(g=c.child;g;){if(g===n){f=!0,n=c,a=i;break}if(g===a){f=!0,a=c,n=i;break}g=g.sibling}if(!f)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function A(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=A(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,X=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),de=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),De=Symbol.for("react.memo_cache_sentinel"),Ne=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=Ne&&e[Ne]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case ce:return"Profiler";case te:return"StrictMode";case Te:return"Suspense";case Le:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case de:return e.displayName||"Context";case he:return(e._context.displayName||"Context")+".Consumer";case fe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case je:return t=e.displayName||null,t!==null?t:Y(e.type)||"Memo";case Se:t=e._payload,e=e._init;try{return Y(e(t))}catch{}}return null}var U=Array.isArray,N=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ne=[],se=-1;function S(e){return{current:e}}function R(e){0>se||(e.current=ne[se],ne[se]=null,se--)}function H(e,t){se++,ne[se]=e.current,e.current=t}var le=S(null),W=S(null),ae=S(null),pe=S(null);function Me(e,t){switch(H(ae,t),H(W,e),H(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=lp(t),e=ip(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(le),H(le,e)}function Ue(){R(le),R(W),R(ae)}function Ye(e){e.memoizedState!==null&&H(pe,e);var t=le.current,n=ip(t,e.type);t!==n&&(H(W,e),H(le,n))}function D(e){W.current===e&&(R(le),R(W)),pe.current===e&&(R(pe),Vc._currentValue=V)}var Ee,Pe;function zt(e){if(Ee===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ee=t&&t[1]||"",Pe=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+e+Pe}var jt=!1;function vt(e,t){if(!e||jt)return"";jt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(G){var q=G}Reflect.construct(e,[],I)}else{try{I.call()}catch(G){q=G}e.call(I.prototype)}}else{try{throw Error()}catch(G){q=G}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),f=c[0],g=c[1];if(f&&g){var _=f.split(`
`),L=g.split(`
`);for(i=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;i<L.length&&!L[i].includes("DetermineComponentFrameRoot");)i++;if(a===_.length||i===L.length)for(a=_.length-1,i=L.length-1;1<=a&&0<=i&&_[a]!==L[i];)i--;for(;1<=a&&0<=i;a--,i--)if(_[a]!==L[i]){if(a!==1||i!==1)do if(a--,i--,0>i||_[a]!==L[i]){var Z=`
`+_[a].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=a&&0<=i);break}}}finally{jt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?zt(n):""}function Jt(e,t){switch(e.tag){case 26:case 27:case 5:return zt(e.type);case 16:return zt("Lazy");case 13:return e.child!==t&&t!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return vt(e.type,!1);case 11:return vt(e.type.render,!1);case 1:return vt(e.type,!0);case 31:return zt("Activity");default:return""}}function ln(e){try{var t="",n=null;do t+=Jt(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var hn=Object.prototype.hasOwnProperty,Vn=o.unstable_scheduleCallback,kn=o.unstable_cancelCallback,re=o.unstable_shouldYield,Qe=o.unstable_requestPaint,Je=o.unstable_now,Kt=o.unstable_getCurrentPriorityLevel,Wt=o.unstable_ImmediatePriority,it=o.unstable_UserBlockingPriority,Pt=o.unstable_NormalPriority,gt=o.unstable_LowPriority,$=o.unstable_IdlePriority,Ie=o.log,Mn=o.unstable_setDisableYieldValue,Sn=null,Ct=null;function kt(e){if(typeof Ie=="function"&&Mn(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Sn,e)}catch{}}var Tt=Math.clz32?Math.clz32:bl,Va=Math.log,at=Math.LN2;function bl(e){return e>>>=0,e===0?32:31-(Va(e)/at|0)|0}var Re=256,sn=262144,Rn=4194304;function mn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Nt(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,c=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var g=a&134217727;return g!==0?(a=g&~c,a!==0?i=mn(a):(f&=g,f!==0?i=mn(f):n||(n=g&~e,n!==0&&(i=mn(n))))):(g=a&~c,g!==0?i=mn(g):f!==0?i=mn(f):n||(n=a&~e,n!==0&&(i=mn(n)))),i===0?0:t!==0&&t!==i&&(t&c)===0&&(c=i&-i,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:i}function pa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function et(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(){var e=Rn;return Rn<<=1,(Rn&62914560)===0&&(Rn=4194304),e}function wn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function It(e,t,n,a,i,c){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var g=e.entanglements,_=e.expirationTimes,L=e.hiddenUpdates;for(n=f&~n;0<n;){var Z=31-Tt(n),I=1<<Z;g[Z]=0,_[Z]=-1;var q=L[Z];if(q!==null)for(L[Z]=null,Z=0;Z<q.length;Z++){var G=q[Z];G!==null&&(G.lane&=-536870913)}n&=~I}a!==0&&ga(e,a,0),c!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=c&~(f&~t))}function ga(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Tt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Tt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function ya(e,t){var n=t&-t;return n=(n&42)!==0?1:Be(n),(n&(e.suspendedLanes|t))!==0?0:n}function Be(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function en(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function aa(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Tp(e.type))}function la(e,t){var n=K.p;try{return K.p=e,t()}finally{K.p=n}}var tn=Math.random().toString(36).slice(2),ft="__reactFiber$"+tn,dt="__reactProps$"+tn,pn="__reactContainer$"+tn,Un="__reactEvents$"+tn,ia="__reactListeners$"+tn,xl="__reactHandles$"+tn,Ca="__reactResources$"+tn,xe="__reactMarker$"+tn;function j(e){delete e[ft],delete e[dt],delete e[Un],delete e[ia],delete e[xl]}function ee(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pn]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dp(e);e!==null;){if(n=e[ft])return n;e=dp(e)}return t}e=n,n=e.parentNode}return null}function ge(e){if(e=e[ft]||e[pn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ve(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function xt(e){var t=e[Ca];return t||(t=e[Ca]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[xe]=!0}var Lt=new Set,gn={};function nn(e,t){Xn(e,t),Xn(e+"Capture",t)}function Xn(e,t){for(gn[e]=t,e=0;e<t.length;e++)Lt.add(t[e])}var At=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Za={},Xa={};function Ts(e){return hn.call(Xa,e)?!0:hn.call(Za,e)?!1:At.test(e)?Xa[e]=!0:(Za[e]=!0,!1)}function Sl(e,t,n){if(Ts(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ii(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Mt(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function As(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function au(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(f){n=""+f,c.call(this,f)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zi(e){if(!e._valueTracker){var t=As(e)?"checked":"value";e._valueTracker=au(e,t,""+e[t])}}function ks(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=As(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ro=/[\n"\\]/g;function On(e){return e.replace(ro,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Li(e,t,n,a,i,c,f,g){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+cn(t)):e.value!==""+cn(t)&&(e.value=""+cn(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Rs(e,f,cn(t)):n!=null?Rs(e,f,cn(n)):a!=null&&e.removeAttribute("value"),i==null&&c!=null&&(e.defaultChecked=!!c),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+cn(g):e.removeAttribute("name")}function Ms(e,t,n,a,i,c,f,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){zi(e);return}n=n!=null?""+cn(n):"",t=t!=null?""+cn(t):n,g||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=g?e.checked:!!a,e.defaultChecked=!!a,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),zi(e)}function Rs(e,t,n){t==="number"&&si(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Qa(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+cn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function uo(e,t,n){if(t!=null&&(t=""+cn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+cn(n):""}function fo(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(r(92));if(U(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=cn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),zi(e)}function wl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ds=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bi(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Ds.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ho(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Bi(e,i,a)}else for(var c in t)t.hasOwnProperty(c)&&Bi(e,c,t[c])}function Ja(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Us=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(e){return Hi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sa(){}var Rt=null;function Os(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ia=null,Ta=null;function qi(e){var t=ge(e);if(t&&(e=t.stateNode)){var n=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Li(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+On(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[dt]||null;if(!i)throw Error(r(90));Li(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&ks(a)}break e;case"textarea":uo(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Qa(e,!!n.multiple,t,!1)}}}var Aa=!1;function zs(e,t,n){if(Aa)return e(t,n);Aa=!0;try{var a=e(t);return a}finally{if(Aa=!1,(Ia!==null||Ta!==null)&&(cr(),Ia&&(t=Ia,e=Ta,Ta=Ia=null,qi(t),e)))for(t=0;t<e.length;t++)qi(e[t])}}function ka(e,t){var n=e.stateNode;if(n===null)return null;var a=n[dt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ci=!1;if(_n)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){ci=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{ci=!1}var ba=null,Ki=null,Nl=null;function oi(){if(Nl)return Nl;var e,t=Ki,n=t.length,a,i="value"in ba?ba.value:ba.textContent,c=i.length;for(e=0;e<n&&t[e]===i[e];e++);var f=n-e;for(a=1;a<=f&&t[n-a]===i[c-a];a++);return Nl=i.slice(e,1<a?1-a:void 0)}function El(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function Yi(){return!1}function on(e){function t(n,a,i,c,f){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ri:Yi,this.isPropagationStopped=Yi,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),t}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=on(Ma),Ra=T({},Ma,{view:0,detail:0}),Cl=on(Ra),Ls,$a,ui,Tl=T({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(Ls=e.screenX-ui.screenX,$a=e.screenY-ui.screenY):$a=Ls=0,ui=e),Ls)},movementY:function(e){return"movementY"in e?e.movementY:$a}}),Bs=on(Tl),lu=T({},Tl,{dataTransfer:0}),Hs=on(lu),qs=T({},Ra,{relatedTarget:0}),fi=on(qs),Gi=T({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),Vi=on(Gi),Ks=T({},Ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),di=on(Ks),Al=T({},Ma,{data:0}),Ys=on(Al),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gs[e])?!!t[e]:!1}function Vs(){return Zi}var Zs=T({},Ra,{key:function(e){if(e.key){var t=mo[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=El(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?po[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(e){return e.type==="keypress"?El(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?El(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),go=on(Zs),Xi=T({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yo=on(Xi),iu=T({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),vo=on(iu),Xs=T({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),bo=on(Xs),su=T({},Tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xo=on(su),cu=T({},Ma,{newState:0,oldState:0}),Bt=on(cu),hi=[9,13,27,32],Qi=_n&&"CompositionEvent"in window,kl=null;_n&&"documentMode"in document&&(kl=document.documentMode);var So=_n&&"TextEvent"in window&&!kl,Qs=_n&&(!Qi||kl&&8<kl&&11>=kl),Js=" ",wo=!1;function Is(e,t){switch(e){case"keyup":return hi.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $s(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function Fs(e,t){switch(e){case"compositionend":return $s(t);case"keypress":return t.which!==32?null:(wo=!0,Js);case"textInput":return e=t.data,e===Js&&wo?null:e;default:return null}}function Qn(e,t){if(xa)return e==="compositionend"||!Qi&&Is(e,t)?(e=oi(),Nl=Ki=ba=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qs&&t.locale!=="ko"?null:t.data;default:return null}}var ou={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ws(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ou[e.type]:t==="textarea"}function Da(e,t,n,a){Ia?Ta?Ta.push(a):Ta=[a]:Ia=a,t=mr(t,"onChange"),0<t.length&&(n=new jl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var yn=null,Jn=null;function Ml(e){Wm(e,0)}function Sa(e){var t=Ve(e);if(ks(t))return e}function Ps(e,t){if(e==="change")return t}var _o=!1;if(_n){var ec;if(_n){var tc="oninput"in document;if(!tc){var No=document.createElement("div");No.setAttribute("oninput","return;"),tc=typeof No.oninput=="function"}ec=tc}else ec=!1;_o=ec&&(!document.documentMode||9<document.documentMode)}function In(){yn&&(yn.detachEvent("onpropertychange",nc),Jn=yn=null)}function nc(e){if(e.propertyName==="value"&&Sa(Jn)){var t=[];Da(t,Jn,e,Os(e)),zs(Ml,t)}}function ac(e,t,n){e==="focusin"?(In(),yn=t,Jn=n,yn.attachEvent("onpropertychange",nc)):e==="focusout"&&In()}function lc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sa(Jn)}function Eo(e,t){if(e==="click")return Sa(t)}function ic(e,t){if(e==="input"||e==="change")return Sa(t)}function ru(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:ru;function mi(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!hn.call(t,i)||!Nn(e[i],t[i]))return!1}return!0}function jo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sc(e,t){var n=jo(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jo(n)}}function cc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Co(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=si(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=si(e.document)}return t}function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var uu=_n&&"documentMode"in document&&11>=document.documentMode,Fa=null,Ji=null,Ua=null,Ii=!1;function rc(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ii||Fa==null||Fa!==si(a)||(a=Fa,"selectionStart"in a&&oc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ua&&mi(Ua,a)||(Ua=a,a=mr(Ji,"onSelect"),0<a.length&&(t=new jl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Fa)))}function Oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rl={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},$i={},Fi={};_n&&(Fi=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function Wa(e){if($i[e])return $i[e];if(!Rl[e])return e;var t=Rl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fi)return $i[e]=t[n];return e}var uc=Wa("animationend"),To=Wa("animationiteration"),fc=Wa("animationstart"),fu=Wa("transitionrun"),dc=Wa("transitionstart"),du=Wa("transitioncancel"),Ao=Wa("transitionend"),ko=new Map,hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hc.push("scrollEnd");function $n(e,t){ko.set(e,t),nn(t,[e])}var pi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],wa=0,Wi=0;function gi(){for(var e=wa,t=Wi=wa=0;t<e;){var n=zn[t];zn[t++]=null;var a=zn[t];zn[t++]=null;var i=zn[t];zn[t++]=null;var c=zn[t];if(zn[t++]=null,a!==null&&i!==null){var f=a.pending;f===null?i.next=i:(i.next=f.next,f.next=i),a.pending=i}c!==0&&Mo(n,i,c)}}function yi(e,t,n,a){zn[wa++]=e,zn[wa++]=t,zn[wa++]=n,zn[wa++]=a,Wi|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function mc(e,t,n,a){return yi(e,t,n,a),vi(e)}function vn(e,t){return yi(e,null,null,t),vi(e)}function Mo(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,c=e.return;c!==null;)c.childLanes|=n,a=c.alternate,a!==null&&(a.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(i=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,i&&t!==null&&(i=31-Tt(n),e=c.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),c):null}function vi(e){if(50<Lc)throw Lc=0,bf=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Pa={};function Ro(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,t,n,a){return new Ro(e,t,n,a)}function Pi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ca(e,t){var n=e.alternate;return n===null?(n=bn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function pc(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bi(e,t,n,a,i,c){var f=0;if(a=e,typeof e=="function")Pi(e)&&(f=1);else if(typeof e=="string")f=hv(e,n,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=bn(31,n,t,i),e.elementType=oe,e.lanes=c,e;case Q:return za(n.children,i,c,t);case te:f=8,i|=24;break;case ce:return e=bn(12,n,t,i|2),e.elementType=ce,e.lanes=c,e;case Te:return e=bn(13,n,t,i),e.elementType=Te,e.lanes=c,e;case Le:return e=bn(19,n,t,i),e.elementType=Le,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case de:f=10;break e;case he:f=9;break e;case fe:f=11;break e;case je:f=14;break e;case Se:f=16,a=null;break e}f=29,n=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=bn(f,n,t,i),t.elementType=e,t.type=a,t.lanes=c,t}function za(e,t,n,a){return e=bn(7,e,a,t),e.lanes=n,e}function d(e,t,n){return e=bn(6,e,null,t),e.lanes=n,e}function b(e){var t=bn(18,null,null,0);return t.stateNode=e,t}function E(e,t,n){return t=bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var M=new WeakMap;function F(e,t){if(typeof e=="object"&&e!==null){var n=M.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ln(t)},M.set(e,t),t)}return{value:e,source:t,stack:ln(t)}}var be=[],ye=0,ze=null,lt=0,ve=[],tt=0,$t=null,Yt=1,nt="";function Gt(e,t){be[ye++]=lt,be[ye++]=ze,ze=e,lt=t}function gc(e,t,n){ve[tt++]=Yt,ve[tt++]=nt,ve[tt++]=$t,$t=e;var a=Yt;e=nt;var i=32-Tt(a)-1;a&=~(1<<i),n+=1;var c=32-Tt(t)+i;if(30<c){var f=i-i%5;c=(a&(1<<f)-1).toString(32),a>>=f,i-=f,Yt=1<<32-Tt(t)+i|n<<i|a,nt=c+e}else Yt=1<<c|n<<i|a,nt=e}function hu(e){e.return!==null&&(Gt(e,1),gc(e,1,0))}function mu(e){for(;e===ze;)ze=be[--ye],be[ye]=null,lt=be[--ye],be[ye]=null;for(;e===$t;)$t=ve[--tt],ve[tt]=null,nt=ve[--tt],ve[tt]=null,Yt=ve[--tt],ve[tt]=null}function Bd(e,t){ve[tt++]=Yt,ve[tt++]=nt,ve[tt++]=$t,Yt=t.id,nt=t.overflow,$t=e}var rn=null,St=null,We=!1,Dl=null,oa=!1,pu=Error(r(519));function Ul(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yc(F(t,e)),pu}function Hd(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[ft]=e,t[dt]=a,n){case"dialog":Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":case"embed":Xe("load",t);break;case"video":case"audio":for(n=0;n<Hc.length;n++)Xe(Hc[n],t);break;case"source":Xe("error",t);break;case"img":case"image":case"link":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"input":Xe("invalid",t),Ms(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Xe("invalid",t);break;case"textarea":Xe("invalid",t),fo(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||np(t.textContent,n)?(a.popover!=null&&(Xe("beforetoggle",t),Xe("toggle",t)),a.onScroll!=null&&Xe("scroll",t),a.onScrollEnd!=null&&Xe("scrollend",t),a.onClick!=null&&(t.onclick=sa),t=!0):t=!1,t||Ul(e,!0)}function qd(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 31:case 13:oa=!1;return;case 27:case 3:oa=!0;return;default:rn=rn.return}}function es(e){if(e!==rn)return!1;if(!We)return qd(e),We=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Uf(e.type,e.memoizedProps)),n=!n),n&&St&&Ul(e),qd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));St=fp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));St=fp(e)}else t===27?(t=St,Jl(e.type)?(e=Hf,Hf=null,St=e):St=t):St=rn?ua(e.stateNode.nextSibling):null;return!0}function xi(){St=rn=null,We=!1}function gu(){var e=Dl;return e!==null&&(qn===null?qn=e:qn.push.apply(qn,e),Dl=null),e}function yc(e){Dl===null?Dl=[e]:Dl.push(e)}var yu=S(null),Si=null,el=null;function Ol(e,t,n){H(yu,t._currentValue),t._currentValue=n}function tl(e){e._currentValue=yu.current,R(yu)}function vu(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function bu(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){var f=i.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=i;for(var _=0;_<t.length;_++)if(g.context===t[_]){c.lanes|=n,g=c.alternate,g!==null&&(g.lanes|=n),vu(c.return,n,e),a||(f=null);break e}c=g.next}}else if(i.tag===18){if(f=i.return,f===null)throw Error(r(341));f.lanes|=n,c=f.alternate,c!==null&&(c.lanes|=n),vu(f,n,e),f=null}else f=i.child;if(f!==null)f.return=i;else for(f=i;f!==null;){if(f===e){f=null;break}if(i=f.sibling,i!==null){i.return=f.return,f=i;break}f=f.return}i=f}}function ts(e,t,n,a){e=null;for(var i=t,c=!1;i!==null;){if(!c){if((i.flags&524288)!==0)c=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var f=i.alternate;if(f===null)throw Error(r(387));if(f=f.memoizedProps,f!==null){var g=i.type;Nn(i.pendingProps.value,f.value)||(e!==null?e.push(g):e=[g])}}else if(i===pe.current){if(f=i.alternate,f===null)throw Error(r(387));f.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Vc):e=[Vc])}i=i.return}e!==null&&bu(t,e,n,a),t.flags|=262144}function Do(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wi(e){Si=e,el=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function un(e){return Kd(Si,e)}function Uo(e,t){return Si===null&&wi(e),Kd(e,t)}function Kd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},el===null){if(e===null)throw Error(r(308));el=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else el=el.next=t;return n}var ry=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},uy=o.unstable_scheduleCallback,fy=o.unstable_NormalPriority,Vt={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xu(){return{controller:new ry,data:new Map,refCount:0}}function vc(e){e.refCount--,e.refCount===0&&uy(fy,function(){e.controller.abort()})}var bc=null,Su=0,ns=0,as=null;function dy(e,t){if(bc===null){var n=bc=[];Su=0,ns=Ef(),as={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Su++,t.then(Yd,Yd),t}function Yd(){if(--Su===0&&bc!==null){as!==null&&(as.status="fulfilled");var e=bc;bc=null,ns=0,as=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hy(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Gd=N.S;N.S=function(e,t){jm=Je(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&dy(e,t),Gd!==null&&Gd(e,t)};var _i=S(null);function wu(){var e=_i.current;return e!==null?e:yt.pooledCache}function Oo(e,t){t===null?H(_i,_i.current):H(_i,t.pool)}function Vd(){var e=wu();return e===null?null:{parent:Vt._currentValue,pool:e}}var ls=Error(r(460)),_u=Error(r(474)),zo=Error(r(542)),Lo={then:function(){}};function Zd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(sa,sa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jd(e),e;default:if(typeof t.status=="string")t.then(sa,sa);else{if(e=yt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jd(e),e}throw Ei=t,ls}}function Ni(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ei=n,ls):n}}var Ei=null;function Qd(){if(Ei===null)throw Error(r(459));var e=Ei;return Ei=null,e}function Jd(e){if(e===ls||e===zo)throw Error(r(483))}var is=null,xc=0;function Bo(e){var t=xc;return xc+=1,is===null&&(is=[]),Xd(is,e,t)}function Sc(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ho(e,t){throw t.$$typeof===X?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Id(e){function t(k,C){if(e){var z=k.deletions;z===null?(k.deletions=[C],k.flags|=16):z.push(C)}}function n(k,C){if(!e)return null;for(;C!==null;)t(k,C),C=C.sibling;return null}function a(k){for(var C=new Map;k!==null;)k.key!==null?C.set(k.key,k):C.set(k.index,k),k=k.sibling;return C}function i(k,C){return k=ca(k,C),k.index=0,k.sibling=null,k}function c(k,C,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<C?(k.flags|=67108866,C):z):(k.flags|=67108866,C)):(k.flags|=1048576,C)}function f(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function g(k,C,z,J){return C===null||C.tag!==6?(C=d(z,k.mode,J),C.return=k,C):(C=i(C,z),C.return=k,C)}function _(k,C,z,J){var Ce=z.type;return Ce===Q?Z(k,C,z.props.children,J,z.key):C!==null&&(C.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Se&&Ni(Ce)===C.type)?(C=i(C,z.props),Sc(C,z),C.return=k,C):(C=bi(z.type,z.key,z.props,null,k.mode,J),Sc(C,z),C.return=k,C)}function L(k,C,z,J){return C===null||C.tag!==4||C.stateNode.containerInfo!==z.containerInfo||C.stateNode.implementation!==z.implementation?(C=E(z,k.mode,J),C.return=k,C):(C=i(C,z.children||[]),C.return=k,C)}function Z(k,C,z,J,Ce){return C===null||C.tag!==7?(C=za(z,k.mode,J,Ce),C.return=k,C):(C=i(C,z),C.return=k,C)}function I(k,C,z){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=d(""+C,k.mode,z),C.return=k,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case O:return z=bi(C.type,C.key,C.props,null,k.mode,z),Sc(z,C),z.return=k,z;case B:return C=E(C,k.mode,z),C.return=k,C;case Se:return C=Ni(C),I(k,C,z)}if(U(C)||me(C))return C=za(C,k.mode,z,null),C.return=k,C;if(typeof C.then=="function")return I(k,Bo(C),z);if(C.$$typeof===de)return I(k,Uo(k,C),z);Ho(k,C)}return null}function q(k,C,z,J){var Ce=C!==null?C.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return Ce!==null?null:g(k,C,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return z.key===Ce?_(k,C,z,J):null;case B:return z.key===Ce?L(k,C,z,J):null;case Se:return z=Ni(z),q(k,C,z,J)}if(U(z)||me(z))return Ce!==null?null:Z(k,C,z,J,null);if(typeof z.then=="function")return q(k,C,Bo(z),J);if(z.$$typeof===de)return q(k,C,Uo(k,z),J);Ho(k,z)}return null}function G(k,C,z,J,Ce){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(z)||null,g(C,k,""+J,Ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return k=k.get(J.key===null?z:J.key)||null,_(C,k,J,Ce);case B:return k=k.get(J.key===null?z:J.key)||null,L(C,k,J,Ce);case Se:return J=Ni(J),G(k,C,z,J,Ce)}if(U(J)||me(J))return k=k.get(z)||null,Z(C,k,J,Ce,null);if(typeof J.then=="function")return G(k,C,z,Bo(J),Ce);if(J.$$typeof===de)return G(k,C,z,Uo(C,J),Ce);Ho(C,J)}return null}function we(k,C,z,J){for(var Ce=null,st=null,_e=C,Ke=C=0,Fe=null;_e!==null&&Ke<z.length;Ke++){_e.index>Ke?(Fe=_e,_e=null):Fe=_e.sibling;var ct=q(k,_e,z[Ke],J);if(ct===null){_e===null&&(_e=Fe);break}e&&_e&&ct.alternate===null&&t(k,_e),C=c(ct,C,Ke),st===null?Ce=ct:st.sibling=ct,st=ct,_e=Fe}if(Ke===z.length)return n(k,_e),We&&Gt(k,Ke),Ce;if(_e===null){for(;Ke<z.length;Ke++)_e=I(k,z[Ke],J),_e!==null&&(C=c(_e,C,Ke),st===null?Ce=_e:st.sibling=_e,st=_e);return We&&Gt(k,Ke),Ce}for(_e=a(_e);Ke<z.length;Ke++)Fe=G(_e,k,Ke,z[Ke],J),Fe!==null&&(e&&Fe.alternate!==null&&_e.delete(Fe.key===null?Ke:Fe.key),C=c(Fe,C,Ke),st===null?Ce=Fe:st.sibling=Fe,st=Fe);return e&&_e.forEach(function(Pl){return t(k,Pl)}),We&&Gt(k,Ke),Ce}function ke(k,C,z,J){if(z==null)throw Error(r(151));for(var Ce=null,st=null,_e=C,Ke=C=0,Fe=null,ct=z.next();_e!==null&&!ct.done;Ke++,ct=z.next()){_e.index>Ke?(Fe=_e,_e=null):Fe=_e.sibling;var Pl=q(k,_e,ct.value,J);if(Pl===null){_e===null&&(_e=Fe);break}e&&_e&&Pl.alternate===null&&t(k,_e),C=c(Pl,C,Ke),st===null?Ce=Pl:st.sibling=Pl,st=Pl,_e=Fe}if(ct.done)return n(k,_e),We&&Gt(k,Ke),Ce;if(_e===null){for(;!ct.done;Ke++,ct=z.next())ct=I(k,ct.value,J),ct!==null&&(C=c(ct,C,Ke),st===null?Ce=ct:st.sibling=ct,st=ct);return We&&Gt(k,Ke),Ce}for(_e=a(_e);!ct.done;Ke++,ct=z.next())ct=G(_e,k,Ke,ct.value,J),ct!==null&&(e&&ct.alternate!==null&&_e.delete(ct.key===null?Ke:ct.key),C=c(ct,C,Ke),st===null?Ce=ct:st.sibling=ct,st=ct);return e&&_e.forEach(function(Nv){return t(k,Nv)}),We&&Gt(k,Ke),Ce}function pt(k,C,z,J){if(typeof z=="object"&&z!==null&&z.type===Q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case O:e:{for(var Ce=z.key;C!==null;){if(C.key===Ce){if(Ce=z.type,Ce===Q){if(C.tag===7){n(k,C.sibling),J=i(C,z.props.children),J.return=k,k=J;break e}}else if(C.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Se&&Ni(Ce)===C.type){n(k,C.sibling),J=i(C,z.props),Sc(J,z),J.return=k,k=J;break e}n(k,C);break}else t(k,C);C=C.sibling}z.type===Q?(J=za(z.props.children,k.mode,J,z.key),J.return=k,k=J):(J=bi(z.type,z.key,z.props,null,k.mode,J),Sc(J,z),J.return=k,k=J)}return f(k);case B:e:{for(Ce=z.key;C!==null;){if(C.key===Ce)if(C.tag===4&&C.stateNode.containerInfo===z.containerInfo&&C.stateNode.implementation===z.implementation){n(k,C.sibling),J=i(C,z.children||[]),J.return=k,k=J;break e}else{n(k,C);break}else t(k,C);C=C.sibling}J=E(z,k.mode,J),J.return=k,k=J}return f(k);case Se:return z=Ni(z),pt(k,C,z,J)}if(U(z))return we(k,C,z,J);if(me(z)){if(Ce=me(z),typeof Ce!="function")throw Error(r(150));return z=Ce.call(z),ke(k,C,z,J)}if(typeof z.then=="function")return pt(k,C,Bo(z),J);if(z.$$typeof===de)return pt(k,C,Uo(k,z),J);Ho(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,C!==null&&C.tag===6?(n(k,C.sibling),J=i(C,z),J.return=k,k=J):(n(k,C),J=d(z,k.mode,J),J.return=k,k=J),f(k)):n(k,C)}return function(k,C,z,J){try{xc=0;var Ce=pt(k,C,z,J);return is=null,Ce}catch(_e){if(_e===ls||_e===zo)throw _e;var st=bn(29,_e,null,k.mode);return st.lanes=J,st.return=k,st}finally{}}}var ji=Id(!0),$d=Id(!1),zl=!1;function Nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ll(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bl(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ot&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=vi(e),Mo(e,null,n),t}return yi(e,a,t,n),vi(e)}function wc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ae(e,n)}}function ju(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?i=c=f:c=c.next=f,n=n.next}while(n!==null);c===null?i=c=t:c=c.next=t}else i=c=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Cu=!1;function _c(){if(Cu){var e=as;if(e!==null)throw e}}function Nc(e,t,n,a){Cu=!1;var i=e.updateQueue;zl=!1;var c=i.firstBaseUpdate,f=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var _=g,L=_.next;_.next=null,f===null?c=L:f.next=L,f=_;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,g=Z.lastBaseUpdate,g!==f&&(g===null?Z.firstBaseUpdate=L:g.next=L,Z.lastBaseUpdate=_))}if(c!==null){var I=i.baseState;f=0,Z=L=_=null,g=c;do{var q=g.lane&-536870913,G=q!==g.lane;if(G?($e&q)===q:(a&q)===q){q!==0&&q===ns&&(Cu=!0),Z!==null&&(Z=Z.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var we=e,ke=g;q=t;var pt=n;switch(ke.tag){case 1:if(we=ke.payload,typeof we=="function"){I=we.call(pt,I,q);break e}I=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ke.payload,q=typeof we=="function"?we.call(pt,I,q):we,q==null)break e;I=T({},I,q);break e;case 2:zl=!0}}q=g.callback,q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=i.callbacks,G===null?i.callbacks=[q]:G.push(q))}else G={lane:q,tag:g.tag,payload:g.payload,callback:g.callback,next:null},Z===null?(L=Z=G,_=I):Z=Z.next=G,f|=q;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;G=g,g=G.next,G.next=null,i.lastBaseUpdate=G,i.shared.pending=null}}while(!0);Z===null&&(_=I),i.baseState=_,i.firstBaseUpdate=L,i.lastBaseUpdate=Z,c===null&&(i.shared.lanes=0),Gl|=f,e.lanes=f,e.memoizedState=I}}function Fd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Wd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Fd(n[e],t)}var ss=S(null),qo=S(0);function Pd(e,t){e=ul,H(qo,e),H(ss,t),ul=e|t.baseLanes}function Tu(){H(qo,ul),H(ss,ss.current)}function Au(){ul=qo.current,R(ss),R(qo)}var Fn=S(null),ra=null;function Hl(e){var t=e.alternate;H(Ht,Ht.current&1),H(Fn,e),ra===null&&(t===null||ss.current!==null||t.memoizedState!==null)&&(ra=e)}function ku(e){H(Ht,Ht.current),H(Fn,e),ra===null&&(ra=e)}function eh(e){e.tag===22?(H(Ht,Ht.current),H(Fn,e),ra===null&&(ra=e)):ql()}function ql(){H(Ht,Ht.current),H(Fn,Fn.current)}function Wn(e){R(Fn),ra===e&&(ra=null),R(Ht)}var Ht=S(0);function Ko(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Lf(n)||Bf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nl=0,He=null,ht=null,Zt=null,Yo=!1,cs=!1,Ci=!1,Go=0,Ec=0,os=null,my=0;function Dt(){throw Error(r(321))}function Mu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nn(e[n],t[n]))return!1;return!0}function Ru(e,t,n,a,i,c){return nl=c,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?Lh:Qu,Ci=!1,c=n(a,i),Ci=!1,cs&&(c=nh(t,n,a,i)),th(e),c}function th(e){N.H=Tc;var t=ht!==null&&ht.next!==null;if(nl=0,Zt=ht=He=null,Yo=!1,Ec=0,os=null,t)throw Error(r(300));e===null||Xt||(e=e.dependencies,e!==null&&Do(e)&&(Xt=!0))}function nh(e,t,n,a){He=e;var i=0;do{if(cs&&(os=null),Ec=0,cs=!1,25<=i)throw Error(r(301));if(i+=1,Zt=ht=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}N.H=Bh,c=t(n,a)}while(cs);return c}function py(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?jc(t):t,e=e.useState()[0],(ht!==null?ht.memoizedState:null)!==e&&(He.flags|=1024),t}function Du(){var e=Go!==0;return Go=0,e}function Uu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ou(e){if(Yo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yo=!1}nl=0,Zt=ht=He=null,cs=!1,Ec=Go=0,os=null}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?He.memoizedState=Zt=e:Zt=Zt.next=e,Zt}function qt(){if(ht===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=Zt===null?He.memoizedState:Zt.next;if(t!==null)Zt=t,ht=e;else{if(e===null)throw He.alternate===null?Error(r(467)):Error(r(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Zt===null?He.memoizedState=Zt=e:Zt=Zt.next=e}return Zt}function Vo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jc(e){var t=Ec;return Ec+=1,os===null&&(os=[]),e=Xd(os,e,t),t=He,(Zt===null?t.memoizedState:Zt.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?Lh:Qu),e}function Zo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jc(e);if(e.$$typeof===de)return un(e)}throw Error(r(438,String(e)))}function zu(e){var t=null,n=He.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=He.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Vo(),He.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=De;return t.index++,n}function al(e,t){return typeof t=="function"?t(e):t}function Xo(e){var t=qt();return Lu(t,ht,e)}function Lu(e,t,n){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var i=e.baseQueue,c=a.pending;if(c!==null){if(i!==null){var f=i.next;i.next=c.next,c.next=f}t.baseQueue=i=c,a.pending=null}if(c=e.baseState,i===null)e.memoizedState=c;else{t=i.next;var g=f=null,_=null,L=t,Z=!1;do{var I=L.lane&-536870913;if(I!==L.lane?($e&I)===I:(nl&I)===I){var q=L.revertLane;if(q===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),I===ns&&(Z=!0);else if((nl&q)===q){L=L.next,q===ns&&(Z=!0);continue}else I={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},_===null?(g=_=I,f=c):_=_.next=I,He.lanes|=q,Gl|=q;I=L.action,Ci&&n(c,I),c=L.hasEagerState?L.eagerState:n(c,I)}else q={lane:I,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},_===null?(g=_=q,f=c):_=_.next=q,He.lanes|=I,Gl|=I;L=L.next}while(L!==null&&L!==t);if(_===null?f=c:_.next=g,!Nn(c,e.memoizedState)&&(Xt=!0,Z&&(n=as,n!==null)))throw n;e.memoizedState=c,e.baseState=f,e.baseQueue=_,a.lastRenderedState=c}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Bu(e){var t=qt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,c=t.memoizedState;if(i!==null){n.pending=null;var f=i=i.next;do c=e(c,f.action),f=f.next;while(f!==i);Nn(c,t.memoizedState)||(Xt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,a]}function ah(e,t,n){var a=He,i=qt(),c=We;if(c){if(n===void 0)throw Error(r(407));n=n()}else n=t();var f=!Nn((ht||i).memoizedState,n);if(f&&(i.memoizedState=n,Xt=!0),i=i.queue,Ku(sh.bind(null,a,i,e),[e]),i.getSnapshot!==t||f||Zt!==null&&Zt.memoizedState.tag&1){if(a.flags|=2048,rs(9,{destroy:void 0},ih.bind(null,a,i,n,t),null),yt===null)throw Error(r(349));c||(nl&127)!==0||lh(a,t,n)}return n}function lh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t=Vo(),He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ih(e,t,n,a){t.value=n,t.getSnapshot=a,ch(t)&&oh(e)}function sh(e,t,n){return n(function(){ch(t)&&oh(e)})}function ch(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nn(e,n)}catch{return!0}}function oh(e){var t=vn(e,2);t!==null&&Kn(t,e,2)}function Hu(e){var t=En();if(typeof e=="function"){var n=e;if(e=n(),Ci){kt(!0);try{n()}finally{kt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:e},t}function rh(e,t,n,a){return e.baseState=n,Lu(e,ht,typeof a=="function"?a:al)}function gy(e,t,n,a,i){if(Io(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){c.listeners.push(f)}};N.T!==null?n(!0):c.isTransition=!1,a(c),n=t.pending,n===null?(c.next=t.pending=c,uh(t,c)):(c.next=n.next,t.pending=n.next=c)}}function uh(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var c=N.T,f={};N.T=f;try{var g=n(i,a),_=N.S;_!==null&&_(f,g),fh(e,t,g)}catch(L){qu(e,t,L)}finally{c!==null&&f.types!==null&&(c.types=f.types),N.T=c}}else try{c=n(i,a),fh(e,t,c)}catch(L){qu(e,t,L)}}function fh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){dh(e,t,a)},function(a){return qu(e,t,a)}):dh(e,t,n)}function dh(e,t,n){t.status="fulfilled",t.value=n,hh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,uh(e,n)))}function qu(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,hh(t),t=t.next;while(t!==a)}e.action=null}function hh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function mh(e,t){return t}function ph(e,t){if(We){var n=yt.formState;if(n!==null){e:{var a=He;if(We){if(St){t:{for(var i=St,c=oa;i.nodeType!==8;){if(!c){i=null;break t}if(i=ua(i.nextSibling),i===null){i=null;break t}}c=i.data,i=c==="F!"||c==="F"?i:null}if(i){St=ua(i.nextSibling),a=i.data==="F!";break e}}Ul(a)}a=!1}a&&(t=n[0])}}return n=En(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mh,lastRenderedState:t},n.queue=a,n=Uh.bind(null,He,a),a.dispatch=n,a=Hu(!1),c=Xu.bind(null,He,!1,a.queue),a=En(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=gy.bind(null,He,i,c,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function gh(e){var t=qt();return yh(t,ht,e)}function yh(e,t,n){if(t=Lu(e,t,mh)[0],e=Xo(al)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=jc(t)}catch(f){throw f===ls?zo:f}else a=t;t=qt();var i=t.queue,c=i.dispatch;return n!==t.memoizedState&&(He.flags|=2048,rs(9,{destroy:void 0},yy.bind(null,i,n),null)),[a,c,e]}function yy(e,t){e.action=t}function vh(e){var t=qt(),n=ht;if(n!==null)return yh(t,n,e);qt(),t=t.memoizedState,n=qt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function rs(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=He.updateQueue,t===null&&(t=Vo(),He.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function bh(){return qt().memoizedState}function Qo(e,t,n,a){var i=En();He.flags|=e,i.memoizedState=rs(1|t,{destroy:void 0},n,a===void 0?null:a)}function Jo(e,t,n,a){var i=qt();a=a===void 0?null:a;var c=i.memoizedState.inst;ht!==null&&a!==null&&Mu(a,ht.memoizedState.deps)?i.memoizedState=rs(t,c,n,a):(He.flags|=e,i.memoizedState=rs(1|t,c,n,a))}function xh(e,t){Qo(8390656,8,e,t)}function Ku(e,t){Jo(2048,8,e,t)}function vy(e){He.flags|=4;var t=He.updateQueue;if(t===null)t=Vo(),He.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Sh(e){var t=qt().memoizedState;return vy({ref:t,nextImpl:e}),function(){if((ot&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function wh(e,t){return Jo(4,2,e,t)}function _h(e,t){return Jo(4,4,e,t)}function Nh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Eh(e,t,n){n=n!=null?n.concat([e]):null,Jo(4,4,Nh.bind(null,t,e),n)}function Yu(){}function jh(e,t){var n=qt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Mu(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ch(e,t){var n=qt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Mu(t,a[1]))return a[0];if(a=e(),Ci){kt(!0);try{e()}finally{kt(!1)}}return n.memoizedState=[a,t],a}function Gu(e,t,n){return n===void 0||(nl&1073741824)!==0&&($e&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Tm(),He.lanes|=e,Gl|=e,n)}function Th(e,t,n,a){return Nn(n,t)?n:ss.current!==null?(e=Gu(e,n,a),Nn(e,t)||(Xt=!0),e):(nl&42)===0||(nl&1073741824)!==0&&($e&261930)===0?(Xt=!0,e.memoizedState=n):(e=Tm(),He.lanes|=e,Gl|=e,t)}function Ah(e,t,n,a,i){var c=K.p;K.p=c!==0&&8>c?c:8;var f=N.T,g={};N.T=g,Xu(e,!1,t,n);try{var _=i(),L=N.S;if(L!==null&&L(g,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var Z=hy(_,a);Cc(e,t,Z,ta(e))}else Cc(e,t,a,ta(e))}catch(I){Cc(e,t,{then:function(){},status:"rejected",reason:I},ta())}finally{K.p=c,f!==null&&g.types!==null&&(f.types=g.types),N.T=f}}function by(){}function Vu(e,t,n,a){if(e.tag!==5)throw Error(r(476));var i=kh(e).queue;Ah(e,i,t,V,n===null?by:function(){return Mh(e),n(a)})}function kh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:V},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Mh(e){var t=kh(e);t.next===null&&(t=e.alternate.memoizedState),Cc(e,t.next.queue,{},ta())}function Zu(){return un(Vc)}function Rh(){return qt().memoizedState}function Dh(){return qt().memoizedState}function xy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ta();e=Ll(n);var a=Bl(t,e,n);a!==null&&(Kn(a,t,n),wc(a,t,n)),t={cache:xu()},e.payload=t;return}t=t.return}}function Sy(e,t,n){var a=ta();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Io(e)?Oh(t,n):(n=mc(e,t,n,a),n!==null&&(Kn(n,e,a),zh(n,t,a)))}function Uh(e,t,n){var a=ta();Cc(e,t,n,a)}function Cc(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Io(e))Oh(t,i);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var f=t.lastRenderedState,g=c(f,n);if(i.hasEagerState=!0,i.eagerState=g,Nn(g,f))return yi(e,t,i,0),yt===null&&gi(),!1}catch{}finally{}if(n=mc(e,t,i,a),n!==null)return Kn(n,e,a),zh(n,t,a),!0}return!1}function Xu(e,t,n,a){if(a={lane:2,revertLane:Ef(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Io(e)){if(t)throw Error(r(479))}else t=mc(e,n,a,2),t!==null&&Kn(t,e,2)}function Io(e){var t=e.alternate;return e===He||t!==null&&t===He}function Oh(e,t){cs=Yo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zh(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ae(e,n)}}var Tc={readContext:un,use:Zo,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};Tc.useEffectEvent=Dt;var Lh={readContext:un,use:Zo,useCallback:function(e,t){return En().memoizedState=[e,t===void 0?null:t],e},useContext:un,useEffect:xh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Qo(4194308,4,Nh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qo(4194308,4,e,t)},useInsertionEffect:function(e,t){Qo(4,2,e,t)},useMemo:function(e,t){var n=En();t=t===void 0?null:t;var a=e();if(Ci){kt(!0);try{e()}finally{kt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=En();if(n!==void 0){var i=n(t);if(Ci){kt(!0);try{n(t)}finally{kt(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=Sy.bind(null,He,e),[a.memoizedState,e]},useRef:function(e){var t=En();return e={current:e},t.memoizedState=e},useState:function(e){e=Hu(e);var t=e.queue,n=Uh.bind(null,He,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Yu,useDeferredValue:function(e,t){var n=En();return Gu(n,e,t)},useTransition:function(){var e=Hu(!1);return e=Ah.bind(null,He,e.queue,!0,!1),En().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=He,i=En();if(We){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),yt===null)throw Error(r(349));($e&127)!==0||lh(a,t,n)}i.memoizedState=n;var c={value:n,getSnapshot:t};return i.queue=c,xh(sh.bind(null,a,c,e),[e]),a.flags|=2048,rs(9,{destroy:void 0},ih.bind(null,a,c,n,t),null),n},useId:function(){var e=En(),t=yt.identifierPrefix;if(We){var n=nt,a=Yt;n=(a&~(1<<32-Tt(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Go++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=my++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Zu,useFormState:ph,useActionState:ph,useOptimistic:function(e){var t=En();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Xu.bind(null,He,!0,n),n.dispatch=t,[e,t]},useMemoCache:zu,useCacheRefresh:function(){return En().memoizedState=xy.bind(null,He)},useEffectEvent:function(e){var t=En(),n={impl:e};return t.memoizedState=n,function(){if((ot&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Qu={readContext:un,use:Zo,useCallback:jh,useContext:un,useEffect:Ku,useImperativeHandle:Eh,useInsertionEffect:wh,useLayoutEffect:_h,useMemo:Ch,useReducer:Xo,useRef:bh,useState:function(){return Xo(al)},useDebugValue:Yu,useDeferredValue:function(e,t){var n=qt();return Th(n,ht.memoizedState,e,t)},useTransition:function(){var e=Xo(al)[0],t=qt().memoizedState;return[typeof e=="boolean"?e:jc(e),t]},useSyncExternalStore:ah,useId:Rh,useHostTransitionStatus:Zu,useFormState:gh,useActionState:gh,useOptimistic:function(e,t){var n=qt();return rh(n,ht,e,t)},useMemoCache:zu,useCacheRefresh:Dh};Qu.useEffectEvent=Sh;var Bh={readContext:un,use:Zo,useCallback:jh,useContext:un,useEffect:Ku,useImperativeHandle:Eh,useInsertionEffect:wh,useLayoutEffect:_h,useMemo:Ch,useReducer:Bu,useRef:bh,useState:function(){return Bu(al)},useDebugValue:Yu,useDeferredValue:function(e,t){var n=qt();return ht===null?Gu(n,e,t):Th(n,ht.memoizedState,e,t)},useTransition:function(){var e=Bu(al)[0],t=qt().memoizedState;return[typeof e=="boolean"?e:jc(e),t]},useSyncExternalStore:ah,useId:Rh,useHostTransitionStatus:Zu,useFormState:vh,useActionState:vh,useOptimistic:function(e,t){var n=qt();return ht!==null?rh(n,ht,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:zu,useCacheRefresh:Dh};Bh.useEffectEvent=Sh;function Ju(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:T({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Iu={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ta(),i=Ll(a);i.payload=t,n!=null&&(i.callback=n),t=Bl(e,i,a),t!==null&&(Kn(t,e,a),wc(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ta(),i=Ll(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Bl(e,i,a),t!==null&&(Kn(t,e,a),wc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ta(),a=Ll(n);a.tag=2,t!=null&&(a.callback=t),t=Bl(e,a,n),t!==null&&(Kn(t,e,n),wc(t,e,n))}};function Hh(e,t,n,a,i,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,f):t.prototype&&t.prototype.isPureReactComponent?!mi(n,a)||!mi(i,c):!0}function qh(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Iu.enqueueReplaceState(t,t.state,null)}function Ti(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=T({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Kh(e){pi(e)}function Yh(e){console.error(e)}function Gh(e){pi(e)}function $o(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Vh(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function $u(e,t,n){return n=Ll(n),n.tag=3,n.payload={element:null},n.callback=function(){$o(e,t)},n}function Zh(e){return e=Ll(e),e.tag=3,e}function Xh(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var c=a.value;e.payload=function(){return i(c)},e.callback=function(){Vh(t,n,a)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Vh(t,n,a),typeof i!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var g=a.stack;this.componentDidCatch(a.value,{componentStack:g!==null?g:""})})}function wy(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&ts(t,n,i,!0),n=Fn.current,n!==null){switch(n.tag){case 31:case 13:return ra===null?or():n.alternate===null&&Ut===0&&(Ut=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Lo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),wf(e,a,i)),!1;case 22:return n.flags|=65536,a===Lo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),wf(e,a,i)),!1}throw Error(r(435,n.tag))}return wf(e,a,i),or(),!1}if(We)return t=Fn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==pu&&(e=Error(r(422),{cause:a}),yc(F(e,n)))):(a!==pu&&(t=Error(r(423),{cause:a}),yc(F(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=F(a,n),i=$u(e.stateNode,a,i),ju(e,i),Ut!==4&&(Ut=2)),!1;var c=Error(r(520),{cause:a});if(c=F(c,n),zc===null?zc=[c]:zc.push(c),Ut!==4&&(Ut=2),t===null)return!0;a=F(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=$u(n.stateNode,a,e),ju(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Vl===null||!Vl.has(c))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Zh(i),Xh(i,e,n,a),ju(n,i),!1}n=n.return}while(n!==null);return!1}var Fu=Error(r(461)),Xt=!1;function fn(e,t,n,a){t.child=e===null?$d(t,null,n,a):ji(t,e.child,n,a)}function Qh(e,t,n,a,i){n=n.render;var c=t.ref;if("ref"in a){var f={};for(var g in a)g!=="ref"&&(f[g]=a[g])}else f=a;return wi(t),a=Ru(e,t,n,f,c,i),g=Du(),e!==null&&!Xt?(Uu(e,t,i),ll(e,t,i)):(We&&g&&hu(t),t.flags|=1,fn(e,t,a,i),t.child)}function Jh(e,t,n,a,i){if(e===null){var c=n.type;return typeof c=="function"&&!Pi(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,Ih(e,t,c,a,i)):(e=bi(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!sf(e,i)){var f=c.memoizedProps;if(n=n.compare,n=n!==null?n:mi,n(f,a)&&e.ref===t.ref)return ll(e,t,i)}return t.flags|=1,e=ca(c,a),e.ref=t.ref,e.return=t,t.child=e}function Ih(e,t,n,a,i){if(e!==null){var c=e.memoizedProps;if(mi(c,a)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=a=c,sf(e,i))(e.flags&131072)!==0&&(Xt=!0);else return t.lanes=e.lanes,ll(e,t,i)}return Wu(e,t,n,a,i)}function $h(e,t,n,a){var i=a.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~c}else a=0,t.child=null;return Fh(e,t,c,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Oo(t,c!==null?c.cachePool:null),c!==null?Pd(t,c):Tu(),eh(t);else return a=t.lanes=536870912,Fh(e,t,c!==null?c.baseLanes|n:n,n,a)}else c!==null?(Oo(t,c.cachePool),Pd(t,c),ql(),t.memoizedState=null):(e!==null&&Oo(t,null),Tu(),ql());return fn(e,t,i,n),t.child}function Ac(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fh(e,t,n,a,i){var c=wu();return c=c===null?null:{parent:Vt._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&Oo(t,null),Tu(),eh(t),e!==null&&ts(e,t,a,!0),t.childLanes=i,null}function Fo(e,t){return t=Po({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wh(e,t,n){return ji(t,e.child,null,n),e=Fo(t,t.pendingProps),e.flags|=2,Wn(t),t.memoizedState=null,e}function _y(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(We){if(a.mode==="hidden")return e=Fo(t,a),t.lanes=536870912,Ac(null,e);if(ku(t),(e=St)?(e=up(e,oa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$t!==null?{id:Yt,overflow:nt}:null,retryLane:536870912,hydrationErrors:null},n=b(e),n.return=t,t.child=n,rn=t,St=null)):e=null,e===null)throw Ul(t);return t.lanes=536870912,null}return Fo(t,a)}var c=e.memoizedState;if(c!==null){var f=c.dehydrated;if(ku(t),i)if(t.flags&256)t.flags&=-257,t=Wh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Xt||ts(e,t,n,!1),i=(n&e.childLanes)!==0,Xt||i){if(a=yt,a!==null&&(f=ya(a,n),f!==0&&f!==c.retryLane))throw c.retryLane=f,vn(e,f),Kn(a,e,f),Fu;or(),t=Wh(e,t,n)}else e=c.treeContext,St=ua(f.nextSibling),rn=t,We=!0,Dl=null,oa=!1,e!==null&&Bd(t,e),t=Fo(t,a),t.flags|=4096;return t}return e=ca(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Wo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Wu(e,t,n,a,i){return wi(t),n=Ru(e,t,n,a,void 0,i),a=Du(),e!==null&&!Xt?(Uu(e,t,i),ll(e,t,i)):(We&&a&&hu(t),t.flags|=1,fn(e,t,n,i),t.child)}function Ph(e,t,n,a,i,c){return wi(t),t.updateQueue=null,n=nh(t,a,n,i),th(e),a=Du(),e!==null&&!Xt?(Uu(e,t,c),ll(e,t,c)):(We&&a&&hu(t),t.flags|=1,fn(e,t,n,c),t.child)}function em(e,t,n,a,i){if(wi(t),t.stateNode===null){var c=Pa,f=n.contextType;typeof f=="object"&&f!==null&&(c=un(f)),c=new n(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Iu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},Nu(t),f=n.contextType,c.context=typeof f=="object"&&f!==null?un(f):Pa,c.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Ju(t,n,f,a),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(f=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),f!==c.state&&Iu.enqueueReplaceState(c,c.state,null),Nc(t,a,c,i),_c(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,_=Ti(n,g);c.props=_;var L=c.context,Z=n.contextType;f=Pa,typeof Z=="object"&&Z!==null&&(f=un(Z));var I=n.getDerivedStateFromProps;Z=typeof I=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,Z||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||L!==f)&&qh(t,c,a,f),zl=!1;var q=t.memoizedState;c.state=q,Nc(t,a,c,i),_c(),L=t.memoizedState,g||q!==L||zl?(typeof I=="function"&&(Ju(t,n,I,a),L=t.memoizedState),(_=zl||Hh(t,n,_,a,q,L,f))?(Z||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=L),c.props=a,c.state=L,c.context=f,a=_):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,Eu(e,t),f=t.memoizedProps,Z=Ti(n,f),c.props=Z,I=t.pendingProps,q=c.context,L=n.contextType,_=Pa,typeof L=="object"&&L!==null&&(_=un(L)),g=n.getDerivedStateFromProps,(L=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==I||q!==_)&&qh(t,c,a,_),zl=!1,q=t.memoizedState,c.state=q,Nc(t,a,c,i),_c();var G=t.memoizedState;f!==I||q!==G||zl||e!==null&&e.dependencies!==null&&Do(e.dependencies)?(typeof g=="function"&&(Ju(t,n,g,a),G=t.memoizedState),(Z=zl||Hh(t,n,Z,a,q,G,_)||e!==null&&e.dependencies!==null&&Do(e.dependencies))?(L||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,G,_),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,G,_)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=G),c.props=a,c.state=G,c.context=_,a=Z):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,Wo(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=ji(t,e.child,null,i),t.child=ji(t,null,n,i)):fn(e,t,n,i),t.memoizedState=c.state,e=t.child):e=ll(e,t,i),e}function tm(e,t,n,a){return xi(),t.flags|=256,fn(e,t,n,a),t.child}var Pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(e){return{baseLanes:e,cachePool:Vd()}}function tf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ea),e}function nm(e,t,n){var a=t.pendingProps,i=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(Ht.current&2)!==0),f&&(i=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(We){if(i?Hl(t):ql(),(e=St)?(e=up(e,oa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$t!==null?{id:Yt,overflow:nt}:null,retryLane:536870912,hydrationErrors:null},n=b(e),n.return=t,t.child=n,rn=t,St=null)):e=null,e===null)throw Ul(t);return Bf(e)?t.lanes=32:t.lanes=536870912,null}var g=a.children;return a=a.fallback,i?(ql(),i=t.mode,g=Po({mode:"hidden",children:g},i),a=za(a,i,n,null),g.return=t,a.return=t,g.sibling=a,t.child=g,a=t.child,a.memoizedState=ef(n),a.childLanes=tf(e,f,n),t.memoizedState=Pu,Ac(null,a)):(Hl(t),nf(t,g))}var _=e.memoizedState;if(_!==null&&(g=_.dehydrated,g!==null)){if(c)t.flags&256?(Hl(t),t.flags&=-257,t=af(e,t,n)):t.memoizedState!==null?(ql(),t.child=e.child,t.flags|=128,t=null):(ql(),g=a.fallback,i=t.mode,a=Po({mode:"visible",children:a.children},i),g=za(g,i,n,null),g.flags|=2,a.return=t,g.return=t,a.sibling=g,t.child=a,ji(t,e.child,null,n),a=t.child,a.memoizedState=ef(n),a.childLanes=tf(e,f,n),t.memoizedState=Pu,t=Ac(null,a));else if(Hl(t),Bf(g)){if(f=g.nextSibling&&g.nextSibling.dataset,f)var L=f.dgst;f=L,a=Error(r(419)),a.stack="",a.digest=f,yc({value:a,source:null,stack:null}),t=af(e,t,n)}else if(Xt||ts(e,t,n,!1),f=(n&e.childLanes)!==0,Xt||f){if(f=yt,f!==null&&(a=ya(f,n),a!==0&&a!==_.retryLane))throw _.retryLane=a,vn(e,a),Kn(f,e,a),Fu;Lf(g)||or(),t=af(e,t,n)}else Lf(g)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,St=ua(g.nextSibling),rn=t,We=!0,Dl=null,oa=!1,e!==null&&Bd(t,e),t=nf(t,a.children),t.flags|=4096);return t}return i?(ql(),g=a.fallback,i=t.mode,_=e.child,L=_.sibling,a=ca(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,L!==null?g=ca(L,g):(g=za(g,i,n,null),g.flags|=2),g.return=t,a.return=t,a.sibling=g,t.child=a,Ac(null,a),a=t.child,g=e.child.memoizedState,g===null?g=ef(n):(i=g.cachePool,i!==null?(_=Vt._currentValue,i=i.parent!==_?{parent:_,pool:_}:i):i=Vd(),g={baseLanes:g.baseLanes|n,cachePool:i}),a.memoizedState=g,a.childLanes=tf(e,f,n),t.memoizedState=Pu,Ac(e.child,a)):(Hl(t),n=e.child,e=n.sibling,n=ca(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function nf(e,t){return t=Po({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Po(e,t){return e=bn(22,e,null,t),e.lanes=0,e}function af(e,t,n){return ji(t,e.child,null,n),e=nf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function am(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),vu(e.return,t,n)}function lf(e,t,n,a,i,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=n,f.tailMode=i,f.treeForkCount=c)}function lm(e,t,n){var a=t.pendingProps,i=a.revealOrder,c=a.tail;a=a.children;var f=Ht.current,g=(f&2)!==0;if(g?(f=f&1|2,t.flags|=128):f&=1,H(Ht,f),fn(e,t,a,n),a=We?lt:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&am(e,n,t);else if(e.tag===19)am(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ko(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),lf(t,!1,i,n,c,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ko(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}lf(t,!0,n,null,c,a);break;case"together":lf(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ll(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ts(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=ca(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ca(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Do(e)))}function Ny(e,t,n){switch(t.tag){case 3:Me(t,t.stateNode.containerInfo),Ol(t,Vt,e.memoizedState.cache),xi();break;case 27:case 5:Ye(t);break;case 4:Me(t,t.stateNode.containerInfo);break;case 10:Ol(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ku(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Hl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?nm(e,t,n):(Hl(t),e=ll(e,t,n),e!==null?e.sibling:null);Hl(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(ts(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return lm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),H(Ht,Ht.current),a)break;return null;case 22:return t.lanes=0,$h(e,t,n,t.pendingProps);case 24:Ol(t,Vt,e.memoizedState.cache)}return ll(e,t,n)}function im(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xt=!0;else{if(!sf(e,n)&&(t.flags&128)===0)return Xt=!1,Ny(e,t,n);Xt=(e.flags&131072)!==0}else Xt=!1,We&&(t.flags&1048576)!==0&&gc(t,lt,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ni(t.elementType),t.type=e,typeof e=="function")Pi(e)?(a=Ti(e,a),t.tag=1,t=em(null,t,e,a,n)):(t.tag=0,t=Wu(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===fe){t.tag=11,t=Qh(null,t,e,a,n);break e}else if(i===je){t.tag=14,t=Jh(null,t,e,a,n);break e}}throw t=Y(e)||e,Error(r(306,t,""))}}return t;case 0:return Wu(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Ti(a,t.pendingProps),em(e,t,a,i,n);case 3:e:{if(Me(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var c=t.memoizedState;i=c.element,Eu(e,t),Nc(t,a,null,n);var f=t.memoizedState;if(a=f.cache,Ol(t,Vt,a),a!==c.cache&&bu(t,[Vt],n,!0),_c(),a=f.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=tm(e,t,a,n);break e}else if(a!==i){i=F(Error(r(424)),t),yc(i),t=tm(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(St=ua(e.firstChild),rn=t,We=!0,Dl=null,oa=!0,n=$d(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(xi(),a===i){t=ll(e,t,n);break e}fn(e,t,a,n)}t=t.child}return t;case 26:return Wo(e,t),e===null?(n=gp(t.type,null,t.pendingProps,null))?t.memoizedState=n:We||(n=t.type,e=t.pendingProps,a=pr(ae.current).createElement(n),a[ft]=t,a[dt]=e,dn(a,n,e),qe(a),t.stateNode=a):t.memoizedState=gp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ye(t),e===null&&We&&(a=t.stateNode=hp(t.type,t.pendingProps,ae.current),rn=t,oa=!0,i=St,Jl(t.type)?(Hf=i,St=ua(a.firstChild)):St=i),fn(e,t,t.pendingProps.children,n),Wo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&We&&((i=a=St)&&(a=ev(a,t.type,t.pendingProps,oa),a!==null?(t.stateNode=a,rn=t,St=ua(a.firstChild),oa=!1,i=!0):i=!1),i||Ul(t)),Ye(t),i=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,a=c.children,Uf(i,c)?a=null:f!==null&&Uf(i,f)&&(t.flags|=32),t.memoizedState!==null&&(i=Ru(e,t,py,null,null,n),Vc._currentValue=i),Wo(e,t),fn(e,t,a,n),t.child;case 6:return e===null&&We&&((e=n=St)&&(n=tv(n,t.pendingProps,oa),n!==null?(t.stateNode=n,rn=t,St=null,e=!0):e=!1),e||Ul(t)),null;case 13:return nm(e,t,n);case 4:return Me(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ji(t,null,a,n):fn(e,t,a,n),t.child;case 11:return Qh(e,t,t.type,t.pendingProps,n);case 7:return fn(e,t,t.pendingProps,n),t.child;case 8:return fn(e,t,t.pendingProps.children,n),t.child;case 12:return fn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Ol(t,t.type,a.value),fn(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,wi(t),i=un(i),a=a(i),t.flags|=1,fn(e,t,a,n),t.child;case 14:return Jh(e,t,t.type,t.pendingProps,n);case 15:return Ih(e,t,t.type,t.pendingProps,n);case 19:return lm(e,t,n);case 31:return _y(e,t,n);case 22:return $h(e,t,n,t.pendingProps);case 24:return wi(t),a=un(Vt),e===null?(i=wu(),i===null&&(i=yt,c=xu(),i.pooledCache=c,c.refCount++,c!==null&&(i.pooledCacheLanes|=n),i=c),t.memoizedState={parent:a,cache:i},Nu(t),Ol(t,Vt,i)):((e.lanes&n)!==0&&(Eu(e,t),Nc(t,null,null,n),_c()),i=e.memoizedState,c=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ol(t,Vt,a)):(a=c.cache,Ol(t,Vt,a),a!==i.cache&&bu(t,[Vt],n,!0))),fn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function il(e){e.flags|=4}function cf(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Rm())e.flags|=8192;else throw Ei=Lo,_u}else e.flags&=-16777217}function sm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Sp(t))if(Rm())e.flags|=8192;else throw Ei=Lo,_u}function er(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zn():536870912,e.lanes|=t,hs|=t)}function kc(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ey(e,t,n){var a=t.pendingProps;switch(mu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return wt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),tl(Vt),Ue(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(es(t)?il(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,gu())),wt(t),null;case 26:var i=t.type,c=t.memoizedState;return e===null?(il(t),c!==null?(wt(t),sm(t,c)):(wt(t),cf(t,i,null,a,n))):c?c!==e.memoizedState?(il(t),wt(t),sm(t,c)):(wt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&il(t),wt(t),cf(t,i,e,a,n)),null;case 27:if(D(t),n=ae.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&il(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return wt(t),null}e=le.current,es(t)?Hd(t):(e=hp(i,a,n),t.stateNode=e,il(t))}return wt(t),null;case 5:if(D(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&il(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return wt(t),null}if(c=le.current,es(t))Hd(t);else{var f=pr(ae.current);switch(c){case 1:c=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:c=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":c=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":c=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":c=f.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof a.is=="string"?f.createElement("select",{is:a.is}):f.createElement("select"),a.multiple?c.multiple=!0:a.size&&(c.size=a.size);break;default:c=typeof a.is=="string"?f.createElement(i,{is:a.is}):f.createElement(i)}}c[ft]=t,c[dt]=a;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)c.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=c;e:switch(dn(c,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&il(t)}}return wt(t),cf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&il(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=ae.current,es(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=rn,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[ft]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||np(e.nodeValue,n)),e||Ul(t,!0)}else e=pr(e).createTextNode(a),e[ft]=t,t.stateNode=e}return wt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=es(t),n!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ft]=t}else xi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;wt(t),e=!1}else n=gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Wn(t),t):(Wn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return wt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=es(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[ft]=t}else xi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;wt(t),i=!1}else i=gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Wn(t),t):(Wn(t),null)}return Wn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),er(t,t.updateQueue),wt(t),null);case 4:return Ue(),e===null&&Af(t.stateNode.containerInfo),wt(t),null;case 10:return tl(t.type),wt(t),null;case 19:if(R(Ht),a=t.memoizedState,a===null)return wt(t),null;if(i=(t.flags&128)!==0,c=a.rendering,c===null)if(i)kc(a,!1);else{if(Ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Ko(e),c!==null){for(t.flags|=128,kc(a,!1),e=c.updateQueue,t.updateQueue=e,er(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)pc(n,e),n=n.sibling;return H(Ht,Ht.current&1|2),We&&Gt(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Je()>ir&&(t.flags|=128,i=!0,kc(a,!1),t.lanes=4194304)}else{if(!i)if(e=Ko(c),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,er(t,e),kc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!We)return wt(t),null}else 2*Je()-a.renderingStartTime>ir&&n!==536870912&&(t.flags|=128,i=!0,kc(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(e=a.last,e!==null?e.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Je(),e.sibling=null,n=Ht.current,H(Ht,i?n&1|2:n&1),We&&Gt(t,a.treeForkCount),e):(wt(t),null);case 22:case 23:return Wn(t),Au(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),n=t.updateQueue,n!==null&&er(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&R(_i),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),tl(Vt),wt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function jy(e,t){switch(mu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tl(Vt),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return D(t),null;case 31:if(t.memoizedState!==null){if(Wn(t),t.alternate===null)throw Error(r(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Wn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(Ht),null;case 4:return Ue(),null;case 10:return tl(t.type),null;case 22:case 23:return Wn(t),Au(),e!==null&&R(_i),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return tl(Vt),null;case 25:return null;default:return null}}function cm(e,t){switch(mu(t),t.tag){case 3:tl(Vt),Ue();break;case 26:case 27:case 5:D(t);break;case 4:Ue();break;case 31:t.memoizedState!==null&&Wn(t);break;case 13:Wn(t);break;case 19:R(Ht);break;case 10:tl(t.type);break;case 22:case 23:Wn(t),Au(),e!==null&&R(_i);break;case 24:tl(Vt)}}function Mc(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var c=n.create,f=n.inst;a=c(),f.destroy=a}n=n.next}while(n!==i)}}catch(g){ut(t,t.return,g)}}function Kl(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var c=i.next;a=c;do{if((a.tag&e)===e){var f=a.inst,g=f.destroy;if(g!==void 0){f.destroy=void 0,i=t;var _=n,L=g;try{L()}catch(Z){ut(i,_,Z)}}}a=a.next}while(a!==c)}}catch(Z){ut(t,t.return,Z)}}function om(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Wd(t,n)}catch(a){ut(e,e.return,a)}}}function rm(e,t,n){n.props=Ti(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){ut(e,t,a)}}function Rc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){ut(e,t,i)}}function La(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){ut(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){ut(e,t,i)}else n.current=null}function um(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){ut(e,e.return,i)}}function of(e,t,n){try{var a=e.stateNode;Jy(a,e.type,n,t),a[dt]=t}catch(i){ut(e,e.return,i)}}function fm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jl(e.type)||e.tag===4}function rf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uf(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sa));else if(a!==4&&(a===27&&Jl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(uf(e,t,n),e=e.sibling;e!==null;)uf(e,t,n),e=e.sibling}function tr(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Jl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(tr(e,t,n),e=e.sibling;e!==null;)tr(e,t,n),e=e.sibling}function dm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);dn(t,a,n),t[ft]=e,t[dt]=n}catch(c){ut(e,e.return,c)}}var sl=!1,Qt=!1,ff=!1,hm=typeof WeakSet=="function"?WeakSet:Set,an=null;function Cy(e,t){if(e=e.containerInfo,Rf=wr,e=Co(e),oc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var f=0,g=-1,_=-1,L=0,Z=0,I=e,q=null;t:for(;;){for(var G;I!==n||i!==0&&I.nodeType!==3||(g=f+i),I!==c||a!==0&&I.nodeType!==3||(_=f+a),I.nodeType===3&&(f+=I.nodeValue.length),(G=I.firstChild)!==null;)q=I,I=G;for(;;){if(I===e)break t;if(q===n&&++L===i&&(g=f),q===c&&++Z===a&&(_=f),(G=I.nextSibling)!==null)break;I=q,q=I.parentNode}I=G}n=g===-1||_===-1?null:{start:g,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(Df={focusedElem:e,selectionRange:n},wr=!1,an=t;an!==null;)if(t=an,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,an=e;else for(;an!==null;){switch(t=an,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,i=c.memoizedProps,c=c.memoizedState,a=n.stateNode;try{var we=Ti(n.type,i);e=a.getSnapshotBeforeUpdate(we,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(ke){ut(n,n.return,ke)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)zf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,an=e;break}an=t.return}}function mm(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ol(e,n),a&4&&Mc(5,n);break;case 1:if(ol(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){ut(n,n.return,f)}else{var i=Ti(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){ut(n,n.return,f)}}a&64&&om(n),a&512&&Rc(n,n.return);break;case 3:if(ol(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Wd(e,t)}catch(f){ut(n,n.return,f)}}break;case 27:t===null&&a&4&&dm(n);case 26:case 5:ol(e,n),t===null&&a&4&&um(n),a&512&&Rc(n,n.return);break;case 12:ol(e,n);break;case 31:ol(e,n),a&4&&ym(e,n);break;case 13:ol(e,n),a&4&&vm(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=zy.bind(null,n),nv(e,n))));break;case 22:if(a=n.memoizedState!==null||sl,!a){t=t!==null&&t.memoizedState!==null||Qt,i=sl;var c=Qt;sl=a,(Qt=t)&&!c?rl(e,n,(n.subtreeFlags&8772)!==0):ol(e,n),sl=i,Qt=c}break;case 30:break;default:ol(e,n)}}function pm(e){var t=e.alternate;t!==null&&(e.alternate=null,pm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&j(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Et=null,Ln=!1;function cl(e,t,n){for(n=n.child;n!==null;)gm(e,t,n),n=n.sibling}function gm(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Sn,n)}catch{}switch(n.tag){case 26:Qt||La(n,t),cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Qt||La(n,t);var a=Et,i=Ln;Jl(n.type)&&(Et=n.stateNode,Ln=!1),cl(e,t,n),Kc(n.stateNode),Et=a,Ln=i;break;case 5:Qt||La(n,t);case 6:if(a=Et,i=Ln,Et=null,cl(e,t,n),Et=a,Ln=i,Et!==null)if(Ln)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(n.stateNode)}catch(c){ut(n,t,c)}else try{Et.removeChild(n.stateNode)}catch(c){ut(n,t,c)}break;case 18:Et!==null&&(Ln?(e=Et,op(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ss(e)):op(Et,n.stateNode));break;case 4:a=Et,i=Ln,Et=n.stateNode.containerInfo,Ln=!0,cl(e,t,n),Et=a,Ln=i;break;case 0:case 11:case 14:case 15:Kl(2,n,t),Qt||Kl(4,n,t),cl(e,t,n);break;case 1:Qt||(La(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&rm(n,t,a)),cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:Qt=(a=Qt)||n.memoizedState!==null,cl(e,t,n),Qt=a;break;default:cl(e,t,n)}}function ym(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ss(e)}catch(n){ut(t,t.return,n)}}}function vm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ss(e)}catch(n){ut(t,t.return,n)}}function Ty(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hm),t;default:throw Error(r(435,e.tag))}}function nr(e,t){var n=Ty(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=Ly.bind(null,e,a);a.then(i,i)}})}function Bn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],c=e,f=t,g=f;e:for(;g!==null;){switch(g.tag){case 27:if(Jl(g.type)){Et=g.stateNode,Ln=!1;break e}break;case 5:Et=g.stateNode,Ln=!1;break e;case 3:case 4:Et=g.stateNode.containerInfo,Ln=!0;break e}g=g.return}if(Et===null)throw Error(r(160));gm(c,f,i),Et=null,Ln=!1,c=i.alternate,c!==null&&(c.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bm(t,e),t=t.sibling}var _a=null;function bm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bn(t,e),Hn(e),a&4&&(Kl(3,e,e.return),Mc(3,e),Kl(5,e,e.return));break;case 1:Bn(t,e),Hn(e),a&512&&(Qt||n===null||La(n,n.return)),a&64&&sl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=_a;if(Bn(t,e),Hn(e),a&512&&(Qt||n===null||La(n,n.return)),a&4){var c=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":c=i.getElementsByTagName("title")[0],(!c||c[xe]||c[ft]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=i.createElement(a),i.head.insertBefore(c,i.querySelector("head > title"))),dn(c,a,n),c[ft]=e,qe(c),a=c;break e;case"link":var f=bp("link","href",i).get(a+(n.href||""));if(f){for(var g=0;g<f.length;g++)if(c=f[g],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(g,1);break t}}c=i.createElement(a),dn(c,a,n),i.head.appendChild(c);break;case"meta":if(f=bp("meta","content",i).get(a+(n.content||""))){for(g=0;g<f.length;g++)if(c=f[g],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(g,1);break t}}c=i.createElement(a),dn(c,a,n),i.head.appendChild(c);break;default:throw Error(r(468,a))}c[ft]=e,qe(c),a=c}e.stateNode=a}else xp(i,e.type,e.stateNode);else e.stateNode=vp(i,a,e.memoizedProps);else c!==a?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,a===null?xp(i,e.type,e.stateNode):vp(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&of(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bn(t,e),Hn(e),a&512&&(Qt||n===null||La(n,n.return)),n!==null&&a&4&&of(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bn(t,e),Hn(e),a&512&&(Qt||n===null||La(n,n.return)),e.flags&32){i=e.stateNode;try{wl(i,"")}catch(we){ut(e,e.return,we)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,of(e,i,n!==null?n.memoizedProps:i)),a&1024&&(ff=!0);break;case 6:if(Bn(t,e),Hn(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(we){ut(e,e.return,we)}}break;case 3:if(vr=null,i=_a,_a=gr(t.containerInfo),Bn(t,e),_a=i,Hn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ss(t.containerInfo)}catch(we){ut(e,e.return,we)}ff&&(ff=!1,xm(e));break;case 4:a=_a,_a=gr(e.stateNode.containerInfo),Bn(t,e),Hn(e),_a=a;break;case 12:Bn(t,e),Hn(e);break;case 31:Bn(t,e),Hn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,nr(e,a)));break;case 13:Bn(t,e),Hn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(lr=Je()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,nr(e,a)));break;case 22:i=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,L=sl,Z=Qt;if(sl=L||i,Qt=Z||_,Bn(t,e),Qt=Z,sl=L,Hn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||_||sl||Qt||Ai(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(c=_.stateNode,i)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{g=_.stateNode;var I=_.memoizedProps.style,q=I!=null&&I.hasOwnProperty("display")?I.display:null;g.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(we){ut(_,_.return,we)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=i?"":_.memoizedProps}catch(we){ut(_,_.return,we)}}}else if(t.tag===18){if(n===null){_=t;try{var G=_.stateNode;i?rp(G,!0):rp(_.stateNode,!1)}catch(we){ut(_,_.return,we)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,nr(e,n))));break;case 19:Bn(t,e),Hn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,nr(e,a)));break;case 30:break;case 21:break;default:Bn(t,e),Hn(e)}}function Hn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(fm(a)){n=a;break}a=a.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var i=n.stateNode,c=rf(e);tr(e,c,i);break;case 5:var f=n.stateNode;n.flags&32&&(wl(f,""),n.flags&=-33);var g=rf(e);tr(e,g,f);break;case 3:case 4:var _=n.stateNode.containerInfo,L=rf(e);uf(e,L,_);break;default:throw Error(r(161))}}catch(Z){ut(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ol(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)mm(e,t.alternate,t),t=t.sibling}function Ai(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kl(4,t,t.return),Ai(t);break;case 1:La(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&rm(t,t.return,n),Ai(t);break;case 27:Kc(t.stateNode);case 26:case 5:La(t,t.return),Ai(t);break;case 22:t.memoizedState===null&&Ai(t);break;case 30:Ai(t);break;default:Ai(t)}e=e.sibling}}function rl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,c=t,f=c.flags;switch(c.tag){case 0:case 11:case 15:rl(i,c,n),Mc(4,c);break;case 1:if(rl(i,c,n),a=c,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(L){ut(a,a.return,L)}if(a=c,i=a.updateQueue,i!==null){var g=a.stateNode;try{var _=i.shared.hiddenCallbacks;if(_!==null)for(i.shared.hiddenCallbacks=null,i=0;i<_.length;i++)Fd(_[i],g)}catch(L){ut(a,a.return,L)}}n&&f&64&&om(c),Rc(c,c.return);break;case 27:dm(c);case 26:case 5:rl(i,c,n),n&&a===null&&f&4&&um(c),Rc(c,c.return);break;case 12:rl(i,c,n);break;case 31:rl(i,c,n),n&&f&4&&ym(i,c);break;case 13:rl(i,c,n),n&&f&4&&vm(i,c);break;case 22:c.memoizedState===null&&rl(i,c,n),Rc(c,c.return);break;case 30:break;default:rl(i,c,n)}t=t.sibling}}function df(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&vc(n))}function hf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vc(e))}function Na(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sm(e,t,n,a),t=t.sibling}function Sm(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Na(e,t,n,a),i&2048&&Mc(9,t);break;case 1:Na(e,t,n,a);break;case 3:Na(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vc(e)));break;case 12:if(i&2048){Na(e,t,n,a),e=t.stateNode;try{var c=t.memoizedProps,f=c.id,g=c.onPostCommit;typeof g=="function"&&g(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){ut(t,t.return,_)}}else Na(e,t,n,a);break;case 31:Na(e,t,n,a);break;case 13:Na(e,t,n,a);break;case 23:break;case 22:c=t.stateNode,f=t.alternate,t.memoizedState!==null?c._visibility&2?Na(e,t,n,a):Dc(e,t):c._visibility&2?Na(e,t,n,a):(c._visibility|=2,us(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&df(f,t);break;case 24:Na(e,t,n,a),i&2048&&hf(t.alternate,t);break;default:Na(e,t,n,a)}}function us(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,f=t,g=n,_=a,L=f.flags;switch(f.tag){case 0:case 11:case 15:us(c,f,g,_,i),Mc(8,f);break;case 23:break;case 22:var Z=f.stateNode;f.memoizedState!==null?Z._visibility&2?us(c,f,g,_,i):Dc(c,f):(Z._visibility|=2,us(c,f,g,_,i)),i&&L&2048&&df(f.alternate,f);break;case 24:us(c,f,g,_,i),i&&L&2048&&hf(f.alternate,f);break;default:us(c,f,g,_,i)}t=t.sibling}}function Dc(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Dc(n,a),i&2048&&df(a.alternate,a);break;case 24:Dc(n,a),i&2048&&hf(a.alternate,a);break;default:Dc(n,a)}t=t.sibling}}var Uc=8192;function fs(e,t,n){if(e.subtreeFlags&Uc)for(e=e.child;e!==null;)wm(e,t,n),e=e.sibling}function wm(e,t,n){switch(e.tag){case 26:fs(e,t,n),e.flags&Uc&&e.memoizedState!==null&&mv(n,_a,e.memoizedState,e.memoizedProps);break;case 5:fs(e,t,n);break;case 3:case 4:var a=_a;_a=gr(e.stateNode.containerInfo),fs(e,t,n),_a=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Uc,Uc=16777216,fs(e,t,n),Uc=a):fs(e,t,n));break;default:fs(e,t,n)}}function _m(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Oc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];an=a,Em(a,e)}_m(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nm(e),e=e.sibling}function Nm(e){switch(e.tag){case 0:case 11:case 15:Oc(e),e.flags&2048&&Kl(9,e,e.return);break;case 3:Oc(e);break;case 12:Oc(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ar(e)):Oc(e);break;default:Oc(e)}}function ar(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];an=a,Em(a,e)}_m(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kl(8,t,t.return),ar(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ar(t));break;default:ar(t)}e=e.sibling}}function Em(e,t){for(;an!==null;){var n=an;switch(n.tag){case 0:case 11:case 15:Kl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:vc(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,an=a;else e:for(n=e;an!==null;){a=an;var i=a.sibling,c=a.return;if(pm(a),a===n){an=null;break e}if(i!==null){i.return=c,an=i;break e}an=c}}}var Ay={getCacheForType:function(e){var t=un(Vt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return un(Vt).controller.signal}},ky=typeof WeakMap=="function"?WeakMap:Map,ot=0,yt=null,Ze=null,$e=0,rt=0,Pn=null,Yl=!1,ds=!1,mf=!1,ul=0,Ut=0,Gl=0,ki=0,pf=0,ea=0,hs=0,zc=null,qn=null,gf=!1,lr=0,jm=0,ir=1/0,sr=null,Vl=null,Ft=0,Zl=null,ms=null,fl=0,yf=0,vf=null,Cm=null,Lc=0,bf=null;function ta(){return(ot&2)!==0&&$e!==0?$e&-$e:N.T!==null?Ef():aa()}function Tm(){if(ea===0)if(($e&536870912)===0||We){var e=sn;sn<<=1,(sn&3932160)===0&&(sn=262144),ea=e}else ea=536870912;return e=Fn.current,e!==null&&(e.flags|=32),ea}function Kn(e,t,n){(e===yt&&(rt===2||rt===9)||e.cancelPendingCommit!==null)&&(ps(e,0),Xl(e,$e,ea,!1)),Dn(e,n),((ot&2)===0||e!==yt)&&(e===yt&&((ot&2)===0&&(ki|=n),Ut===4&&Xl(e,$e,ea,!1)),Ba(e))}function Am(e,t,n){if((ot&6)!==0)throw Error(r(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||pa(e,t),i=a?Dy(e,t):Sf(e,t,!0),c=a;do{if(i===0){ds&&!a&&Xl(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!My(n)){i=Sf(e,t,!1),c=!1;continue}if(i===2){if(c=t,e.errorRecoveryDisabledLanes&c)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var g=e;i=zc;var _=g.current.memoizedState.isDehydrated;if(_&&(ps(g,f).flags|=256),f=Sf(g,f,!1),f!==2){if(mf&&!_){g.errorRecoveryDisabledLanes|=c,ki|=c,i=4;break e}c=qn,qn=i,c!==null&&(qn===null?qn=c:qn.push.apply(qn,c))}i=f}if(c=!1,i!==2)continue}}if(i===1){ps(e,0),Xl(e,t,0,!0);break}e:{switch(a=e,c=i,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Xl(a,t,ea,!Yl);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=lr+300-Je(),10<i)){if(Xl(a,t,ea,!Yl),Nt(a,0,!0)!==0)break e;fl=t,a.timeoutHandle=sp(km.bind(null,a,n,qn,sr,gf,t,ea,ki,hs,Yl,c,"Throttled",-0,0),i);break e}km(a,n,qn,sr,gf,t,ea,ki,hs,Yl,c,null,-0,0)}}break}while(!0);Ba(e)}function km(e,t,n,a,i,c,f,g,_,L,Z,I,q,G){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},wm(t,c,I);var we=(c&62914560)===c?lr-Je():(c&4194048)===c?jm-Je():0;if(we=pv(I,we),we!==null){fl=c,e.cancelPendingCommit=we(Bm.bind(null,e,t,c,n,a,i,f,g,_,Z,I,null,q,G)),Xl(e,c,f,!L);return}}Bm(e,t,c,n,a,i,f,g,_)}function My(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],c=i.getSnapshot;i=i.value;try{if(!Nn(c(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xl(e,t,n,a){t&=~pf,t&=~ki,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var c=31-Tt(i),f=1<<c;a[c]=-1,i&=~f}n!==0&&ga(e,n,t)}function cr(){return(ot&6)===0?(Bc(0),!1):!0}function xf(){if(Ze!==null){if(rt===0)var e=Ze.return;else e=Ze,el=Si=null,Ou(e),is=null,xc=0,e=Ze;for(;e!==null;)cm(e.alternate,e),e=e.return;Ze=null}}function ps(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Fy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),fl=0,xf(),yt=e,Ze=n=ca(e.current,null),$e=t,rt=0,Pn=null,Yl=!1,ds=pa(e,t),mf=!1,hs=ea=pf=ki=Gl=Ut=0,qn=zc=null,gf=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Tt(a),c=1<<i;t|=e[i],a&=~c}return ul=t,gi(),n}function Mm(e,t){He=null,N.H=Tc,t===ls||t===zo?(t=Qd(),rt=3):t===_u?(t=Qd(),rt=4):rt=t===Fu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pn=t,Ze===null&&(Ut=1,$o(e,F(t,e.current)))}function Rm(){var e=Fn.current;return e===null?!0:($e&4194048)===$e?ra===null:($e&62914560)===$e||($e&536870912)!==0?e===ra:!1}function Dm(){var e=N.H;return N.H=Tc,e===null?Tc:e}function Um(){var e=N.A;return N.A=Ay,e}function or(){Ut=4,Yl||($e&4194048)!==$e&&Fn.current!==null||(ds=!0),(Gl&134217727)===0&&(ki&134217727)===0||yt===null||Xl(yt,$e,ea,!1)}function Sf(e,t,n){var a=ot;ot|=2;var i=Dm(),c=Um();(yt!==e||$e!==t)&&(sr=null,ps(e,t)),t=!1;var f=Ut;e:do try{if(rt!==0&&Ze!==null){var g=Ze,_=Pn;switch(rt){case 8:xf(),f=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(t=!0);var L=rt;if(rt=0,Pn=null,gs(e,g,_,L),n&&ds){f=0;break e}break;default:L=rt,rt=0,Pn=null,gs(e,g,_,L)}}Ry(),f=Ut;break}catch(Z){Mm(e,Z)}while(!0);return t&&e.shellSuspendCounter++,el=Si=null,ot=a,N.H=i,N.A=c,Ze===null&&(yt=null,$e=0,gi()),f}function Ry(){for(;Ze!==null;)Om(Ze)}function Dy(e,t){var n=ot;ot|=2;var a=Dm(),i=Um();yt!==e||$e!==t?(sr=null,ir=Je()+500,ps(e,t)):ds=pa(e,t);e:do try{if(rt!==0&&Ze!==null){t=Ze;var c=Pn;t:switch(rt){case 1:rt=0,Pn=null,gs(e,t,c,1);break;case 2:case 9:if(Zd(c)){rt=0,Pn=null,zm(t);break}t=function(){rt!==2&&rt!==9||yt!==e||(rt=7),Ba(e)},c.then(t,t);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Zd(c)?(rt=0,Pn=null,zm(t)):(rt=0,Pn=null,gs(e,t,c,7));break;case 5:var f=null;switch(Ze.tag){case 26:f=Ze.memoizedState;case 5:case 27:var g=Ze;if(f?Sp(f):g.stateNode.complete){rt=0,Pn=null;var _=g.sibling;if(_!==null)Ze=_;else{var L=g.return;L!==null?(Ze=L,rr(L)):Ze=null}break t}}rt=0,Pn=null,gs(e,t,c,5);break;case 6:rt=0,Pn=null,gs(e,t,c,6);break;case 8:xf(),Ut=6;break e;default:throw Error(r(462))}}Uy();break}catch(Z){Mm(e,Z)}while(!0);return el=Si=null,N.H=a,N.A=i,ot=n,Ze!==null?0:(yt=null,$e=0,gi(),Ut)}function Uy(){for(;Ze!==null&&!re();)Om(Ze)}function Om(e){var t=im(e.alternate,e,ul);e.memoizedProps=e.pendingProps,t===null?rr(e):Ze=t}function zm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ph(n,t,t.pendingProps,t.type,void 0,$e);break;case 11:t=Ph(n,t,t.pendingProps,t.type.render,t.ref,$e);break;case 5:Ou(t);default:cm(n,t),t=Ze=pc(t,ul),t=im(n,t,ul)}e.memoizedProps=e.pendingProps,t===null?rr(e):Ze=t}function gs(e,t,n,a){el=Si=null,Ou(t),is=null,xc=0;var i=t.return;try{if(wy(e,i,t,n,$e)){Ut=1,$o(e,F(n,e.current)),Ze=null;return}}catch(c){if(i!==null)throw Ze=i,c;Ut=1,$o(e,F(n,e.current)),Ze=null;return}t.flags&32768?(We||a===1?e=!0:ds||($e&536870912)!==0?e=!1:(Yl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Fn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Lm(t,e)):rr(t)}function rr(e){var t=e;do{if((t.flags&32768)!==0){Lm(t,Yl);return}e=t.return;var n=Ey(t.alternate,t,ul);if(n!==null){Ze=n;return}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);Ut===0&&(Ut=5)}function Lm(e,t){do{var n=jy(e.alternate,e);if(n!==null){n.flags&=32767,Ze=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ze=e;return}Ze=e=n}while(e!==null);Ut=6,Ze=null}function Bm(e,t,n,a,i,c,f,g,_){e.cancelPendingCommit=null;do ur();while(Ft!==0);if((ot&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Wi,It(e,n,c,f,g,_),e===yt&&(Ze=yt=null,$e=0),ms=t,Zl=e,fl=n,yf=c,vf=i,Cm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,By(Pt,function(){return Gm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=N.T,N.T=null,i=K.p,K.p=2,f=ot,ot|=4;try{Cy(e,t,n)}finally{ot=f,K.p=i,N.T=a}}Ft=1,Hm(),qm(),Km()}}function Hm(){if(Ft===1){Ft=0;var e=Zl,t=ms,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=N.T,N.T=null;var a=K.p;K.p=2;var i=ot;ot|=4;try{bm(t,e);var c=Df,f=Co(e.containerInfo),g=c.focusedElem,_=c.selectionRange;if(f!==g&&g&&g.ownerDocument&&cc(g.ownerDocument.documentElement,g)){if(_!==null&&oc(g)){var L=_.start,Z=_.end;if(Z===void 0&&(Z=L),"selectionStart"in g)g.selectionStart=L,g.selectionEnd=Math.min(Z,g.value.length);else{var I=g.ownerDocument||document,q=I&&I.defaultView||window;if(q.getSelection){var G=q.getSelection(),we=g.textContent.length,ke=Math.min(_.start,we),pt=_.end===void 0?ke:Math.min(_.end,we);!G.extend&&ke>pt&&(f=pt,pt=ke,ke=f);var k=sc(g,ke),C=sc(g,pt);if(k&&C&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==C.node||G.focusOffset!==C.offset)){var z=I.createRange();z.setStart(k.node,k.offset),G.removeAllRanges(),ke>pt?(G.addRange(z),G.extend(C.node,C.offset)):(z.setEnd(C.node,C.offset),G.addRange(z))}}}}for(I=[],G=g;G=G.parentNode;)G.nodeType===1&&I.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<I.length;g++){var J=I[g];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}wr=!!Rf,Df=Rf=null}finally{ot=i,K.p=a,N.T=n}}e.current=t,Ft=2}}function qm(){if(Ft===2){Ft=0;var e=Zl,t=ms,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=N.T,N.T=null;var a=K.p;K.p=2;var i=ot;ot|=4;try{mm(e,t.alternate,t)}finally{ot=i,K.p=a,N.T=n}}Ft=3}}function Km(){if(Ft===4||Ft===3){Ft=0,Qe();var e=Zl,t=ms,n=fl,a=Cm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ft=5:(Ft=0,ms=Zl=null,Ym(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Vl=null),en(n),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Sn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=N.T,i=K.p,K.p=2,N.T=null;try{for(var c=e.onRecoverableError,f=0;f<a.length;f++){var g=a[f];c(g.value,{componentStack:g.stack})}}finally{N.T=t,K.p=i}}(fl&3)!==0&&ur(),Ba(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===bf?Lc++:(Lc=0,bf=e):Lc=0,Bc(0)}}function Ym(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vc(t)))}function ur(){return Hm(),qm(),Km(),Gm()}function Gm(){if(Ft!==5)return!1;var e=Zl,t=yf;yf=0;var n=en(fl),a=N.T,i=K.p;try{K.p=32>n?32:n,N.T=null,n=vf,vf=null;var c=Zl,f=fl;if(Ft=0,ms=Zl=null,fl=0,(ot&6)!==0)throw Error(r(331));var g=ot;if(ot|=4,Nm(c.current),Sm(c,c.current,f,n),ot=g,Bc(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Sn,c)}catch{}return!0}finally{K.p=i,N.T=a,Ym(e,t)}}function Vm(e,t,n){t=F(n,t),t=$u(e.stateNode,t,2),e=Bl(e,t,2),e!==null&&(Dn(e,2),Ba(e))}function ut(e,t,n){if(e.tag===3)Vm(e,e,n);else for(;t!==null;){if(t.tag===3){Vm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Vl===null||!Vl.has(a))){e=F(n,e),n=Zh(2),a=Bl(t,n,2),a!==null&&(Xh(n,a,t,e),Dn(a,2),Ba(a));break}}t=t.return}}function wf(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new ky;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(mf=!0,i.add(n),e=Oy.bind(null,e,t,n),t.then(e,e))}function Oy(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,yt===e&&($e&n)===n&&(Ut===4||Ut===3&&($e&62914560)===$e&&300>Je()-lr?(ot&2)===0&&ps(e,0):pf|=n,hs===$e&&(hs=0)),Ba(e)}function Zm(e,t){t===0&&(t=Zn()),e=vn(e,t),e!==null&&(Dn(e,t),Ba(e))}function zy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zm(e,n)}function Ly(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),Zm(e,n)}function By(e,t){return Vn(e,t)}var fr=null,ys=null,_f=!1,dr=!1,Nf=!1,Ql=0;function Ba(e){e!==ys&&e.next===null&&(ys===null?fr=ys=e:ys=ys.next=e),dr=!0,_f||(_f=!0,qy())}function Bc(e,t){if(!Nf&&dr){Nf=!0;do for(var n=!1,a=fr;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var c=0;else{var f=a.suspendedLanes,g=a.pingedLanes;c=(1<<31-Tt(42|e)+1)-1,c&=i&~(f&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,Im(a,c))}else c=$e,c=Nt(a,a===yt?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||pa(a,c)||(n=!0,Im(a,c));a=a.next}while(n);Nf=!1}}function Hy(){Xm()}function Xm(){dr=_f=!1;var e=0;Ql!==0&&$y()&&(e=Ql);for(var t=Je(),n=null,a=fr;a!==null;){var i=a.next,c=Qm(a,t);c===0?(a.next=null,n===null?fr=i:n.next=i,i===null&&(ys=n)):(n=a,(e!==0||(c&3)!==0)&&(dr=!0)),a=i}Ft!==0&&Ft!==5||Bc(e),Ql!==0&&(Ql=0)}function Qm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var f=31-Tt(c),g=1<<f,_=i[f];_===-1?((g&n)===0||(g&a)!==0)&&(i[f]=et(g,t)):_<=t&&(e.expiredLanes|=g),c&=~g}if(t=yt,n=$e,n=Nt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(rt===2||rt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&kn(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||pa(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&kn(a),en(n)){case 2:case 8:n=it;break;case 32:n=Pt;break;case 268435456:n=$;break;default:n=Pt}return a=Jm.bind(null,e),n=Vn(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&kn(a),e.callbackPriority=2,e.callbackNode=null,2}function Jm(e,t){if(Ft!==0&&Ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ur()&&e.callbackNode!==n)return null;var a=$e;return a=Nt(e,e===yt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Am(e,a,t),Qm(e,Je()),e.callbackNode!=null&&e.callbackNode===n?Jm.bind(null,e):null)}function Im(e,t){if(ur())return null;Am(e,t,!0)}function qy(){Wy(function(){(ot&6)!==0?Vn(Wt,Hy):Xm()})}function Ef(){if(Ql===0){var e=ns;e===0&&(e=Re,Re<<=1,(Re&261888)===0&&(Re=256)),Ql=e}return Ql}function $m(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:va(""+e)}function Fm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Ky(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var c=$m((i[dt]||null).action),f=a.submitter;f&&(t=(t=f[dt]||null)?$m(t.formAction):f.getAttribute("formAction"),t!==null&&(c=t,f=null));var g=new jl("action","action",null,a,i);e.push({event:g,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ql!==0){var _=f?Fm(i,f):new FormData(i);Vu(n,{pending:!0,data:_,method:i.method,action:c},null,_)}}else typeof c=="function"&&(g.preventDefault(),_=f?Fm(i,f):new FormData(i),Vu(n,{pending:!0,data:_,method:i.method,action:c},c,_))},currentTarget:i}]})}}for(var jf=0;jf<hc.length;jf++){var Cf=hc[jf],Yy=Cf.toLowerCase(),Gy=Cf[0].toUpperCase()+Cf.slice(1);$n(Yy,"on"+Gy)}$n(uc,"onAnimationEnd"),$n(To,"onAnimationIteration"),$n(fc,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(fu,"onTransitionRun"),$n(dc,"onTransitionStart"),$n(du,"onTransitionCancel"),$n(Ao,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hc));function Wm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var f=a.length-1;0<=f;f--){var g=a[f],_=g.instance,L=g.currentTarget;if(g=g.listener,_!==c&&i.isPropagationStopped())break e;c=g,i.currentTarget=L;try{c(i)}catch(Z){pi(Z)}i.currentTarget=null,c=_}else for(f=0;f<a.length;f++){if(g=a[f],_=g.instance,L=g.currentTarget,g=g.listener,_!==c&&i.isPropagationStopped())break e;c=g,i.currentTarget=L;try{c(i)}catch(Z){pi(Z)}i.currentTarget=null,c=_}}}}function Xe(e,t){var n=t[Un];n===void 0&&(n=t[Un]=new Set);var a=e+"__bubble";n.has(a)||(Pm(t,e,2,!1),n.add(a))}function Tf(e,t,n){var a=0;t&&(a|=4),Pm(n,e,a,t)}var hr="_reactListening"+Math.random().toString(36).slice(2);function Af(e){if(!e[hr]){e[hr]=!0,Lt.forEach(function(n){n!=="selectionchange"&&(Vy.has(n)||Tf(n,!1,e),Tf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hr]||(t[hr]=!0,Tf("selectionchange",!1,t))}}function Pm(e,t,n,a){switch(Tp(t)){case 2:var i=vv;break;case 8:i=bv;break;default:i=Vf}n=i.bind(null,t,n,e),i=void 0,!ci||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function kf(e,t,n,a,i){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var f=a.tag;if(f===3||f===4){var g=a.stateNode.containerInfo;if(g===i)break;if(f===4)for(f=a.return;f!==null;){var _=f.tag;if((_===3||_===4)&&f.stateNode.containerInfo===i)return;f=f.return}for(;g!==null;){if(f=ee(g),f===null)return;if(_=f.tag,_===5||_===6||_===26||_===27){a=c=f;continue e}g=g.parentNode}}a=a.return}zs(function(){var L=c,Z=Os(n),I=[];e:{var q=ko.get(e);if(q!==void 0){var G=jl,we=e;switch(e){case"keypress":if(El(n)===0)break e;case"keydown":case"keyup":G=go;break;case"focusin":we="focus",G=fi;break;case"focusout":we="blur",G=fi;break;case"beforeblur":case"afterblur":G=fi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Hs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=vo;break;case uc:case To:case fc:G=Vi;break;case Ao:G=bo;break;case"scroll":case"scrollend":G=Cl;break;case"wheel":G=xo;break;case"copy":case"cut":case"paste":G=di;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=yo;break;case"toggle":case"beforetoggle":G=Bt}var ke=(t&4)!==0,pt=!ke&&(e==="scroll"||e==="scrollend"),k=ke?q!==null?q+"Capture":null:q;ke=[];for(var C=L,z;C!==null;){var J=C;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||k===null||(J=ka(C,k),J!=null&&ke.push(qc(C,J,z))),pt)break;C=C.return}0<ke.length&&(q=new G(q,we,null,n,Z),I.push({event:q,listeners:ke}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",q&&n!==Rt&&(we=n.relatedTarget||n.fromElement)&&(ee(we)||we[pn]))break e;if((G||q)&&(q=Z.window===Z?Z:(q=Z.ownerDocument)?q.defaultView||q.parentWindow:window,G?(we=n.relatedTarget||n.toElement,G=L,we=we?ee(we):null,we!==null&&(pt=m(we),ke=we.tag,we!==pt||ke!==5&&ke!==27&&ke!==6)&&(we=null)):(G=null,we=L),G!==we)){if(ke=Bs,J="onMouseLeave",k="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(ke=yo,J="onPointerLeave",k="onPointerEnter",C="pointer"),pt=G==null?q:Ve(G),z=we==null?q:Ve(we),q=new ke(J,C+"leave",G,n,Z),q.target=pt,q.relatedTarget=z,J=null,ee(Z)===L&&(ke=new ke(k,C+"enter",we,n,Z),ke.target=z,ke.relatedTarget=pt,J=ke),pt=J,G&&we)t:{for(ke=Zy,k=G,C=we,z=0,J=k;J;J=ke(J))z++;J=0;for(var Ce=C;Ce;Ce=ke(Ce))J++;for(;0<z-J;)k=ke(k),z--;for(;0<J-z;)C=ke(C),J--;for(;z--;){if(k===C||C!==null&&k===C.alternate){ke=k;break t}k=ke(k),C=ke(C)}ke=null}else ke=null;G!==null&&ep(I,q,G,ke,!1),we!==null&&pt!==null&&ep(I,pt,we,ke,!0)}}e:{if(q=L?Ve(L):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var st=Ps;else if(Ws(q))if(_o)st=ic;else{st=lc;var _e=ac}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?L&&Ja(L.elementType)&&(st=Ps):st=Eo;if(st&&(st=st(e,L))){Da(I,st,n,Z);break e}_e&&_e(e,q,L),e==="focusout"&&L&&q.type==="number"&&L.memoizedProps.value!=null&&Rs(q,"number",q.value)}switch(_e=L?Ve(L):window,e){case"focusin":(Ws(_e)||_e.contentEditable==="true")&&(Fa=_e,Ji=L,Ua=null);break;case"focusout":Ua=Ji=Fa=null;break;case"mousedown":Ii=!0;break;case"contextmenu":case"mouseup":case"dragend":Ii=!1,rc(I,n,Z);break;case"selectionchange":if(uu)break;case"keydown":case"keyup":rc(I,n,Z)}var Ke;if(Qi)e:{switch(e){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else xa?Is(e,n)&&(Fe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Fe="onCompositionStart");Fe&&(Qs&&n.locale!=="ko"&&(xa||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&xa&&(Ke=oi()):(ba=Z,Ki="value"in ba?ba.value:ba.textContent,xa=!0)),_e=mr(L,Fe),0<_e.length&&(Fe=new Ys(Fe,e,null,n,Z),I.push({event:Fe,listeners:_e}),Ke?Fe.data=Ke:(Ke=$s(n),Ke!==null&&(Fe.data=Ke)))),(Ke=So?Fs(e,n):Qn(e,n))&&(Fe=mr(L,"onBeforeInput"),0<Fe.length&&(_e=new Ys("onBeforeInput","beforeinput",null,n,Z),I.push({event:_e,listeners:Fe}),_e.data=Ke)),Ky(I,e,L,n,Z)}Wm(I,t)})}function qc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mr(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,c=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||c===null||(i=ka(e,n),i!=null&&a.unshift(qc(e,i,c)),i=ka(e,t),i!=null&&a.push(qc(e,i,c))),e.tag===3)return a;e=e.return}return[]}function Zy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ep(e,t,n,a,i){for(var c=t._reactName,f=[];n!==null&&n!==a;){var g=n,_=g.alternate,L=g.stateNode;if(g=g.tag,_!==null&&_===a)break;g!==5&&g!==26&&g!==27||L===null||(_=L,i?(L=ka(n,c),L!=null&&f.unshift(qc(n,L,_))):i||(L=ka(n,c),L!=null&&f.push(qc(n,L,_)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var Xy=/\r\n?/g,Qy=/\u0000|\uFFFD/g;function tp(e){return(typeof e=="string"?e:""+e).replace(Xy,`
`).replace(Qy,"")}function np(e,t){return t=tp(t),tp(e)===t}function mt(e,t,n,a,i,c){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||wl(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&wl(e,""+a);break;case"className":ii(e,"class",a);break;case"tabIndex":ii(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(e,n,a);break;case"style":ho(e,a,c);break;case"data":if(t!=="object"){ii(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=va(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&mt(e,t,"name",i.name,i,null),mt(e,t,"formEncType",i.formEncType,i,null),mt(e,t,"formMethod",i.formMethod,i,null),mt(e,t,"formTarget",i.formTarget,i,null)):(mt(e,t,"encType",i.encType,i,null),mt(e,t,"method",i.method,i,null),mt(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=va(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=sa);break;case"onScroll":a!=null&&Xe("scroll",e);break;case"onScrollEnd":a!=null&&Xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=va(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Xe("beforetoggle",e),Xe("toggle",e),Sl(e,"popover",a);break;case"xlinkActuate":Mt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Mt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Mt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Mt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Mt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Mt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Mt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Mt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Mt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Sl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Us.get(n)||n,Sl(e,n,a))}}function Mf(e,t,n,a,i,c){switch(n){case"style":ho(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof a=="string"?wl(e,a):(typeof a=="number"||typeof a=="bigint")&&wl(e,""+a);break;case"onScroll":a!=null&&Xe("scroll",e);break;case"onScrollEnd":a!=null&&Xe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gn.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),c=e[dt]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,i),typeof a=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Sl(e,n,a)}}}function dn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",e),Xe("load",e);var a=!1,i=!1,c;for(c in n)if(n.hasOwnProperty(c)){var f=n[c];if(f!=null)switch(c){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:mt(e,t,c,f,n,null)}}i&&mt(e,t,"srcSet",n.srcSet,n,null),a&&mt(e,t,"src",n.src,n,null);return;case"input":Xe("invalid",e);var g=c=f=i=null,_=null,L=null;for(a in n)if(n.hasOwnProperty(a)){var Z=n[a];if(Z!=null)switch(a){case"name":i=Z;break;case"type":f=Z;break;case"checked":_=Z;break;case"defaultChecked":L=Z;break;case"value":c=Z;break;case"defaultValue":g=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,t));break;default:mt(e,t,a,Z,n,null)}}Ms(e,c,g,_,L,f,i,!1);return;case"select":Xe("invalid",e),a=f=c=null;for(i in n)if(n.hasOwnProperty(i)&&(g=n[i],g!=null))switch(i){case"value":c=g;break;case"defaultValue":f=g;break;case"multiple":a=g;default:mt(e,t,i,g,n,null)}t=c,n=f,e.multiple=!!a,t!=null?Qa(e,!!a,t,!1):n!=null&&Qa(e,!!a,n,!0);return;case"textarea":Xe("invalid",e),c=i=a=null;for(f in n)if(n.hasOwnProperty(f)&&(g=n[f],g!=null))switch(f){case"value":a=g;break;case"defaultValue":i=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:mt(e,t,f,g,n,null)}fo(e,a,i,c);return;case"option":for(_ in n)if(n.hasOwnProperty(_)&&(a=n[_],a!=null))switch(_){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:mt(e,t,_,a,n,null)}return;case"dialog":Xe("beforetoggle",e),Xe("toggle",e),Xe("cancel",e),Xe("close",e);break;case"iframe":case"object":Xe("load",e);break;case"video":case"audio":for(a=0;a<Hc.length;a++)Xe(Hc[a],e);break;case"image":Xe("error",e),Xe("load",e);break;case"details":Xe("toggle",e);break;case"embed":case"source":case"link":Xe("error",e),Xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in n)if(n.hasOwnProperty(L)&&(a=n[L],a!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:mt(e,t,L,a,n,null)}return;default:if(Ja(t)){for(Z in n)n.hasOwnProperty(Z)&&(a=n[Z],a!==void 0&&Mf(e,t,Z,a,n,void 0));return}}for(g in n)n.hasOwnProperty(g)&&(a=n[g],a!=null&&mt(e,t,g,a,n,null))}function Jy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,c=null,f=null,g=null,_=null,L=null,Z=null;for(G in n){var I=n[G];if(n.hasOwnProperty(G)&&I!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":_=I;default:a.hasOwnProperty(G)||mt(e,t,G,null,a,I)}}for(var q in a){var G=a[q];if(I=n[q],a.hasOwnProperty(q)&&(G!=null||I!=null))switch(q){case"type":c=G;break;case"name":i=G;break;case"checked":L=G;break;case"defaultChecked":Z=G;break;case"value":f=G;break;case"defaultValue":g=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,t));break;default:G!==I&&mt(e,t,q,G,a,I)}}Li(e,f,g,_,L,Z,c,i);return;case"select":G=f=g=q=null;for(c in n)if(_=n[c],n.hasOwnProperty(c)&&_!=null)switch(c){case"value":break;case"multiple":G=_;default:a.hasOwnProperty(c)||mt(e,t,c,null,a,_)}for(i in a)if(c=a[i],_=n[i],a.hasOwnProperty(i)&&(c!=null||_!=null))switch(i){case"value":q=c;break;case"defaultValue":g=c;break;case"multiple":f=c;default:c!==_&&mt(e,t,i,c,a,_)}t=g,n=f,a=G,q!=null?Qa(e,!!n,q,!1):!!a!=!!n&&(t!=null?Qa(e,!!n,t,!0):Qa(e,!!n,n?[]:"",!1));return;case"textarea":G=q=null;for(g in n)if(i=n[g],n.hasOwnProperty(g)&&i!=null&&!a.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:mt(e,t,g,null,a,i)}for(f in a)if(i=a[f],c=n[f],a.hasOwnProperty(f)&&(i!=null||c!=null))switch(f){case"value":q=i;break;case"defaultValue":G=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==c&&mt(e,t,f,i,a,c)}uo(e,q,G);return;case"option":for(var we in n)if(q=n[we],n.hasOwnProperty(we)&&q!=null&&!a.hasOwnProperty(we))switch(we){case"selected":e.selected=!1;break;default:mt(e,t,we,null,a,q)}for(_ in a)if(q=a[_],G=n[_],a.hasOwnProperty(_)&&q!==G&&(q!=null||G!=null))switch(_){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:mt(e,t,_,q,a,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in n)q=n[ke],n.hasOwnProperty(ke)&&q!=null&&!a.hasOwnProperty(ke)&&mt(e,t,ke,null,a,q);for(L in a)if(q=a[L],G=n[L],a.hasOwnProperty(L)&&q!==G&&(q!=null||G!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,t));break;default:mt(e,t,L,q,a,G)}return;default:if(Ja(t)){for(var pt in n)q=n[pt],n.hasOwnProperty(pt)&&q!==void 0&&!a.hasOwnProperty(pt)&&Mf(e,t,pt,void 0,a,q);for(Z in a)q=a[Z],G=n[Z],!a.hasOwnProperty(Z)||q===G||q===void 0&&G===void 0||Mf(e,t,Z,q,a,G);return}}for(var k in n)q=n[k],n.hasOwnProperty(k)&&q!=null&&!a.hasOwnProperty(k)&&mt(e,t,k,null,a,q);for(I in a)q=a[I],G=n[I],!a.hasOwnProperty(I)||q===G||q==null&&G==null||mt(e,t,I,q,a,G)}function ap(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Iy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],c=i.transferSize,f=i.initiatorType,g=i.duration;if(c&&g&&ap(f)){for(f=0,g=i.responseEnd,a+=1;a<n.length;a++){var _=n[a],L=_.startTime;if(L>g)break;var Z=_.transferSize,I=_.initiatorType;Z&&ap(I)&&(_=_.responseEnd,f+=Z*(_<g?1:(g-L)/(_-L)))}if(--a,t+=8*(c+f)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rf=null,Df=null;function pr(e){return e.nodeType===9?e:e.ownerDocument}function lp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ip(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Uf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Of=null;function $y(){var e=window.event;return e&&e.type==="popstate"?e===Of?!1:(Of=e,!0):(Of=null,!1)}var sp=typeof setTimeout=="function"?setTimeout:void 0,Fy=typeof clearTimeout=="function"?clearTimeout:void 0,cp=typeof Promise=="function"?Promise:void 0,Wy=typeof queueMicrotask=="function"?queueMicrotask:typeof cp<"u"?function(e){return cp.resolve(null).then(e).catch(Py)}:sp;function Py(e){setTimeout(function(){throw e})}function Jl(e){return e==="head"}function op(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Ss(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Kc(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Kc(n);for(var c=n.firstChild;c;){var f=c.nextSibling,g=c.nodeName;c[xe]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=f}}else n==="body"&&Kc(e.ownerDocument.body);n=i}while(n);Ss(t)}function rp(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function zf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":zf(n),j(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ev(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[xe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=ua(e.nextSibling),e===null)break}return null}function tv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ua(e.nextSibling),e===null))return null;return e}function up(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ua(e.nextSibling),e===null))return null;return e}function Lf(e){return e.data==="$?"||e.data==="$~"}function Bf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function ua(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Hf=null;function fp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ua(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function dp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function hp(e,t,n){switch(t=pr(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Kc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);j(e)}var fa=new Map,mp=new Set;function gr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var dl=K.d;K.d={f:av,r:lv,D:iv,C:sv,L:cv,m:ov,X:uv,S:rv,M:fv};function av(){var e=dl.f(),t=cr();return e||t}function lv(e){var t=ge(e);t!==null&&t.tag===5&&t.type==="form"?Mh(t):dl.r(e)}var vs=typeof document>"u"?null:document;function pp(e,t,n){var a=vs;if(a&&typeof t=="string"&&t){var i=On(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),mp.has(i)||(mp.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),dn(t,"link",e),qe(t),a.head.appendChild(t)))}}function iv(e){dl.D(e),pp("dns-prefetch",e,null)}function sv(e,t){dl.C(e,t),pp("preconnect",e,t)}function cv(e,t,n){dl.L(e,t,n);var a=vs;if(a&&e&&t){var i='link[rel="preload"][as="'+On(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+On(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+On(n.imageSizes)+'"]')):i+='[href="'+On(e)+'"]';var c=i;switch(t){case"style":c=bs(e);break;case"script":c=xs(e)}fa.has(c)||(e=T({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),fa.set(c,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Yc(c))||t==="script"&&a.querySelector(Gc(c))||(t=a.createElement("link"),dn(t,"link",e),qe(t),a.head.appendChild(t)))}}function ov(e,t){dl.m(e,t);var n=vs;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+On(a)+'"][href="'+On(e)+'"]',c=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=xs(e)}if(!fa.has(c)&&(e=T({rel:"modulepreload",href:e},t),fa.set(c,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Gc(c)))return}a=n.createElement("link"),dn(a,"link",e),qe(a),n.head.appendChild(a)}}}function rv(e,t,n){dl.S(e,t,n);var a=vs;if(a&&e){var i=xt(a).hoistableStyles,c=bs(e);t=t||"default";var f=i.get(c);if(!f){var g={loading:0,preload:null};if(f=a.querySelector(Yc(c)))g.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},n),(n=fa.get(c))&&qf(e,n);var _=f=a.createElement("link");qe(_),dn(_,"link",e),_._p=new Promise(function(L,Z){_.onload=L,_.onerror=Z}),_.addEventListener("load",function(){g.loading|=1}),_.addEventListener("error",function(){g.loading|=2}),g.loading|=4,yr(f,t,a)}f={type:"stylesheet",instance:f,count:1,state:g},i.set(c,f)}}}function uv(e,t){dl.X(e,t);var n=vs;if(n&&e){var a=xt(n).hoistableScripts,i=xs(e),c=a.get(i);c||(c=n.querySelector(Gc(i)),c||(e=T({src:e,async:!0},t),(t=fa.get(i))&&Kf(e,t),c=n.createElement("script"),qe(c),dn(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(i,c))}}function fv(e,t){dl.M(e,t);var n=vs;if(n&&e){var a=xt(n).hoistableScripts,i=xs(e),c=a.get(i);c||(c=n.querySelector(Gc(i)),c||(e=T({src:e,async:!0,type:"module"},t),(t=fa.get(i))&&Kf(e,t),c=n.createElement("script"),qe(c),dn(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(i,c))}}function gp(e,t,n,a){var i=(i=ae.current)?gr(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=bs(n.href),n=xt(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=bs(n.href);var c=xt(i).hoistableStyles,f=c.get(e);if(f||(i=i.ownerDocument||i,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,f),(c=i.querySelector(Yc(e)))&&!c._p&&(f.instance=c,f.state.loading=5),fa.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},fa.set(e,n),c||dv(i,e,n,f.state))),t&&a===null)throw Error(r(528,""));return f}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xs(n),n=xt(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function bs(e){return'href="'+On(e)+'"'}function Yc(e){return'link[rel="stylesheet"]['+e+"]"}function yp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function dv(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),dn(t,"link",n),qe(t),e.head.appendChild(t))}function xs(e){return'[src="'+On(e)+'"]'}function Gc(e){return"script[async]"+e}function vp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+On(n.href)+'"]');if(a)return t.instance=a,qe(a),a;var i=T({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),qe(a),dn(a,"style",i),yr(a,n.precedence,e),t.instance=a;case"stylesheet":i=bs(n.href);var c=e.querySelector(Yc(i));if(c)return t.state.loading|=4,t.instance=c,qe(c),c;a=yp(n),(i=fa.get(i))&&qf(a,i),c=(e.ownerDocument||e).createElement("link"),qe(c);var f=c;return f._p=new Promise(function(g,_){f.onload=g,f.onerror=_}),dn(c,"link",a),t.state.loading|=4,yr(c,n.precedence,e),t.instance=c;case"script":return c=xs(n.src),(i=e.querySelector(Gc(c)))?(t.instance=i,qe(i),i):(a=n,(i=fa.get(c))&&(a=T({},n),Kf(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),qe(i),dn(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,yr(a,n.precedence,e));return t.instance}function yr(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,c=i,f=0;f<a.length;f++){var g=a[f];if(g.dataset.precedence===t)c=g;else if(c!==i)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function qf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Kf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var vr=null;function bp(e,t,n){if(vr===null){var a=new Map,i=vr=new Map;i.set(n,a)}else i=vr,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var c=n[i];if(!(c[xe]||c[ft]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var f=c.getAttribute(t)||"";f=e+f;var g=a.get(f);g?g.push(c):a.set(f,[c])}}return a}function xp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function hv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Sp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mv(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=bs(a.href),c=t.querySelector(Yc(i));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=br.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=c,qe(c);return}c=t.ownerDocument||t,a=yp(a),(i=fa.get(i))&&qf(a,i),c=c.createElement("link"),qe(c);var f=c;f._p=new Promise(function(g,_){f.onload=g,f.onerror=_}),dn(c,"link",a),n.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=br.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Yf=0;function pv(e,t){return e.stylesheets&&e.count===0&&Sr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Sr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Yf===0&&(Yf=62500*Iy());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Yf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function br(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xr=null;function Sr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xr=new Map,t.forEach(gv,e),xr=null,br.call(e))}function gv(e,t){if(!(t.state.loading&4)){var n=xr.get(e);if(n)var a=n.get(null);else{n=new Map,xr.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<i.length;c++){var f=i[c];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),a=f)}a&&n.set(null,a)}i=t.instance,f=i.getAttribute("data-precedence"),c=n.get(f)||a,c===a&&n.set(null,i),n.set(f,i),this.count++,a=br.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),c?c.parentNode.insertBefore(i,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Vc={$$typeof:de,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function yv(e,t,n,a,i,c,f,g,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wn(0),this.hiddenUpdates=wn(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=c,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function wp(e,t,n,a,i,c,f,g,_,L,Z,I){return e=new yv(e,t,n,f,_,L,Z,I,g),t=1,c===!0&&(t|=24),c=bn(3,null,null,t),e.current=c,c.stateNode=e,t=xu(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:n,cache:t},Nu(c),e}function _p(e){return e?(e=Pa,e):Pa}function Np(e,t,n,a,i,c){i=_p(i),a.context===null?a.context=i:a.pendingContext=i,a=Ll(t),a.payload={element:n},c=c===void 0?null:c,c!==null&&(a.callback=c),n=Bl(e,a,t),n!==null&&(Kn(n,e,t),wc(n,e,t))}function Ep(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gf(e,t){Ep(e,t),(e=e.alternate)&&Ep(e,t)}function jp(e){if(e.tag===13||e.tag===31){var t=vn(e,67108864);t!==null&&Kn(t,e,67108864),Gf(e,67108864)}}function Cp(e){if(e.tag===13||e.tag===31){var t=ta();t=Be(t);var n=vn(e,t);n!==null&&Kn(n,e,t),Gf(e,t)}}var wr=!0;function vv(e,t,n,a){var i=N.T;N.T=null;var c=K.p;try{K.p=2,Vf(e,t,n,a)}finally{K.p=c,N.T=i}}function bv(e,t,n,a){var i=N.T;N.T=null;var c=K.p;try{K.p=8,Vf(e,t,n,a)}finally{K.p=c,N.T=i}}function Vf(e,t,n,a){if(wr){var i=Zf(a);if(i===null)kf(e,t,a,_r,n),Ap(e,a);else if(Sv(i,e,t,n,a))a.stopPropagation();else if(Ap(e,a),t&4&&-1<xv.indexOf(e)){for(;i!==null;){var c=ge(i);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=mn(c.pendingLanes);if(f!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;f;){var _=1<<31-Tt(f);g.entanglements[1]|=_,f&=~_}Ba(c),(ot&6)===0&&(ir=Je()+500,Bc(0))}}break;case 31:case 13:g=vn(c,2),g!==null&&Kn(g,c,2),cr(),Gf(c,2)}if(c=Zf(a),c===null&&kf(e,t,a,_r,n),c===i)break;i=c}i!==null&&a.stopPropagation()}else kf(e,t,a,null,n)}}function Zf(e){return e=Os(e),Xf(e)}var _r=null;function Xf(e){if(_r=null,e=ee(e),e!==null){var t=m(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=p(t),e!==null)return e;e=null}else if(n===31){if(e=v(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _r=e,null}function Tp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kt()){case Wt:return 2;case it:return 8;case Pt:case gt:return 32;case $:return 268435456;default:return 32}default:return 32}}var Qf=!1,Il=null,$l=null,Fl=null,Zc=new Map,Xc=new Map,Wl=[],xv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ap(e,t){switch(e){case"focusin":case"focusout":Il=null;break;case"dragenter":case"dragleave":$l=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":Zc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(t.pointerId)}}function Qc(e,t,n,a,i,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:c,targetContainers:[i]},t!==null&&(t=ge(t),t!==null&&jp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Sv(e,t,n,a,i){switch(t){case"focusin":return Il=Qc(Il,e,t,n,a,i),!0;case"dragenter":return $l=Qc($l,e,t,n,a,i),!0;case"mouseover":return Fl=Qc(Fl,e,t,n,a,i),!0;case"pointerover":var c=i.pointerId;return Zc.set(c,Qc(Zc.get(c)||null,e,t,n,a,i)),!0;case"gotpointercapture":return c=i.pointerId,Xc.set(c,Qc(Xc.get(c)||null,e,t,n,a,i)),!0}return!1}function kp(e){var t=ee(e.target);if(t!==null){var n=m(t);if(n!==null){if(t=n.tag,t===13){if(t=p(n),t!==null){e.blockedOn=t,la(e.priority,function(){Cp(n)});return}}else if(t===31){if(t=v(n),t!==null){e.blockedOn=t,la(e.priority,function(){Cp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Rt=a,n.target.dispatchEvent(a),Rt=null}else return t=ge(n),t!==null&&jp(t),e.blockedOn=n,!1;t.shift()}return!0}function Mp(e,t,n){Nr(e)&&n.delete(t)}function wv(){Qf=!1,Il!==null&&Nr(Il)&&(Il=null),$l!==null&&Nr($l)&&($l=null),Fl!==null&&Nr(Fl)&&(Fl=null),Zc.forEach(Mp),Xc.forEach(Mp)}function Er(e,t){e.blockedOn===t&&(e.blockedOn=null,Qf||(Qf=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wv)))}var jr=null;function Rp(e){jr!==e&&(jr=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){jr===e&&(jr=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(Xf(a||n)===null)continue;break}var c=ge(n);c!==null&&(e.splice(t,3),t-=3,Vu(c,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Ss(e){function t(_){return Er(_,e)}Il!==null&&Er(Il,e),$l!==null&&Er($l,e),Fl!==null&&Er(Fl,e),Zc.forEach(t),Xc.forEach(t);for(var n=0;n<Wl.length;n++){var a=Wl[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Wl.length&&(n=Wl[0],n.blockedOn===null);)kp(n),n.blockedOn===null&&Wl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],c=n[a+1],f=i[dt]||null;if(typeof c=="function")f||Rp(n);else if(f){var g=null;if(c&&c.hasAttribute("formAction")){if(i=c,f=c[dt]||null)g=f.formAction;else if(Xf(i)!==null)continue}else g=f.action;typeof g=="function"?n[a+1]=g:(n.splice(a,3),a-=3),Rp(n)}}}function Dp(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(f){return i=f})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Jf(e){this._internalRoot=e}Cr.prototype.render=Jf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,a=ta();Np(n,a,e,t,null,null)},Cr.prototype.unmount=Jf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Np(e.current,2,null,e,null,null),cr(),t[pn]=null}};function Cr(e){this._internalRoot=e}Cr.prototype.unstable_scheduleHydration=function(e){if(e){var t=aa();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wl.length&&t!==0&&t<Wl[n].priority;n++);Wl.splice(n,0,e),n===0&&kp(e)}};var Up=l.version;if(Up!=="19.2.4")throw Error(r(527,Up,"19.2.4"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=x(t),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var _v={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tr.isDisabled&&Tr.supportsFiber)try{Sn=Tr.inject(_v),Ct=Tr}catch{}}return Ic.createRoot=function(e,t){if(!h(e))throw Error(r(299));var n=!1,a="",i=Kh,c=Yh,f=Gh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=wp(e,1,!1,null,null,n,a,null,i,c,f,Dp),e[pn]=t.current,Af(e),new Jf(t)},Ic.hydrateRoot=function(e,t,n){if(!h(e))throw Error(r(299));var a=!1,i="",c=Kh,f=Yh,g=Gh,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=wp(e,1,!0,t,n??null,a,i,_,c,f,g,Dp),t.context=_p(null),n=t.current,a=ta(),a=Be(a),i=Ll(a),i.callback=null,Bl(n,i,a),n=a,t.current.lanes=n,Dn(t,n),Ba(t),e[pn]=t.current,Af(e),new Cr(t)},Ic.version="19.2.4",Ic}var Vp;function Ov(){if(Vp)return Ff.exports;Vp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(l){console.error(l)}}return o(),Ff.exports=Uv(),Ff.exports}var zv=Ov();const Lv=Sg(zv);/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:wg,setPrototypeOf:Zp,isFrozen:Bv,getPrototypeOf:Hv,getOwnPropertyDescriptor:qv}=Object;let{freeze:Tn,seal:ma,create:md}=Object,{apply:pd,construct:gd}=typeof Reflect<"u"&&Reflect;Tn||(Tn=function(l){return l});ma||(ma=function(l){return l});pd||(pd=function(l,u){for(var r=arguments.length,h=new Array(r>2?r-2:0),m=2;m<r;m++)h[m-2]=arguments[m];return l.apply(u,h)});gd||(gd=function(l){for(var u=arguments.length,r=new Array(u>1?u-1:0),h=1;h<u;h++)r[h-1]=arguments[h];return new l(...r)});const Ar=An(Array.prototype.forEach),Kv=An(Array.prototype.lastIndexOf),Xp=An(Array.prototype.pop),$c=An(Array.prototype.push),Yv=An(Array.prototype.splice),Hr=An(String.prototype.toLowerCase),td=An(String.prototype.toString),nd=An(String.prototype.match),Fc=An(String.prototype.replace),Gv=An(String.prototype.indexOf),Vv=An(String.prototype.trim),Ea=An(Object.prototype.hasOwnProperty),jn=An(RegExp.prototype.test),Wc=Zv(TypeError);function An(o){return function(l){l instanceof RegExp&&(l.lastIndex=0);for(var u=arguments.length,r=new Array(u>1?u-1:0),h=1;h<u;h++)r[h-1]=arguments[h];return pd(o,l,r)}}function Zv(o){return function(){for(var l=arguments.length,u=new Array(l),r=0;r<l;r++)u[r]=arguments[r];return gd(o,u)}}function Ge(o,l){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hr;Zp&&Zp(o,null);let r=l.length;for(;r--;){let h=l[r];if(typeof h=="string"){const m=u(h);m!==h&&(Bv(l)||(l[r]=m),h=m)}o[h]=!0}return o}function Xv(o){for(let l=0;l<o.length;l++)Ea(o,l)||(o[l]=null);return o}function Ka(o){const l=md(null);for(const[u,r]of wg(o))Ea(o,u)&&(Array.isArray(r)?l[u]=Xv(r):r&&typeof r=="object"&&r.constructor===Object?l[u]=Ka(r):l[u]=r);return l}function Pc(o,l){for(;o!==null;){const r=qv(o,l);if(r){if(r.get)return An(r.get);if(typeof r.value=="function")return An(r.value)}o=Hv(o)}function u(){return null}return u}const Qp=Tn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ad=Tn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ld=Tn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Qv=Tn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),id=Tn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Jv=Tn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Jp=Tn(["#text"]),Ip=Tn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),sd=Tn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$p=Tn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),kr=Tn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Iv=ma(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$v=ma(/<%[\w\W]*|[\w\W]*%>/gm),Fv=ma(/\$\{[\w\W]*/gm),Wv=ma(/^data-[\-\w.\u00B7-\uFFFF]+$/),Pv=ma(/^aria-[\-\w]+$/),_g=ma(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eb=ma(/^(?:\w+script|data):/i),tb=ma(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ng=ma(/^html$/i),nb=ma(/^[a-z][.\w]*(-[.\w]+)+$/i);var Fp=Object.freeze({__proto__:null,ARIA_ATTR:Pv,ATTR_WHITESPACE:tb,CUSTOM_ELEMENT:nb,DATA_ATTR:Wv,DOCTYPE_NAME:Ng,ERB_EXPR:$v,IS_ALLOWED_URI:_g,IS_SCRIPT_OR_DATA:eb,MUSTACHE_EXPR:Iv,TMPLIT_EXPR:Fv});const eo={element:1,text:3,progressingInstruction:7,comment:8,document:9},ab=function(){return typeof window>"u"?null:window},lb=function(l,u){if(typeof l!="object"||typeof l.createPolicy!="function")return null;let r=null;const h="data-tt-policy-suffix";u&&u.hasAttribute(h)&&(r=u.getAttribute(h));const m="dompurify"+(r?"#"+r:"");try{return l.createPolicy(m,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}},Wp=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Eg(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ab();const l=xe=>Eg(xe);if(l.version="3.3.1",l.removed=[],!o||!o.document||o.document.nodeType!==eo.document||!o.Element)return l.isSupported=!1,l;let{document:u}=o;const r=u,h=r.currentScript,{DocumentFragment:m,HTMLTemplateElement:p,Node:v,Element:y,NodeFilter:x,NamedNodeMap:A=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:T,DOMParser:X,trustedTypes:O}=o,B=y.prototype,Q=Pc(B,"cloneNode"),te=Pc(B,"remove"),ce=Pc(B,"nextSibling"),he=Pc(B,"childNodes"),de=Pc(B,"parentNode");if(typeof p=="function"){const xe=u.createElement("template");xe.content&&xe.content.ownerDocument&&(u=xe.content.ownerDocument)}let fe,Te="";const{implementation:Le,createNodeIterator:je,createDocumentFragment:Se,getElementsByTagName:oe}=u,{importNode:De}=r;let Ne=Wp();l.isSupported=typeof wg=="function"&&typeof de=="function"&&Le&&Le.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:me,ERB_EXPR:ie,TMPLIT_EXPR:Y,DATA_ATTR:U,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:K,ATTR_WHITESPACE:V,CUSTOM_ELEMENT:ne}=Fp;let{IS_ALLOWED_URI:se}=Fp,S=null;const R=Ge({},[...Qp,...ad,...ld,...id,...Jp]);let H=null;const le=Ge({},[...Ip,...sd,...$p,...kr]);let W=Object.seal(md(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ae=null,pe=null;const Me=Object.seal(md(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ue=!0,Ye=!0,D=!1,Ee=!0,Pe=!1,zt=!0,jt=!1,vt=!1,Jt=!1,ln=!1,hn=!1,Vn=!1,kn=!0,re=!1;const Qe="user-content-";let Je=!0,Kt=!1,Wt={},it=null;const Pt=Ge({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let gt=null;const $=Ge({},["audio","video","img","source","image","track"]);let Ie=null;const Mn=Ge({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Sn="http://www.w3.org/1998/Math/MathML",Ct="http://www.w3.org/2000/svg",kt="http://www.w3.org/1999/xhtml";let Tt=kt,Va=!1,at=null;const bl=Ge({},[Sn,Ct,kt],td);let Re=Ge({},["mi","mo","mn","ms","mtext"]),sn=Ge({},["annotation-xml"]);const Rn=Ge({},["title","style","font","a","script"]);let mn=null;const Nt=["application/xhtml+xml","text/html"],pa="text/html";let et=null,Zn=null;const wn=u.createElement("form"),Dn=function(j){return j instanceof RegExp||j instanceof Function},It=function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Zn&&Zn===j)){if((!j||typeof j!="object")&&(j={}),j=Ka(j),mn=Nt.indexOf(j.PARSER_MEDIA_TYPE)===-1?pa:j.PARSER_MEDIA_TYPE,et=mn==="application/xhtml+xml"?td:Hr,S=Ea(j,"ALLOWED_TAGS")?Ge({},j.ALLOWED_TAGS,et):R,H=Ea(j,"ALLOWED_ATTR")?Ge({},j.ALLOWED_ATTR,et):le,at=Ea(j,"ALLOWED_NAMESPACES")?Ge({},j.ALLOWED_NAMESPACES,td):bl,Ie=Ea(j,"ADD_URI_SAFE_ATTR")?Ge(Ka(Mn),j.ADD_URI_SAFE_ATTR,et):Mn,gt=Ea(j,"ADD_DATA_URI_TAGS")?Ge(Ka($),j.ADD_DATA_URI_TAGS,et):$,it=Ea(j,"FORBID_CONTENTS")?Ge({},j.FORBID_CONTENTS,et):Pt,ae=Ea(j,"FORBID_TAGS")?Ge({},j.FORBID_TAGS,et):Ka({}),pe=Ea(j,"FORBID_ATTR")?Ge({},j.FORBID_ATTR,et):Ka({}),Wt=Ea(j,"USE_PROFILES")?j.USE_PROFILES:!1,Ue=j.ALLOW_ARIA_ATTR!==!1,Ye=j.ALLOW_DATA_ATTR!==!1,D=j.ALLOW_UNKNOWN_PROTOCOLS||!1,Ee=j.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Pe=j.SAFE_FOR_TEMPLATES||!1,zt=j.SAFE_FOR_XML!==!1,jt=j.WHOLE_DOCUMENT||!1,ln=j.RETURN_DOM||!1,hn=j.RETURN_DOM_FRAGMENT||!1,Vn=j.RETURN_TRUSTED_TYPE||!1,Jt=j.FORCE_BODY||!1,kn=j.SANITIZE_DOM!==!1,re=j.SANITIZE_NAMED_PROPS||!1,Je=j.KEEP_CONTENT!==!1,Kt=j.IN_PLACE||!1,se=j.ALLOWED_URI_REGEXP||_g,Tt=j.NAMESPACE||kt,Re=j.MATHML_TEXT_INTEGRATION_POINTS||Re,sn=j.HTML_INTEGRATION_POINTS||sn,W=j.CUSTOM_ELEMENT_HANDLING||{},j.CUSTOM_ELEMENT_HANDLING&&Dn(j.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=j.CUSTOM_ELEMENT_HANDLING.tagNameCheck),j.CUSTOM_ELEMENT_HANDLING&&Dn(j.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=j.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),j.CUSTOM_ELEMENT_HANDLING&&typeof j.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=j.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pe&&(Ye=!1),hn&&(ln=!0),Wt&&(S=Ge({},Jp),H=[],Wt.html===!0&&(Ge(S,Qp),Ge(H,Ip)),Wt.svg===!0&&(Ge(S,ad),Ge(H,sd),Ge(H,kr)),Wt.svgFilters===!0&&(Ge(S,ld),Ge(H,sd),Ge(H,kr)),Wt.mathMl===!0&&(Ge(S,id),Ge(H,$p),Ge(H,kr))),j.ADD_TAGS&&(typeof j.ADD_TAGS=="function"?Me.tagCheck=j.ADD_TAGS:(S===R&&(S=Ka(S)),Ge(S,j.ADD_TAGS,et))),j.ADD_ATTR&&(typeof j.ADD_ATTR=="function"?Me.attributeCheck=j.ADD_ATTR:(H===le&&(H=Ka(H)),Ge(H,j.ADD_ATTR,et))),j.ADD_URI_SAFE_ATTR&&Ge(Ie,j.ADD_URI_SAFE_ATTR,et),j.FORBID_CONTENTS&&(it===Pt&&(it=Ka(it)),Ge(it,j.FORBID_CONTENTS,et)),j.ADD_FORBID_CONTENTS&&(it===Pt&&(it=Ka(it)),Ge(it,j.ADD_FORBID_CONTENTS,et)),Je&&(S["#text"]=!0),jt&&Ge(S,["html","head","body"]),S.table&&(Ge(S,["tbody"]),delete ae.tbody),j.TRUSTED_TYPES_POLICY){if(typeof j.TRUSTED_TYPES_POLICY.createHTML!="function")throw Wc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof j.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Wc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');fe=j.TRUSTED_TYPES_POLICY,Te=fe.createHTML("")}else fe===void 0&&(fe=lb(O,h)),fe!==null&&typeof Te=="string"&&(Te=fe.createHTML(""));Tn&&Tn(j),Zn=j}},ga=Ge({},[...ad,...ld,...Qv]),Ae=Ge({},[...id,...Jv]),ya=function(j){let ee=de(j);(!ee||!ee.tagName)&&(ee={namespaceURI:Tt,tagName:"template"});const ge=Hr(j.tagName),Ve=Hr(ee.tagName);return at[j.namespaceURI]?j.namespaceURI===Ct?ee.namespaceURI===kt?ge==="svg":ee.namespaceURI===Sn?ge==="svg"&&(Ve==="annotation-xml"||Re[Ve]):!!ga[ge]:j.namespaceURI===Sn?ee.namespaceURI===kt?ge==="math":ee.namespaceURI===Ct?ge==="math"&&sn[Ve]:!!Ae[ge]:j.namespaceURI===kt?ee.namespaceURI===Ct&&!sn[Ve]||ee.namespaceURI===Sn&&!Re[Ve]?!1:!Ae[ge]&&(Rn[ge]||!ga[ge]):!!(mn==="application/xhtml+xml"&&at[j.namespaceURI]):!1},Be=function(j){$c(l.removed,{element:j});try{de(j).removeChild(j)}catch{te(j)}},en=function(j,ee){try{$c(l.removed,{attribute:ee.getAttributeNode(j),from:ee})}catch{$c(l.removed,{attribute:null,from:ee})}if(ee.removeAttribute(j),j==="is")if(ln||hn)try{Be(ee)}catch{}else try{ee.setAttribute(j,"")}catch{}},aa=function(j){let ee=null,ge=null;if(Jt)j="<remove></remove>"+j;else{const qe=nd(j,/^[\r\n\t ]+/);ge=qe&&qe[0]}mn==="application/xhtml+xml"&&Tt===kt&&(j='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+j+"</body></html>");const Ve=fe?fe.createHTML(j):j;if(Tt===kt)try{ee=new X().parseFromString(Ve,mn)}catch{}if(!ee||!ee.documentElement){ee=Le.createDocument(Tt,"template",null);try{ee.documentElement.innerHTML=Va?Te:Ve}catch{}}const xt=ee.body||ee.documentElement;return j&&ge&&xt.insertBefore(u.createTextNode(ge),xt.childNodes[0]||null),Tt===kt?oe.call(ee,jt?"html":"body")[0]:jt?ee.documentElement:xt},la=function(j){return je.call(j.ownerDocument||j,j,x.SHOW_ELEMENT|x.SHOW_COMMENT|x.SHOW_TEXT|x.SHOW_PROCESSING_INSTRUCTION|x.SHOW_CDATA_SECTION,null)},tn=function(j){return j instanceof T&&(typeof j.nodeName!="string"||typeof j.textContent!="string"||typeof j.removeChild!="function"||!(j.attributes instanceof A)||typeof j.removeAttribute!="function"||typeof j.setAttribute!="function"||typeof j.namespaceURI!="string"||typeof j.insertBefore!="function"||typeof j.hasChildNodes!="function")},ft=function(j){return typeof v=="function"&&j instanceof v};function dt(xe,j,ee){Ar(xe,ge=>{ge.call(l,j,ee,Zn)})}const pn=function(j){let ee=null;if(dt(Ne.beforeSanitizeElements,j,null),tn(j))return Be(j),!0;const ge=et(j.nodeName);if(dt(Ne.uponSanitizeElement,j,{tagName:ge,allowedTags:S}),zt&&j.hasChildNodes()&&!ft(j.firstElementChild)&&jn(/<[/\w!]/g,j.innerHTML)&&jn(/<[/\w!]/g,j.textContent)||j.nodeType===eo.progressingInstruction||zt&&j.nodeType===eo.comment&&jn(/<[/\w]/g,j.data))return Be(j),!0;if(!(Me.tagCheck instanceof Function&&Me.tagCheck(ge))&&(!S[ge]||ae[ge])){if(!ae[ge]&&ia(ge)&&(W.tagNameCheck instanceof RegExp&&jn(W.tagNameCheck,ge)||W.tagNameCheck instanceof Function&&W.tagNameCheck(ge)))return!1;if(Je&&!it[ge]){const Ve=de(j)||j.parentNode,xt=he(j)||j.childNodes;if(xt&&Ve){const qe=xt.length;for(let Lt=qe-1;Lt>=0;--Lt){const gn=Q(xt[Lt],!0);gn.__removalCount=(j.__removalCount||0)+1,Ve.insertBefore(gn,ce(j))}}}return Be(j),!0}return j instanceof y&&!ya(j)||(ge==="noscript"||ge==="noembed"||ge==="noframes")&&jn(/<\/no(script|embed|frames)/i,j.innerHTML)?(Be(j),!0):(Pe&&j.nodeType===eo.text&&(ee=j.textContent,Ar([me,ie,Y],Ve=>{ee=Fc(ee,Ve," ")}),j.textContent!==ee&&($c(l.removed,{element:j.cloneNode()}),j.textContent=ee)),dt(Ne.afterSanitizeElements,j,null),!1)},Un=function(j,ee,ge){if(kn&&(ee==="id"||ee==="name")&&(ge in u||ge in wn))return!1;if(!(Ye&&!pe[ee]&&jn(U,ee))){if(!(Ue&&jn(N,ee))){if(!(Me.attributeCheck instanceof Function&&Me.attributeCheck(ee,j))){if(!H[ee]||pe[ee]){if(!(ia(j)&&(W.tagNameCheck instanceof RegExp&&jn(W.tagNameCheck,j)||W.tagNameCheck instanceof Function&&W.tagNameCheck(j))&&(W.attributeNameCheck instanceof RegExp&&jn(W.attributeNameCheck,ee)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(ee,j))||ee==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&jn(W.tagNameCheck,ge)||W.tagNameCheck instanceof Function&&W.tagNameCheck(ge))))return!1}else if(!Ie[ee]){if(!jn(se,Fc(ge,V,""))){if(!((ee==="src"||ee==="xlink:href"||ee==="href")&&j!=="script"&&Gv(ge,"data:")===0&&gt[j])){if(!(D&&!jn(K,Fc(ge,V,"")))){if(ge)return!1}}}}}}}return!0},ia=function(j){return j!=="annotation-xml"&&nd(j,ne)},xl=function(j){dt(Ne.beforeSanitizeAttributes,j,null);const{attributes:ee}=j;if(!ee||tn(j))return;const ge={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let Ve=ee.length;for(;Ve--;){const xt=ee[Ve],{name:qe,namespaceURI:Lt,value:gn}=xt,nn=et(qe),Xn=gn;let At=qe==="value"?Xn:Vv(Xn);if(ge.attrName=nn,ge.attrValue=At,ge.keepAttr=!0,ge.forceKeepAttr=void 0,dt(Ne.uponSanitizeAttribute,j,ge),At=ge.attrValue,re&&(nn==="id"||nn==="name")&&(en(qe,j),At=Qe+At),zt&&jn(/((--!?|])>)|<\/(style|title|textarea)/i,At)){en(qe,j);continue}if(nn==="attributename"&&nd(At,"href")){en(qe,j);continue}if(ge.forceKeepAttr)continue;if(!ge.keepAttr){en(qe,j);continue}if(!Ee&&jn(/\/>/i,At)){en(qe,j);continue}Pe&&Ar([me,ie,Y],Xa=>{At=Fc(At,Xa," ")});const Za=et(j.nodeName);if(!Un(Za,nn,At)){en(qe,j);continue}if(fe&&typeof O=="object"&&typeof O.getAttributeType=="function"&&!Lt)switch(O.getAttributeType(Za,nn)){case"TrustedHTML":{At=fe.createHTML(At);break}case"TrustedScriptURL":{At=fe.createScriptURL(At);break}}if(At!==Xn)try{Lt?j.setAttributeNS(Lt,qe,At):j.setAttribute(qe,At),tn(j)?Be(j):Xp(l.removed)}catch{en(qe,j)}}dt(Ne.afterSanitizeAttributes,j,null)},Ca=function xe(j){let ee=null;const ge=la(j);for(dt(Ne.beforeSanitizeShadowDOM,j,null);ee=ge.nextNode();)dt(Ne.uponSanitizeShadowNode,ee,null),pn(ee),xl(ee),ee.content instanceof m&&xe(ee.content);dt(Ne.afterSanitizeShadowDOM,j,null)};return l.sanitize=function(xe){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=null,ge=null,Ve=null,xt=null;if(Va=!xe,Va&&(xe="<!-->"),typeof xe!="string"&&!ft(xe))if(typeof xe.toString=="function"){if(xe=xe.toString(),typeof xe!="string")throw Wc("dirty is not a string, aborting")}else throw Wc("toString is not a function");if(!l.isSupported)return xe;if(vt||It(j),l.removed=[],typeof xe=="string"&&(Kt=!1),Kt){if(xe.nodeName){const gn=et(xe.nodeName);if(!S[gn]||ae[gn])throw Wc("root node is forbidden and cannot be sanitized in-place")}}else if(xe instanceof v)ee=aa("<!---->"),ge=ee.ownerDocument.importNode(xe,!0),ge.nodeType===eo.element&&ge.nodeName==="BODY"||ge.nodeName==="HTML"?ee=ge:ee.appendChild(ge);else{if(!ln&&!Pe&&!jt&&xe.indexOf("<")===-1)return fe&&Vn?fe.createHTML(xe):xe;if(ee=aa(xe),!ee)return ln?null:Vn?Te:""}ee&&Jt&&Be(ee.firstChild);const qe=la(Kt?xe:ee);for(;Ve=qe.nextNode();)pn(Ve),xl(Ve),Ve.content instanceof m&&Ca(Ve.content);if(Kt)return xe;if(ln){if(hn)for(xt=Se.call(ee.ownerDocument);ee.firstChild;)xt.appendChild(ee.firstChild);else xt=ee;return(H.shadowroot||H.shadowrootmode)&&(xt=De.call(r,xt,!0)),xt}let Lt=jt?ee.outerHTML:ee.innerHTML;return jt&&S["!doctype"]&&ee.ownerDocument&&ee.ownerDocument.doctype&&ee.ownerDocument.doctype.name&&jn(Ng,ee.ownerDocument.doctype.name)&&(Lt="<!DOCTYPE "+ee.ownerDocument.doctype.name+`>
`+Lt),Pe&&Ar([me,ie,Y],gn=>{Lt=Fc(Lt,gn," ")}),fe&&Vn?fe.createHTML(Lt):Lt},l.setConfig=function(){let xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};It(xe),vt=!0},l.clearConfig=function(){Zn=null,vt=!1},l.isValidAttribute=function(xe,j,ee){Zn||It({});const ge=et(xe),Ve=et(j);return Un(ge,Ve,ee)},l.addHook=function(xe,j){typeof j=="function"&&$c(Ne[xe],j)},l.removeHook=function(xe,j){if(j!==void 0){const ee=Kv(Ne[xe],j);return ee===-1?void 0:Yv(Ne[xe],ee,1)[0]}return Xp(Ne[xe])},l.removeHooks=function(xe){Ne[xe]=[]},l.removeAllHooks=function(){Ne=Wp()},l}var ib=Eg();function sb(){if(typeof window<"u"){const o=localStorage.getItem("accord_server_url");if(o)return o;if(window.__ACCORD_SERVER_URL__)return window.__ACCORD_SERVER_URL__}return"http://localhost:8080"}async function cb(){if(typeof window>"u")return null;const o=window.location.origin;if(o.includes(":1420")||o.includes(":5173")||o.includes(":3000"))return null;try{const l=await fetch(`${o}/health`,{signal:AbortSignal.timeout(3e3)});if(l.ok){const u=await l.json();if(u&&(u.status==="healthy"||u.status==="ok"))return o}}catch{}return null}class ob{constructor(l){ue(this,"baseUrl");this.baseUrl=(l||sb()).replace(/\/+$/,"")}getBaseUrl(){return this.baseUrl}setBaseUrl(l){this.baseUrl=l.replace(/\/+$/,""),localStorage.setItem("accord_server_url",l)}async request(l,u={}){const r=`${this.baseUrl}${l}`,h=await fetch(r,{headers:{"Content-Type":"application/json",...u.headers},...u}),m=await h.json();if(!h.ok){const p=m;throw new Error(p.error||`HTTP ${h.status}`)}return m}async health(){return this.request("/health")}async register(l,u){return this.request("/register",{method:"POST",body:JSON.stringify({public_key:l,password:u})})}async login(l,u){return this.request("/auth",{method:"POST",body:JSON.stringify({public_key:l,password:u})})}async createNode(l,u,r){const h={name:l,description:r};return this.request(`/nodes?token=${encodeURIComponent(u)}`,{method:"POST",body:JSON.stringify(h)})}async getNodeInfo(l,u){const r=u?`/nodes/${l}?token=${encodeURIComponent(u)}`:`/nodes/${l}`;return this.request(r)}async joinNode(l,u){return this.request(`/nodes/${l}/join?token=${encodeURIComponent(u)}`,{method:"POST"})}async leaveNode(l,u){return this.request(`/nodes/${l}/leave?token=${encodeURIComponent(u)}`,{method:"POST"})}async getUserNodes(l){return this.request(`/nodes?token=${encodeURIComponent(l)}`)}async getNodeChannels(l,u){return this.request(`/nodes/${l}/channels?token=${encodeURIComponent(u)}`)}async getNodeMembers(l,u){const r=await this.request(`/nodes/${l}/members?token=${encodeURIComponent(u)}`);return r&&r.members&&Array.isArray(r.members)?r.members:Array.isArray(r)?r:[]}async getChannelMessages(l,u,r=50,h){let m=`/channels/${l}/messages?limit=${r}&token=${encodeURIComponent(u)}`;return h&&(m+=`&before=${encodeURIComponent(h)}`),this.request(m)}async uploadFile(l,u,r,h,m){const p=new FormData;p.append("file",u),h&&p.append("encrypted_filename",h);const v=new XMLHttpRequest;return new Promise((y,x)=>{v.upload.addEventListener("progress",A=>{A.lengthComputable&&m&&m(A.loaded,A.total)}),v.addEventListener("load",()=>{if(v.status>=200&&v.status<300)try{const A=JSON.parse(v.responseText);y(A)}catch{x(new Error("Invalid JSON response"))}else try{const A=JSON.parse(v.responseText);x(new Error(A.error||`HTTP ${v.status}`))}catch{x(new Error(`Upload failed with status ${v.status}`))}}),v.addEventListener("error",()=>{x(new Error("Upload failed"))}),v.open("POST",`${this.baseUrl}/channels/${l}/files?token=${encodeURIComponent(r)}`),v.send(p)})}async downloadFile(l,u){const r=await fetch(`${this.baseUrl}/files/${l}?token=${encodeURIComponent(u)}`);if(!r.ok){const h=await r.json();throw new Error(h.error||`HTTP ${r.status}`)}return r.arrayBuffer()}async getChannelFiles(l,u){return this.request(`/channels/${l}/files?token=${encodeURIComponent(u)}`)}async deleteFile(l,u){return this.request(`/files/${l}?token=${encodeURIComponent(u)}`,{method:"DELETE"})}async createChannel(l,u,r,h){const m={name:u,channel_type:r};return this.request(`/nodes/${l}/channels?token=${encodeURIComponent(h)}`,{method:"POST",body:JSON.stringify(m)})}async deleteChannel(l,u){return this.request(`/channels/${l}?token=${encodeURIComponent(u)}`,{method:"DELETE"})}async createInvite(l,u){return this.request(`/nodes/${l}/invites?token=${encodeURIComponent(u)}`,{method:"POST"})}async kickMember(l,u,r){return this.request(`/nodes/${l}/members/${u}?token=${encodeURIComponent(r)}`,{method:"DELETE"})}async getUserProfile(l,u){const r=u?`/users/${l}/profile?token=${encodeURIComponent(u)}`:`/users/${l}/profile`;return this.request(r)}async updateProfile(l,u){return this.request(`/users/me/profile?token=${encodeURIComponent(u)}`,{method:"PATCH",body:JSON.stringify(l)})}async joinNodeByInvite(l,u){return this.request(`/invites/${l}/join?token=${encodeURIComponent(u)}`,{method:"POST"})}async getNodeInvites(l,u){const r=await this.request(`/nodes/${l}/invites?token=${encodeURIComponent(u)}`);return r&&r.invites&&Array.isArray(r.invites)?r.invites:Array.isArray(r)?r:[]}async createInviteWithOptions(l,u,r,h){const m={};return r!==void 0&&(m.max_uses=r),h!==void 0&&(m.expires_hours=h),this.request(`/nodes/${l}/invites?token=${encodeURIComponent(u)}`,{method:"POST",body:Object.keys(m).length>0?JSON.stringify(m):void 0})}async revokeInvite(l,u,r){return this.request(`/nodes/${l}/invites/${u}?token=${encodeURIComponent(r)}`,{method:"DELETE"})}async searchMessages(l,u,r,h){let m=`/nodes/${l}/search?q=${encodeURIComponent(u)}&token=${encodeURIComponent(r)}`;return h&&(m+=`&channel=${encodeURIComponent(h)}`),this.request(m)}async editMessage(l,u,r){return this.request(`/messages/${l}`,{method:"PATCH",body:JSON.stringify({user_id:u,encrypted_data:r})})}async deleteMessage(l,u){return this.request(`/messages/${l}?token=${encodeURIComponent(u)}`,{method:"DELETE"})}async getMessageThread(l,u){return this.request(`/messages/${l}/thread?token=${encodeURIComponent(u)}`)}async getMessageReactions(l,u){return this.request(`/messages/${l}/reactions?token=${encodeURIComponent(u)}`)}async addReaction(l,u,r){return this.request(`/messages/${l}/reactions/${encodeURIComponent(u)}?token=${encodeURIComponent(r)}`,{method:"PUT"})}async removeReaction(l,u,r){return this.request(`/messages/${l}/reactions/${encodeURIComponent(u)}?token=${encodeURIComponent(r)}`,{method:"DELETE"})}async pinMessage(l,u){return this.request(`/messages/${l}/pin?token=${encodeURIComponent(u)}`,{method:"PUT"})}async unpinMessage(l,u){return this.request(`/messages/${l}/pin?token=${encodeURIComponent(u)}`,{method:"DELETE"})}async getPinnedMessages(l,u){return this.request(`/channels/${l}/pins?token=${encodeURIComponent(u)}`)}async createDmChannel(l,u){return this.request(`/dm/${l}?token=${encodeURIComponent(u)}`,{method:"POST"})}async getDmChannels(l){return this.request(`/dm?token=${encodeURIComponent(l)}`)}async getNodeAuditLog(l,u,r=50,h){const m=new URLSearchParams({token:u,limit:r.toString()});return h&&m.append("before",h),this.request(`/nodes/${l}/audit-log?${m.toString()}`)}async testConnection(){try{return await this.health(),!0}catch{return!1}}}function rb(o){return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function ub(o){let l=o.replace(/-/g,"+").replace(/_/g,"/");for(;l.length%4;)l+="=";return atob(l)}function fb(o,l){return`accord://${rb(o)}/${l}`}function Pp(o){const l=o.trim(),u=l.match(/^accord:\/\/([A-Za-z0-9_-]+)\/([^/?#]+)$/);if(u)try{const m=ub(u[1]);if(m.includes(".")||m.includes(":"))return{relayHost:m,relayUrl:`http://${m}`,inviteCode:u[2]}}catch{}const r=l.match(/^accord:\/\/([^/]+)\/invite\/([^/?#]+)/);if(r){const m=r[1];return{relayHost:m,relayUrl:`http://${m}`,inviteCode:r[2]}}const h=l.match(/^(https?):\/\/([^/]+)\/invite\/([^/?#]+)/);if(h){const m=h[1],p=h[2];return{relayHost:p,relayUrl:`${m}://${p}`,inviteCode:h[3]}}return null}function db(o){return localStorage.getItem(`accord_token_${o}`)}function hb(o,l){localStorage.setItem(`accord_token_${o}`,l)}function mb(o){return localStorage.getItem(`accord_user_${o}`)}function pb(o,l){localStorage.setItem(`accord_user_${o}`,l)}const P=new ob;P.createNode.bind(P);P.getNodeInfo.bind(P);P.joinNode.bind(P);P.getUserNodes.bind(P);P.getNodeChannels.bind(P);P.getNodeMembers.bind(P);P.getChannelMessages.bind(P);P.createChannel.bind(P);P.deleteChannel.bind(P);P.createInvite.bind(P);P.kickMember.bind(P);P.getUserProfile.bind(P);P.updateProfile.bind(P);P.joinNodeByInvite.bind(P);P.getNodeInvites.bind(P);P.createInviteWithOptions.bind(P);P.revokeInvite.bind(P);P.testConnection.bind(P);P.searchMessages.bind(P);P.getMessageThread.bind(P);P.createDmChannel.bind(P);P.getDmChannels.bind(P);P.getNodeAuditLog.bind(P);class ws{constructor(l,u){ue(this,"ws",null);ue(this,"token");ue(this,"baseUrl");ue(this,"listeners",new Map);ue(this,"reconnectAttempts",0);ue(this,"maxReconnectAttempts",20);ue(this,"reconnectDelay",1e3);ue(this,"maxReconnectDelay",3e4);ue(this,"reconnectTimeout",null);ue(this,"isConnected",!1);ue(this,"isDestroyed",!1);ue(this,"pingInterval",null);ue(this,"connectionStatus","disconnected");ue(this,"messageQueue",[]);ue(this,"onlineHandler",null);ue(this,"offlineHandler",null);this.token=l;const r=u||typeof window<"u"&&window.__ACCORD_SERVER_URL__||"http://localhost:8080";this.baseUrl=String(r).replace(/^http/,"ws"),typeof window<"u"&&(this.onlineHandler=()=>{!this.isConnected&&!this.isDestroyed&&(this.reconnectAttempts=0,this.connect())},this.offlineHandler=()=>{this.setConnectionStatus("disconnected")},window.addEventListener("online",this.onlineHandler),window.addEventListener("offline",this.offlineHandler))}on(l,u){this.listeners.has(l)||this.listeners.set(l,new Set),this.listeners.get(l).add(u)}off(l,u){const r=this.listeners.get(l);r&&r.delete(u)}emit(l,u){const r=this.listeners.get(l);r&&r.forEach(h=>{try{h(u)}catch(m){console.error(`Error in ${l} listener:`,m)}})}setConnectionStatus(l){this.connectionStatus=l,this.emit("connection_status",{status:l,reconnectAttempt:this.reconnectAttempts,maxReconnectAttempts:this.maxReconnectAttempts})}getConnectionInfo(){return{status:this.connectionStatus,reconnectAttempt:this.reconnectAttempts,maxReconnectAttempts:this.maxReconnectAttempts}}retry(){this.isDestroyed=!1,this.reconnectAttempts=0,this.reconnectDelay=1e3,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.connect()}connect(){if(this.isDestroyed||this.ws&&this.ws.readyState===WebSocket.CONNECTING)return;const l=`${this.baseUrl}/ws?token=${encodeURIComponent(this.token)}`;try{this.ws=new WebSocket(l),this.setupEventHandlers()}catch(u){console.error("Failed to create WebSocket connection:",u),this.emit("error",new Error("Failed to create WebSocket connection")),this.scheduleReconnect()}}setupEventHandlers(){this.ws&&(this.ws.onopen=()=>{this.isConnected=!0,this.reconnectAttempts=0,this.reconnectDelay=1e3,this.startPingInterval(),this.flushMessageQueue(),this.setConnectionStatus("connected"),this.emit("connected")},this.ws.onmessage=l=>{try{const u=JSON.parse(l.data);if(u.type==="error"&&u.code==="auth_failed"){this.emit("auth_error"),this.isDestroyed=!0;return}this.emit("message",u),u.type&&this.emit(u.type,u)}catch(u){console.error("Error parsing WebSocket message:",u),this.emit("error",new Error("Invalid message format"))}},this.ws.onclose=l=>{if(this.isConnected=!1,this.stopPingInterval(),l.code===4401||l.code===4403){this.setConnectionStatus("disconnected"),this.emit("auth_error"),this.emit("disconnected");return}this.emit("disconnected"),!this.isDestroyed&&l.code!==1e3?(this.setConnectionStatus("reconnecting"),this.scheduleReconnect()):this.setConnectionStatus("disconnected")},this.ws.onerror=l=>{console.error("WebSocket error:",l),this.emit("error",new Error("WebSocket connection error"))})}scheduleReconnect(){if(this.isDestroyed||this.reconnectTimeout)return;if(typeof navigator<"u"&&!navigator.onLine){this.setConnectionStatus("disconnected");return}if(this.reconnectAttempts>=this.maxReconnectAttempts){console.error("Max reconnection attempts reached"),this.setConnectionStatus("disconnected"),this.emit("error",new Error("Max reconnection attempts reached"));return}this.reconnectAttempts++;const l=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),this.maxReconnectDelay);this.setConnectionStatus("reconnecting"),this.emit("reconnecting",{attempt:this.reconnectAttempts,maxAttempts:this.maxReconnectAttempts}),this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=null,this.connect()},l)}startPingInterval(){this.pingInterval=setInterval(()=>{this.isConnected&&this.ping()},3e4)}stopPingInterval(){this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}sendMessage(l){if(!this.isConnected||!this.ws){console.warn("WebSocket not connected, cannot send message");return}const u={message_type:l,message_id:this.generateId(),timestamp:Math.floor(Date.now()/1e3)};try{this.ws.send(JSON.stringify(u))}catch(r){console.error("Error sending WebSocket message:",r),this.emit("error",new Error("Failed to send message"))}}send(l){if(!this.isConnected||!this.ws){this.messageQueue.push(l);return}try{this.ws.send(l)}catch(u){console.error("Error sending WebSocket message:",u),this.messageQueue.push(l),this.emit("error",new Error("Failed to send message"))}}flushMessageQueue(){for(;this.messageQueue.length>0&&this.isConnected&&this.ws;){const l=this.messageQueue.shift();try{this.ws.send(l)}catch{this.messageQueue.unshift(l);break}}}getQueuedMessageCount(){return this.messageQueue.length}createNode(l,u){this.sendMessage({CreateNode:{name:l,description:u}})}joinNode(l){this.sendMessage({JoinNode:{node_id:l}})}leaveNode(l){this.sendMessage({LeaveNode:{node_id:l}})}getNodeInfo(l){this.sendMessage({GetNodeInfo:{node_id:l}})}createChannel(l,u){this.sendMessage({CreateChannel:{node_id:l,name:u}})}joinChannel(l){this.sendMessage({JoinChannel:{channel_id:l}})}leaveChannel(l){this.sendMessage({LeaveChannel:{channel_id:l}})}sendDirectMessage(l,u){this.sendMessage({DirectMessage:{to_user:l,encrypted_data:u}})}sendChannelMessage(l,u,r){this.sendMessage({ChannelMessage:{channel_id:l,encrypted_data:u,reply_to:r}})}sendEditMessage(l,u){this.sendMessage({EditMessage:{message_id:l,encrypted_data:u}})}sendDeleteMessage(l){this.sendMessage({DeleteMessage:{message_id:l}})}addReaction(l,u){this.sendMessage({AddReaction:{message_id:l,emoji:u}})}removeReaction(l,u){this.sendMessage({RemoveReaction:{message_id:l,emoji:u}})}pinMessage(l){this.sendMessage({PinMessage:{message_id:l}})}unpinMessage(l){this.sendMessage({UnpinMessage:{message_id:l}})}sendTypingStart(l){this.sendMessage({TypingStart:{channel_id:l}})}ping(){this.sendMessage("Ping")}pong(){this.sendMessage("Pong")}generateId(){var l;return((l=crypto.randomUUID)==null?void 0:l.call(crypto))??"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,u=>{const r=Math.random()*16|0;return(u==="x"?r:r&3|8).toString(16)})}isSocketConnected(){return this.isConnected}disconnect(){this.isDestroyed=!0,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.stopPingInterval(),this.ws&&(this.ws.close(1e3,"Client disconnect"),this.ws=null),typeof window<"u"&&(this.onlineHandler&&window.removeEventListener("online",this.onlineHandler),this.offlineHandler&&window.removeEventListener("offline",this.offlineHandler)),this.messageQueue=[],this.listeners.clear()}}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _d(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function Ga(o,l=""){if(!Number.isSafeInteger(o)||o<0){const u=l&&`"${l}" `;throw new Error(`${u}expected integer >= 0, got ${o}`)}}function Ot(o,l,u=""){const r=_d(o),h=o==null?void 0:o.length,m=l!==void 0;if(!r||m&&h!==l){const p=u&&`"${u}" `,v=m?` of length ${l}`:"",y=r?`length=${h}`:`type=${typeof o}`;throw new Error(p+"expected Uint8Array"+v+", got "+y)}return o}function Nd(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash must wrapped by utils.createHasher");Ga(o.outputLen),Ga(o.blockLen)}function Gr(o,l=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(l&&o.finished)throw new Error("Hash#digest() has already been called")}function gb(o,l){Ot(o,void 0,"digestInto() output");const u=l.outputLen;if(o.length<u)throw new Error('"digestInto() output" expected to be of length >='+u)}function ao(...o){for(let l=0;l<o.length;l++)o[l].fill(0)}function qr(o){return new DataView(o.buffer,o.byteOffset,o.byteLength)}function Ha(o,l){return o<<32-l|o>>>l}const jg=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",yb=Array.from({length:256},(o,l)=>l.toString(16).padStart(2,"0"));function Wr(o){if(Ot(o),jg)return o.toHex();let l="";for(let u=0;u<o.length;u++)l+=yb[o[u]];return l}const hl={_0:48,_9:57,A:65,F:70,a:97,f:102};function eg(o){if(o>=hl._0&&o<=hl._9)return o-hl._0;if(o>=hl.A&&o<=hl.F)return o-(hl.A-10);if(o>=hl.a&&o<=hl.f)return o-(hl.a-10)}function Vr(o){if(typeof o!="string")throw new Error("hex string expected, got "+typeof o);if(jg)return Uint8Array.fromHex(o);const l=o.length,u=l/2;if(l%2)throw new Error("hex string expected, got unpadded hex of length "+l);const r=new Uint8Array(u);for(let h=0,m=0;h<u;h++,m+=2){const p=eg(o.charCodeAt(m)),v=eg(o.charCodeAt(m+1));if(p===void 0||v===void 0){const y=o[m]+o[m+1];throw new Error('hex string expected, got non-hex character "'+y+'" at index '+m)}r[h]=p*16+v}return r}function vb(o){if(typeof o!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(o))}function tg(o,l=""){return typeof o=="string"?vb(o):Ot(o,void 0,l)}function li(...o){let l=0;for(let r=0;r<o.length;r++){const h=o[r];Ot(h),l+=h.length}const u=new Uint8Array(l);for(let r=0,h=0;r<o.length;r++){const m=o[r];u.set(m,h),h+=m.length}return u}function bb(o,l){if(l!==void 0&&{}.toString.call(l)!=="[object Object]")throw new Error("options must be object or undefined");return Object.assign(o,l)}function xb(o,l={}){const u=(h,m)=>o(m).update(h).digest(),r=o(void 0);return u.outputLen=r.outputLen,u.blockLen=r.blockLen,u.create=h=>o(h),Object.assign(u,l),Object.freeze(u)}function Cg(o=32){const l=typeof globalThis=="object"?globalThis.crypto:null;if(typeof(l==null?void 0:l.getRandomValues)!="function")throw new Error("crypto.getRandomValues must be defined");return l.getRandomValues(new Uint8Array(o))}const Sb=o=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,o])});function wb(o,l,u){return o&l^~o&u}function _b(o,l,u){return o&l^o&u^l&u}class Nb{constructor(l,u,r,h){ue(this,"blockLen");ue(this,"outputLen");ue(this,"padOffset");ue(this,"isLE");ue(this,"buffer");ue(this,"view");ue(this,"finished",!1);ue(this,"length",0);ue(this,"pos",0);ue(this,"destroyed",!1);this.blockLen=l,this.outputLen=u,this.padOffset=r,this.isLE=h,this.buffer=new Uint8Array(l),this.view=qr(this.buffer)}update(l){Gr(this),Ot(l);const{view:u,buffer:r,blockLen:h}=this,m=l.length;for(let p=0;p<m;){const v=Math.min(h-this.pos,m-p);if(v===h){const y=qr(l);for(;h<=m-p;p+=h)this.process(y,p);continue}r.set(l.subarray(p,p+v),this.pos),this.pos+=v,p+=v,this.pos===h&&(this.process(u,0),this.pos=0)}return this.length+=l.length,this.roundClean(),this}digestInto(l){Gr(this),gb(l,this),this.finished=!0;const{buffer:u,view:r,blockLen:h,isLE:m}=this;let{pos:p}=this;u[p++]=128,ao(this.buffer.subarray(p)),this.padOffset>h-p&&(this.process(r,0),p=0);for(let T=p;T<h;T++)u[T]=0;r.setBigUint64(h-8,BigInt(this.length*8),m),this.process(r,0);const v=qr(l),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const x=y/4,A=this.get();if(x>A.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<x;T++)v.setUint32(4*T,A[T],m)}digest(){const{buffer:l,outputLen:u}=this;this.digestInto(l);const r=l.slice(0,u);return this.destroy(),r}_cloneInto(l){l||(l=new this.constructor),l.set(...this.get());const{blockLen:u,buffer:r,length:h,finished:m,destroyed:p,pos:v}=this;return l.destroyed=p,l.finished=m,l.length=h,l.pos=v,h%u&&l.buffer.set(r),l}clone(){return this._cloneInto()}}const ei=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Eb=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ti=new Uint32Array(64);class jb extends Nb{constructor(l){super(64,l,8,!1)}get(){const{A:l,B:u,C:r,D:h,E:m,F:p,G:v,H:y}=this;return[l,u,r,h,m,p,v,y]}set(l,u,r,h,m,p,v,y){this.A=l|0,this.B=u|0,this.C=r|0,this.D=h|0,this.E=m|0,this.F=p|0,this.G=v|0,this.H=y|0}process(l,u){for(let T=0;T<16;T++,u+=4)ti[T]=l.getUint32(u,!1);for(let T=16;T<64;T++){const X=ti[T-15],O=ti[T-2],B=Ha(X,7)^Ha(X,18)^X>>>3,Q=Ha(O,17)^Ha(O,19)^O>>>10;ti[T]=Q+ti[T-7]+B+ti[T-16]|0}let{A:r,B:h,C:m,D:p,E:v,F:y,G:x,H:A}=this;for(let T=0;T<64;T++){const X=Ha(v,6)^Ha(v,11)^Ha(v,25),O=A+X+wb(v,y,x)+Eb[T]+ti[T]|0,Q=(Ha(r,2)^Ha(r,13)^Ha(r,22))+_b(r,h,m)|0;A=x,x=y,y=v,v=p+O|0,p=m,m=h,h=r,r=O+Q|0}r=r+this.A|0,h=h+this.B|0,m=m+this.C|0,p=p+this.D|0,v=v+this.E|0,y=y+this.F|0,x=x+this.G|0,A=A+this.H|0,this.set(r,h,m,p,v,y,x,A)}roundClean(){ao(ti)}destroy(){this.set(0,0,0,0,0,0,0,0),ao(this.buffer)}}class Cb extends jb{constructor(){super(32);ue(this,"A",ei[0]|0);ue(this,"B",ei[1]|0);ue(this,"C",ei[2]|0);ue(this,"D",ei[3]|0);ue(this,"E",ei[4]|0);ue(this,"F",ei[5]|0);ue(this,"G",ei[6]|0);ue(this,"H",ei[7]|0)}}const js=xb(()=>new Cb,Sb(1));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ed=BigInt(0),yd=BigInt(1);function Zr(o,l=""){if(typeof o!="boolean"){const u=l&&`"${l}" `;throw new Error(u+"expected boolean, got type="+typeof o)}return o}function Tg(o){if(typeof o=="bigint"){if(!Kr(o))throw new Error("positive bigint expected, got "+o)}else Ga(o);return o}function Mr(o){const l=Tg(o).toString(16);return l.length&1?"0"+l:l}function Ag(o){if(typeof o!="string")throw new Error("hex string expected, got "+typeof o);return o===""?Ed:BigInt("0x"+o)}function Pr(o){return Ag(Wr(o))}function kg(o){return Ag(Wr(Tb(Ot(o)).reverse()))}function jd(o,l){Ga(l),o=Tg(o);const u=Vr(o.toString(16).padStart(l*2,"0"));if(u.length!==l)throw new Error("number too large");return u}function Mg(o,l){return jd(o,l).reverse()}function Tb(o){return Uint8Array.from(o)}const Kr=o=>typeof o=="bigint"&&Ed<=o;function Ab(o,l,u){return Kr(o)&&Kr(l)&&Kr(u)&&l<=o&&o<u}function kb(o,l,u,r){if(!Ab(l,u,r))throw new Error("expected valid "+o+": "+u+" <= n < "+r+", got "+l)}function Mb(o){let l;for(l=0;o>Ed;o>>=yd,l+=1);return l}const Cd=o=>(yd<<BigInt(o))-yd;function Rb(o,l,u){if(Ga(o,"hashLen"),Ga(l,"qByteLen"),typeof u!="function")throw new Error("hmacFn must be a function");const r=te=>new Uint8Array(te),h=Uint8Array.of(),m=Uint8Array.of(0),p=Uint8Array.of(1),v=1e3;let y=r(o),x=r(o),A=0;const T=()=>{y.fill(1),x.fill(0),A=0},X=(...te)=>u(x,li(y,...te)),O=(te=h)=>{x=X(m,te),y=X(),te.length!==0&&(x=X(p,te),y=X())},B=()=>{if(A++>=v)throw new Error("drbg: tried max amount of iterations");let te=0;const ce=[];for(;te<l;){y=X();const he=y.slice();ce.push(he),te+=y.length}return li(...ce)};return(te,ce)=>{T(),O(te);let he;for(;!(he=ce(B()));)O();return T(),he}}function Td(o,l={},u={}){if(!o||typeof o!="object")throw new Error("expected valid options object");function r(m,p,v){const y=o[m];if(v&&y===void 0)return;const x=typeof y;if(x!==p||y===null)throw new Error(`param "${m}" is invalid: expected ${p}, got ${x}`)}const h=(m,p)=>Object.entries(m).forEach(([v,y])=>r(v,y,p));h(l,!1),h(u,!0)}function ng(o){const l=new WeakMap;return(u,...r)=>{const h=l.get(u);if(h!==void 0)return h;const m=o(u,...r);return l.set(u,m),m}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const na=BigInt(0),Cn=BigInt(1),Ri=BigInt(2),Rg=BigInt(3),Dg=BigInt(4),Ug=BigInt(5),Db=BigInt(7),Og=BigInt(8),Ub=BigInt(9),zg=BigInt(16);function ja(o,l){const u=o%l;return u>=na?u:l+u}function ag(o,l){if(o===na)throw new Error("invert: expected non-zero number");if(l<=na)throw new Error("invert: expected positive modulus, got "+l);let u=ja(o,l),r=l,h=na,m=Cn;for(;u!==na;){const v=r/u,y=r%u,x=h-m*v;r=u,u=y,h=m,m=x}if(r!==Cn)throw new Error("invert: does not exist");return ja(h,l)}function Ad(o,l,u){if(!o.eql(o.sqr(l),u))throw new Error("Cannot find square root")}function Lg(o,l){const u=(o.ORDER+Cn)/Dg,r=o.pow(l,u);return Ad(o,r,l),r}function Ob(o,l){const u=(o.ORDER-Ug)/Og,r=o.mul(l,Ri),h=o.pow(r,u),m=o.mul(l,h),p=o.mul(o.mul(m,Ri),h),v=o.mul(m,o.sub(p,o.ONE));return Ad(o,v,l),v}function zb(o){const l=kd(o),u=Bg(o),r=u(l,l.neg(l.ONE)),h=u(l,r),m=u(l,l.neg(r)),p=(o+Db)/zg;return(v,y)=>{let x=v.pow(y,p),A=v.mul(x,r);const T=v.mul(x,h),X=v.mul(x,m),O=v.eql(v.sqr(A),y),B=v.eql(v.sqr(T),y);x=v.cmov(x,A,O),A=v.cmov(X,T,B);const Q=v.eql(v.sqr(A),y),te=v.cmov(x,A,Q);return Ad(v,te,y),te}}function Bg(o){if(o<Rg)throw new Error("sqrt is not defined for small field");let l=o-Cn,u=0;for(;l%Ri===na;)l/=Ri,u++;let r=Ri;const h=kd(o);for(;lg(h,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(u===1)return Lg;let m=h.pow(r,l);const p=(l+Cn)/Ri;return function(y,x){if(y.is0(x))return x;if(lg(y,x)!==1)throw new Error("Cannot find square root");let A=u,T=y.mul(y.ONE,m),X=y.pow(x,l),O=y.pow(x,p);for(;!y.eql(X,y.ONE);){if(y.is0(X))return y.ZERO;let B=1,Q=y.sqr(X);for(;!y.eql(Q,y.ONE);)if(B++,Q=y.sqr(Q),B===A)throw new Error("Cannot find square root");const te=Cn<<BigInt(A-B-1),ce=y.pow(T,te);A=B,T=y.sqr(ce),X=y.mul(X,T),O=y.mul(O,ce)}return O}}function Lb(o){return o%Dg===Rg?Lg:o%Og===Ug?Ob:o%zg===Ub?zb(o):Bg(o)}const Bb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Hb(o){const l={ORDER:"bigint",BYTES:"number",BITS:"number"},u=Bb.reduce((r,h)=>(r[h]="function",r),l);return Td(o,u),o}function qb(o,l,u){if(u<na)throw new Error("invalid exponent, negatives unsupported");if(u===na)return o.ONE;if(u===Cn)return l;let r=o.ONE,h=l;for(;u>na;)u&Cn&&(r=o.mul(r,h)),h=o.sqr(h),u>>=Cn;return r}function Hg(o,l,u=!1){const r=new Array(l.length).fill(u?o.ZERO:void 0),h=l.reduce((p,v,y)=>o.is0(v)?p:(r[y]=p,o.mul(p,v)),o.ONE),m=o.inv(h);return l.reduceRight((p,v,y)=>o.is0(v)?p:(r[y]=o.mul(p,r[y]),o.mul(p,v)),m),r}function lg(o,l){const u=(o.ORDER-Cn)/Ri,r=o.pow(l,u),h=o.eql(r,o.ONE),m=o.eql(r,o.ZERO),p=o.eql(r,o.neg(o.ONE));if(!h&&!m&&!p)throw new Error("invalid Legendre symbol result");return h?1:m?0:-1}function Kb(o,l){l!==void 0&&Ga(l);const u=l!==void 0?l:o.toString(2).length,r=Math.ceil(u/8);return{nBitLength:u,nByteLength:r}}class Yb{constructor(l,u={}){ue(this,"ORDER");ue(this,"BITS");ue(this,"BYTES");ue(this,"isLE");ue(this,"ZERO",na);ue(this,"ONE",Cn);ue(this,"_lengths");ue(this,"_sqrt");ue(this,"_mod");var p;if(l<=na)throw new Error("invalid field: expected ORDER > 0, got "+l);let r;this.isLE=!1,u!=null&&typeof u=="object"&&(typeof u.BITS=="number"&&(r=u.BITS),typeof u.sqrt=="function"&&(this.sqrt=u.sqrt),typeof u.isLE=="boolean"&&(this.isLE=u.isLE),u.allowedLengths&&(this._lengths=(p=u.allowedLengths)==null?void 0:p.slice()),typeof u.modFromBytes=="boolean"&&(this._mod=u.modFromBytes));const{nBitLength:h,nByteLength:m}=Kb(l,r);if(m>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");this.ORDER=l,this.BITS=h,this.BYTES=m,this._sqrt=void 0,Object.preventExtensions(this)}create(l){return ja(l,this.ORDER)}isValid(l){if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return na<=l&&l<this.ORDER}is0(l){return l===na}isValidNot0(l){return!this.is0(l)&&this.isValid(l)}isOdd(l){return(l&Cn)===Cn}neg(l){return ja(-l,this.ORDER)}eql(l,u){return l===u}sqr(l){return ja(l*l,this.ORDER)}add(l,u){return ja(l+u,this.ORDER)}sub(l,u){return ja(l-u,this.ORDER)}mul(l,u){return ja(l*u,this.ORDER)}pow(l,u){return qb(this,l,u)}div(l,u){return ja(l*ag(u,this.ORDER),this.ORDER)}sqrN(l){return l*l}addN(l,u){return l+u}subN(l,u){return l-u}mulN(l,u){return l*u}inv(l){return ag(l,this.ORDER)}sqrt(l){return this._sqrt||(this._sqrt=Lb(this.ORDER)),this._sqrt(this,l)}toBytes(l){return this.isLE?Mg(l,this.BYTES):jd(l,this.BYTES)}fromBytes(l,u=!1){Ot(l);const{_lengths:r,BYTES:h,isLE:m,ORDER:p,_mod:v}=this;if(r){if(!r.includes(l.length)||l.length>h)throw new Error("Field.fromBytes: expected "+r+" bytes, got "+l.length);const x=new Uint8Array(h);x.set(l,m?0:x.length-l.length),l=x}if(l.length!==h)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+l.length);let y=m?kg(l):Pr(l);if(v&&(y=ja(y,p)),!u&&!this.isValid(y))throw new Error("invalid field element: outside of range 0..ORDER");return y}invertBatch(l){return Hg(this,l)}cmov(l,u,r){return r?u:l}}function kd(o,l={}){return new Yb(o,l)}function qg(o){if(typeof o!="bigint")throw new Error("field order must be bigint");const l=o.toString(2).length;return Math.ceil(l/8)}function Kg(o){const l=qg(o);return l+Math.ceil(l/2)}function Gb(o,l,u=!1){Ot(o);const r=o.length,h=qg(l),m=Kg(l);if(r<16||r<m||r>1024)throw new Error("expected "+m+"-1024 bytes of input, got "+r);const p=u?kg(o):Pr(o),v=ja(p,l-Cn)+Cn;return u?Mg(v,h):jd(v,h)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Es=BigInt(0),Di=BigInt(1);function Xr(o,l){const u=l.negate();return o?u:l}function ig(o,l){const u=Hg(o.Fp,l.map(r=>r.Z));return l.map((r,h)=>o.fromAffine(r.toAffine(u[h])))}function Yg(o,l){if(!Number.isSafeInteger(o)||o<=0||o>l)throw new Error("invalid window size, expected [1.."+l+"], got W="+o)}function cd(o,l){Yg(o,l);const u=Math.ceil(l/o)+1,r=2**(o-1),h=2**o,m=Cd(o),p=BigInt(o);return{windows:u,windowSize:r,mask:m,maxNumber:h,shiftBy:p}}function sg(o,l,u){const{windowSize:r,mask:h,maxNumber:m,shiftBy:p}=u;let v=Number(o&h),y=o>>p;v>r&&(v-=m,y+=Di);const x=l*r,A=x+Math.abs(v)-1,T=v===0,X=v<0,O=l%2!==0;return{nextN:y,offset:A,isZero:T,isNeg:X,isNegF:O,offsetF:x}}const od=new WeakMap,Gg=new WeakMap;function rd(o){return Gg.get(o)||1}function cg(o){if(o!==Es)throw new Error("invalid wNAF")}class Vb{constructor(l,u){ue(this,"BASE");ue(this,"ZERO");ue(this,"Fn");ue(this,"bits");this.BASE=l.BASE,this.ZERO=l.ZERO,this.Fn=l.Fn,this.bits=u}_unsafeLadder(l,u,r=this.ZERO){let h=l;for(;u>Es;)u&Di&&(r=r.add(h)),h=h.double(),u>>=Di;return r}precomputeWindow(l,u){const{windows:r,windowSize:h}=cd(u,this.bits),m=[];let p=l,v=p;for(let y=0;y<r;y++){v=p,m.push(v);for(let x=1;x<h;x++)v=v.add(p),m.push(v);p=v.double()}return m}wNAF(l,u,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let h=this.ZERO,m=this.BASE;const p=cd(l,this.bits);for(let v=0;v<p.windows;v++){const{nextN:y,offset:x,isZero:A,isNeg:T,isNegF:X,offsetF:O}=sg(r,v,p);r=y,A?m=m.add(Xr(X,u[O])):h=h.add(Xr(T,u[x]))}return cg(r),{p:h,f:m}}wNAFUnsafe(l,u,r,h=this.ZERO){const m=cd(l,this.bits);for(let p=0;p<m.windows&&r!==Es;p++){const{nextN:v,offset:y,isZero:x,isNeg:A}=sg(r,p,m);if(r=v,!x){const T=u[y];h=h.add(A?T.negate():T)}}return cg(r),h}getPrecomputes(l,u,r){let h=od.get(u);return h||(h=this.precomputeWindow(u,l),l!==1&&(typeof r=="function"&&(h=r(h)),od.set(u,h))),h}cached(l,u,r){const h=rd(l);return this.wNAF(h,this.getPrecomputes(h,l,r),u)}unsafe(l,u,r,h){const m=rd(l);return m===1?this._unsafeLadder(l,u,h):this.wNAFUnsafe(m,this.getPrecomputes(m,l,r),u,h)}createCache(l,u){Yg(u,this.bits),Gg.set(l,u),od.delete(l)}hasCache(l){return rd(l)!==1}}function Zb(o,l,u,r){let h=l,m=o.ZERO,p=o.ZERO;for(;u>Es||r>Es;)u&Di&&(m=m.add(h)),r&Di&&(p=p.add(h)),h=h.double(),u>>=Di,r>>=Di;return{p1:m,p2:p}}function og(o,l,u){if(l){if(l.ORDER!==o)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Hb(l),l}else return kd(o,{isLE:u})}function Xb(o,l,u={},r){if(r===void 0&&(r=o==="edwards"),!l||typeof l!="object")throw new Error(`expected valid ${o} CURVE object`);for(const y of["p","n","h"]){const x=l[y];if(!(typeof x=="bigint"&&x>Es))throw new Error(`CURVE.${y} must be positive bigint`)}const h=og(l.p,u.Fp,r),m=og(l.n,u.Fn,r),v=["Gx","Gy","a","b"];for(const y of v)if(!h.isValid(l[y]))throw new Error(`CURVE.${y} must be valid field element of CURVE.Fp`);return l=Object.freeze(Object.assign({},l)),{CURVE:l,Fp:h,Fn:m}}function Qb(o,l){return function(r){const h=o(r);return{secretKey:h,publicKey:l(h)}}}class Vg{constructor(l,u){ue(this,"oHash");ue(this,"iHash");ue(this,"blockLen");ue(this,"outputLen");ue(this,"finished",!1);ue(this,"destroyed",!1);if(Nd(l),Ot(u,void 0,"key"),this.iHash=l.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,h=new Uint8Array(r);h.set(u.length>r?l.create().update(u).digest():u);for(let m=0;m<h.length;m++)h[m]^=54;this.iHash.update(h),this.oHash=l.create();for(let m=0;m<h.length;m++)h[m]^=106;this.oHash.update(h),ao(h)}update(l){return Gr(this),this.iHash.update(l),this}digestInto(l){Gr(this),Ot(l,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(l),this.oHash.update(l),this.oHash.digestInto(l),this.destroy()}digest(){const l=new Uint8Array(this.oHash.outputLen);return this.digestInto(l),l}_cloneInto(l){l||(l=Object.create(Object.getPrototypeOf(this),{}));const{oHash:u,iHash:r,finished:h,destroyed:m,blockLen:p,outputLen:v}=this;return l=l,l.finished=h,l.destroyed=m,l.blockLen=p,l.outputLen=v,l.oHash=u._cloneInto(l.oHash),l.iHash=r._cloneInto(l.iHash),l}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Md=(o,l,u)=>new Vg(o,l).update(u).digest();Md.create=(o,l)=>new Vg(o,l);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rg=(o,l)=>(o+(o>=0?l:-l)/Zg)/l;function Jb(o,l,u){const[[r,h],[m,p]]=l,v=rg(p*o,u),y=rg(-h*o,u);let x=o-v*r-y*m,A=-v*h-y*p;const T=x<pl,X=A<pl;T&&(x=-x),X&&(A=-A);const O=Cd(Math.ceil(Mb(u)/2))+_s;if(x<pl||x>=O||A<pl||A>=O)throw new Error("splitScalar (endomorphism): failed, k="+o);return{k1neg:T,k1:x,k2neg:X,k2:A}}function vd(o){if(!["compact","recovered","der"].includes(o))throw new Error('Signature format must be "compact", "recovered", or "der"');return o}function ud(o,l){const u={};for(let r of Object.keys(l))u[r]=o[r]===void 0?l[r]:o[r];return Zr(u.lowS,"lowS"),Zr(u.prehash,"prehash"),u.format!==void 0&&vd(u.format),u}class Ib extends Error{constructor(l=""){super(l)}}const ai={Err:Ib,_tlv:{encode:(o,l)=>{const{Err:u}=ai;if(o<0||o>256)throw new u("tlv.encode: wrong tag");if(l.length&1)throw new u("tlv.encode: unpadded data");const r=l.length/2,h=Mr(r);if(h.length/2&128)throw new u("tlv.encode: long form length too big");const m=r>127?Mr(h.length/2|128):"";return Mr(o)+m+h+l},decode(o,l){const{Err:u}=ai;let r=0;if(o<0||o>256)throw new u("tlv.encode: wrong tag");if(l.length<2||l[r++]!==o)throw new u("tlv.decode: wrong tlv");const h=l[r++],m=!!(h&128);let p=0;if(!m)p=h;else{const y=h&127;if(!y)throw new u("tlv.decode(long): indefinite length not supported");if(y>4)throw new u("tlv.decode(long): byte length is too big");const x=l.subarray(r,r+y);if(x.length!==y)throw new u("tlv.decode: length bytes not complete");if(x[0]===0)throw new u("tlv.decode(long): zero leftmost byte");for(const A of x)p=p<<8|A;if(r+=y,p<128)throw new u("tlv.decode(long): not minimal encoding")}const v=l.subarray(r,r+p);if(v.length!==p)throw new u("tlv.decode: wrong value length");return{v,l:l.subarray(r+p)}}},_int:{encode(o){const{Err:l}=ai;if(o<pl)throw new l("integer: negative integers are not allowed");let u=Mr(o);if(Number.parseInt(u[0],16)&8&&(u="00"+u),u.length&1)throw new l("unexpected DER parsing assertion: unpadded hex");return u},decode(o){const{Err:l}=ai;if(o[0]&128)throw new l("invalid signature integer: negative");if(o[0]===0&&!(o[1]&128))throw new l("invalid signature integer: unnecessary leading zero");return Pr(o)}},toSig(o){const{Err:l,_int:u,_tlv:r}=ai,h=Ot(o,void 0,"signature"),{v:m,l:p}=r.decode(48,h);if(p.length)throw new l("invalid signature: left bytes after parsing");const{v,l:y}=r.decode(2,m),{v:x,l:A}=r.decode(2,y);if(A.length)throw new l("invalid signature: left bytes after parsing");return{r:u.decode(v),s:u.decode(x)}},hexFromSig(o){const{_tlv:l,_int:u}=ai,r=l.encode(2,u.encode(o.r)),h=l.encode(2,u.encode(o.s)),m=r+h;return l.encode(48,m)}},pl=BigInt(0),_s=BigInt(1),Zg=BigInt(2),Rr=BigInt(3),$b=BigInt(4);function Fb(o,l={}){const u=Xb("weierstrass",o,l),{Fp:r,Fn:h}=u;let m=u.CURVE;const{h:p,n:v}=m;Td(l,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object"});const{endo:y}=l;if(y&&(!r.is0(m.a)||typeof y.beta!="bigint"||!Array.isArray(y.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const x=Qg(r,h);function A(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function T(ie,Y,U){const{x:N,y:K}=Y.toAffine(),V=r.toBytes(N);if(Zr(U,"isCompressed"),U){A();const ne=!r.isOdd(K);return li(Xg(ne),V)}else return li(Uint8Array.of(4),V,r.toBytes(K))}function X(ie){Ot(ie,void 0,"Point");const{publicKey:Y,publicKeyUncompressed:U}=x,N=ie.length,K=ie[0],V=ie.subarray(1);if(N===Y&&(K===2||K===3)){const ne=r.fromBytes(V);if(!r.isValid(ne))throw new Error("bad point: is not on curve, wrong x");const se=Q(ne);let S;try{S=r.sqrt(se)}catch(le){const W=le instanceof Error?": "+le.message:"";throw new Error("bad point: is not on curve, sqrt error"+W)}A();const R=r.isOdd(S);return(K&1)===1!==R&&(S=r.neg(S)),{x:ne,y:S}}else if(N===U&&K===4){const ne=r.BYTES,se=r.fromBytes(V.subarray(0,ne)),S=r.fromBytes(V.subarray(ne,ne*2));if(!te(se,S))throw new Error("bad point: is not on curve");return{x:se,y:S}}else throw new Error(`bad point: got length ${N}, expected compressed=${Y} or uncompressed=${U}`)}const O=l.toBytes||T,B=l.fromBytes||X;function Q(ie){const Y=r.sqr(ie),U=r.mul(Y,ie);return r.add(r.add(U,r.mul(ie,m.a)),m.b)}function te(ie,Y){const U=r.sqr(Y),N=Q(ie);return r.eql(U,N)}if(!te(m.Gx,m.Gy))throw new Error("bad curve params: generator point");const ce=r.mul(r.pow(m.a,Rr),$b),he=r.mul(r.sqr(m.b),BigInt(27));if(r.is0(r.add(ce,he)))throw new Error("bad curve params: a or b");function de(ie,Y,U=!1){if(!r.isValid(Y)||U&&r.is0(Y))throw new Error(`bad point coordinate ${ie}`);return Y}function fe(ie){if(!(ie instanceof oe))throw new Error("Weierstrass Point expected")}function Te(ie){if(!y||!y.basises)throw new Error("no endo");return Jb(ie,y.basises,h.ORDER)}const Le=ng((ie,Y)=>{const{X:U,Y:N,Z:K}=ie;if(r.eql(K,r.ONE))return{x:U,y:N};const V=ie.is0();Y==null&&(Y=V?r.ONE:r.inv(K));const ne=r.mul(U,Y),se=r.mul(N,Y),S=r.mul(K,Y);if(V)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:ne,y:se}}),je=ng(ie=>{if(ie.is0()){if(l.allowInfinityPoint&&!r.is0(ie.Y))return;throw new Error("bad point: ZERO")}const{x:Y,y:U}=ie.toAffine();if(!r.isValid(Y)||!r.isValid(U))throw new Error("bad point: x or y not field elements");if(!te(Y,U))throw new Error("bad point: equation left != right");if(!ie.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function Se(ie,Y,U,N,K){return U=new oe(r.mul(U.X,ie),U.Y,U.Z),Y=Xr(N,Y),U=Xr(K,U),Y.add(U)}const me=class me{constructor(Y,U,N){ue(this,"X");ue(this,"Y");ue(this,"Z");this.X=de("x",Y),this.Y=de("y",U,!0),this.Z=de("z",N),Object.freeze(this)}static CURVE(){return m}static fromAffine(Y){const{x:U,y:N}=Y||{};if(!Y||!r.isValid(U)||!r.isValid(N))throw new Error("invalid affine point");if(Y instanceof me)throw new Error("projective point not allowed");return r.is0(U)&&r.is0(N)?me.ZERO:new me(U,N,r.ONE)}static fromBytes(Y){const U=me.fromAffine(B(Ot(Y,void 0,"point")));return U.assertValidity(),U}static fromHex(Y){return me.fromBytes(Vr(Y))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(Y=8,U=!0){return Ne.createCache(this,Y),U||this.multiply(Rr),this}assertValidity(){je(this)}hasEvenY(){const{y:Y}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(Y)}equals(Y){fe(Y);const{X:U,Y:N,Z:K}=this,{X:V,Y:ne,Z:se}=Y,S=r.eql(r.mul(U,se),r.mul(V,K)),R=r.eql(r.mul(N,se),r.mul(ne,K));return S&&R}negate(){return new me(this.X,r.neg(this.Y),this.Z)}double(){const{a:Y,b:U}=m,N=r.mul(U,Rr),{X:K,Y:V,Z:ne}=this;let se=r.ZERO,S=r.ZERO,R=r.ZERO,H=r.mul(K,K),le=r.mul(V,V),W=r.mul(ne,ne),ae=r.mul(K,V);return ae=r.add(ae,ae),R=r.mul(K,ne),R=r.add(R,R),se=r.mul(Y,R),S=r.mul(N,W),S=r.add(se,S),se=r.sub(le,S),S=r.add(le,S),S=r.mul(se,S),se=r.mul(ae,se),R=r.mul(N,R),W=r.mul(Y,W),ae=r.sub(H,W),ae=r.mul(Y,ae),ae=r.add(ae,R),R=r.add(H,H),H=r.add(R,H),H=r.add(H,W),H=r.mul(H,ae),S=r.add(S,H),W=r.mul(V,ne),W=r.add(W,W),H=r.mul(W,ae),se=r.sub(se,H),R=r.mul(W,le),R=r.add(R,R),R=r.add(R,R),new me(se,S,R)}add(Y){fe(Y);const{X:U,Y:N,Z:K}=this,{X:V,Y:ne,Z:se}=Y;let S=r.ZERO,R=r.ZERO,H=r.ZERO;const le=m.a,W=r.mul(m.b,Rr);let ae=r.mul(U,V),pe=r.mul(N,ne),Me=r.mul(K,se),Ue=r.add(U,N),Ye=r.add(V,ne);Ue=r.mul(Ue,Ye),Ye=r.add(ae,pe),Ue=r.sub(Ue,Ye),Ye=r.add(U,K);let D=r.add(V,se);return Ye=r.mul(Ye,D),D=r.add(ae,Me),Ye=r.sub(Ye,D),D=r.add(N,K),S=r.add(ne,se),D=r.mul(D,S),S=r.add(pe,Me),D=r.sub(D,S),H=r.mul(le,Ye),S=r.mul(W,Me),H=r.add(S,H),S=r.sub(pe,H),H=r.add(pe,H),R=r.mul(S,H),pe=r.add(ae,ae),pe=r.add(pe,ae),Me=r.mul(le,Me),Ye=r.mul(W,Ye),pe=r.add(pe,Me),Me=r.sub(ae,Me),Me=r.mul(le,Me),Ye=r.add(Ye,Me),ae=r.mul(pe,Ye),R=r.add(R,ae),ae=r.mul(D,Ye),S=r.mul(Ue,S),S=r.sub(S,ae),ae=r.mul(Ue,pe),H=r.mul(D,H),H=r.add(H,ae),new me(S,R,H)}subtract(Y){return this.add(Y.negate())}is0(){return this.equals(me.ZERO)}multiply(Y){const{endo:U}=l;if(!h.isValidNot0(Y))throw new Error("invalid scalar: out of range");let N,K;const V=ne=>Ne.cached(this,ne,se=>ig(me,se));if(U){const{k1neg:ne,k1:se,k2neg:S,k2:R}=Te(Y),{p:H,f:le}=V(se),{p:W,f:ae}=V(R);K=le.add(ae),N=Se(U.beta,H,W,ne,S)}else{const{p:ne,f:se}=V(Y);N=ne,K=se}return ig(me,[N,K])[0]}multiplyUnsafe(Y){const{endo:U}=l,N=this;if(!h.isValid(Y))throw new Error("invalid scalar: out of range");if(Y===pl||N.is0())return me.ZERO;if(Y===_s)return N;if(Ne.hasCache(this))return this.multiply(Y);if(U){const{k1neg:K,k1:V,k2neg:ne,k2:se}=Te(Y),{p1:S,p2:R}=Zb(me,N,V,se);return Se(U.beta,S,R,K,ne)}else return Ne.unsafe(N,Y)}toAffine(Y){return Le(this,Y)}isTorsionFree(){const{isTorsionFree:Y}=l;return p===_s?!0:Y?Y(me,this):Ne.unsafe(this,v).is0()}clearCofactor(){const{clearCofactor:Y}=l;return p===_s?this:Y?Y(me,this):this.multiplyUnsafe(p)}isSmallOrder(){return this.multiplyUnsafe(p).is0()}toBytes(Y=!0){return Zr(Y,"isCompressed"),this.assertValidity(),O(me,this,Y)}toHex(Y=!0){return Wr(this.toBytes(Y))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}};ue(me,"BASE",new me(m.Gx,m.Gy,r.ONE)),ue(me,"ZERO",new me(r.ZERO,r.ONE,r.ZERO)),ue(me,"Fp",r),ue(me,"Fn",h);let oe=me;const De=h.BITS,Ne=new Vb(oe,l.endo?Math.ceil(De/2):De);return oe.BASE.precompute(8),oe}function Xg(o){return Uint8Array.of(o?2:3)}function Qg(o,l){return{secretKey:l.BYTES,publicKey:1+o.BYTES,publicKeyUncompressed:1+2*o.BYTES,publicKeyHasPrefix:!0,signature:2*l.BYTES}}function Wb(o,l={}){const{Fn:u}=o,r=l.randomBytes||Cg,h=Object.assign(Qg(o.Fp,u),{seed:Kg(u.ORDER)});function m(O){try{const B=u.fromBytes(O);return u.isValidNot0(B)}catch{return!1}}function p(O,B){const{publicKey:Q,publicKeyUncompressed:te}=h;try{const ce=O.length;return B===!0&&ce!==Q||B===!1&&ce!==te?!1:!!o.fromBytes(O)}catch{return!1}}function v(O=r(h.seed)){return Gb(Ot(O,h.seed,"seed"),u.ORDER)}function y(O,B=!0){return o.BASE.multiply(u.fromBytes(O)).toBytes(B)}function x(O){const{secretKey:B,publicKey:Q,publicKeyUncompressed:te}=h;if(!_d(O)||"_lengths"in u&&u._lengths||B===Q)return;const ce=Ot(O,void 0,"key").length;return ce===Q||ce===te}function A(O,B,Q=!0){if(x(O)===!0)throw new Error("first arg must be private key");if(x(B)===!1)throw new Error("second arg must be public key");const te=u.fromBytes(O);return o.fromBytes(B).multiply(te).toBytes(Q)}const T={isValidSecretKey:m,isValidPublicKey:p,randomSecretKey:v},X=Qb(v,y);return Object.freeze({getPublicKey:y,getSharedSecret:A,keygen:X,Point:o,utils:T,lengths:h})}function Pb(o,l,u={}){Nd(l),Td(u,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"}),u=Object.assign({},u);const r=u.randomBytes||Cg,h=u.hmac||((Y,U)=>Md(l,Y,U)),{Fp:m,Fn:p}=o,{ORDER:v,BITS:y}=p,{keygen:x,getPublicKey:A,getSharedSecret:T,utils:X,lengths:O}=Wb(o,u),B={prehash:!0,lowS:typeof u.lowS=="boolean"?u.lowS:!0,format:"compact",extraEntropy:!1},Q=v*Zg<m.ORDER;function te(Y){const U=v>>_s;return Y>U}function ce(Y,U){if(!p.isValidNot0(U))throw new Error(`invalid signature ${Y}: out of range 1..Point.Fn.ORDER`);return U}function he(){if(Q)throw new Error('"recovered" sig type is not supported for cofactor >2 curves')}function de(Y,U){vd(U);const N=O.signature,K=U==="compact"?N:U==="recovered"?N+1:void 0;return Ot(Y,K)}class fe{constructor(U,N,K){ue(this,"r");ue(this,"s");ue(this,"recovery");if(this.r=ce("r",U),this.s=ce("s",N),K!=null){if(he(),![0,1,2,3].includes(K))throw new Error("invalid recovery id");this.recovery=K}Object.freeze(this)}static fromBytes(U,N=B.format){de(U,N);let K;if(N==="der"){const{r:S,s:R}=ai.toSig(Ot(U));return new fe(S,R)}N==="recovered"&&(K=U[0],N="compact",U=U.subarray(1));const V=O.signature/2,ne=U.subarray(0,V),se=U.subarray(V,V*2);return new fe(p.fromBytes(ne),p.fromBytes(se),K)}static fromHex(U,N){return this.fromBytes(Vr(U),N)}assertRecovery(){const{recovery:U}=this;if(U==null)throw new Error("invalid recovery id: must be present");return U}addRecoveryBit(U){return new fe(this.r,this.s,U)}recoverPublicKey(U){const{r:N,s:K}=this,V=this.assertRecovery(),ne=V===2||V===3?N+v:N;if(!m.isValid(ne))throw new Error("invalid recovery id: sig.r+curve.n != R.x");const se=m.toBytes(ne),S=o.fromBytes(li(Xg((V&1)===0),se)),R=p.inv(ne),H=Le(Ot(U,void 0,"msgHash")),le=p.create(-H*R),W=p.create(K*R),ae=o.BASE.multiplyUnsafe(le).add(S.multiplyUnsafe(W));if(ae.is0())throw new Error("invalid recovery: point at infinify");return ae.assertValidity(),ae}hasHighS(){return te(this.s)}toBytes(U=B.format){if(vd(U),U==="der")return Vr(ai.hexFromSig(this));const{r:N,s:K}=this,V=p.toBytes(N),ne=p.toBytes(K);return U==="recovered"?(he(),li(Uint8Array.of(this.assertRecovery()),V,ne)):li(V,ne)}toHex(U){return Wr(this.toBytes(U))}}const Te=u.bits2int||function(U){if(U.length>8192)throw new Error("input is too large");const N=Pr(U),K=U.length*8-y;return K>0?N>>BigInt(K):N},Le=u.bits2int_modN||function(U){return p.create(Te(U))},je=Cd(y);function Se(Y){return kb("num < 2^"+y,Y,pl,je),p.toBytes(Y)}function oe(Y,U){return Ot(Y,void 0,"message"),U?Ot(l(Y),void 0,"prehashed message"):Y}function De(Y,U,N){const{lowS:K,prehash:V,extraEntropy:ne}=ud(N,B);Y=oe(Y,V);const se=Le(Y),S=p.fromBytes(U);if(!p.isValidNot0(S))throw new Error("invalid private key");const R=[Se(S),Se(se)];if(ne!=null&&ne!==!1){const ae=ne===!0?r(O.secretKey):ne;R.push(Ot(ae,void 0,"extraEntropy"))}const H=li(...R),le=se;function W(ae){const pe=Te(ae);if(!p.isValidNot0(pe))return;const Me=p.inv(pe),Ue=o.BASE.multiply(pe).toAffine(),Ye=p.create(Ue.x);if(Ye===pl)return;const D=p.create(Me*p.create(le+Ye*S));if(D===pl)return;let Ee=(Ue.x===Ye?0:2)|Number(Ue.y&_s),Pe=D;return K&&te(D)&&(Pe=p.neg(D),Ee^=1),new fe(Ye,Pe,Q?void 0:Ee)}return{seed:H,k2sig:W}}function Ne(Y,U,N={}){const{seed:K,k2sig:V}=De(Y,U,N);return Rb(l.outputLen,p.BYTES,h)(K,V).toBytes(N.format)}function me(Y,U,N,K={}){const{lowS:V,prehash:ne,format:se}=ud(K,B);if(N=Ot(N,void 0,"publicKey"),U=oe(U,ne),!_d(Y)){const S=Y instanceof fe?", use sig.toBytes()":"";throw new Error("verify expects Uint8Array signature"+S)}de(Y,se);try{const S=fe.fromBytes(Y,se),R=o.fromBytes(N);if(V&&S.hasHighS())return!1;const{r:H,s:le}=S,W=Le(U),ae=p.inv(le),pe=p.create(W*ae),Me=p.create(H*ae),Ue=o.BASE.multiplyUnsafe(pe).add(R.multiplyUnsafe(Me));return Ue.is0()?!1:p.create(Ue.x)===H}catch{return!1}}function ie(Y,U,N={}){const{prehash:K}=ud(N,B);return U=oe(U,K),fe.fromBytes(Y,"recovered").recoverPublicKey(U).toBytes()}return Object.freeze({keygen:x,getPublicKey:A,getSharedSecret:T,utils:X,lengths:O,Point:o,sign:Ne,verify:me,recoverPublicKey:ie,Signature:fe,hash:l})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e0={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},t0=Fb(e0),co=Pb(t0,js);function n0(o,l,u,r){Nd(o);const h=bb({dkLen:32,asyncTick:10},r),{c:m,dkLen:p,asyncTick:v}=h;if(Ga(m,"c"),Ga(p,"dkLen"),Ga(v,"asyncTick"),m<1)throw new Error("iterations (c) must be >= 1");const y=tg(l,"password"),x=tg(u,"salt"),A=new Uint8Array(p),T=Md.create(o,y),X=T._cloneInto().update(x);return{c:m,dkLen:p,asyncTick:v,DK:A,PRF:T,PRFSalt:X}}function a0(o,l,u,r,h){return o.destroy(),l.destroy(),r&&r.destroy(),ao(h),u}function l0(o,l,u,r){const{c:h,dkLen:m,DK:p,PRF:v,PRFSalt:y}=n0(o,l,u,r);let x;const A=new Uint8Array(4),T=qr(A),X=new Uint8Array(v.outputLen);for(let O=1,B=0;B<m;O++,B+=v.outputLen){const Q=p.subarray(B,B+v.outputLen);T.setInt32(0,O,!1),(x=y._cloneInto(x)).update(A).digestInto(X),Q.set(X.subarray(0,Q.length));for(let te=1;te<h;te++){v._cloneInto(x).update(X).digestInto(X);for(let ce=0;ce<Q.length;ce++)Q[ce]^=X[ce]}}return a0(v,y,p,x,X)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function i0(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function Yn(o,l,u=""){const r=i0(o),h=o==null?void 0:o.length,m=l!==void 0;if(!r||m&&h!==l){const p=u&&`"${u}" `,v=m?` of length ${l}`:"",y=r?`length=${h}`:`type=${typeof o}`;throw new Error(p+"expected Uint8Array"+v+", got "+y)}return o}function Qr(o,l=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(l&&o.finished)throw new Error("Hash#digest() has already been called")}function Jg(o,l){Yn(o,void 0,"output");const u=l.outputLen;if(o.length<u)throw new Error("digestInto() expects output buffer of length at least "+u)}function s0(o){return new Uint8Array(o.buffer,o.byteOffset,o.byteLength)}function gl(o){return new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4))}function yl(...o){for(let l=0;l<o.length;l++)o[l].fill(0)}function eu(o){return new DataView(o.buffer,o.byteOffset,o.byteLength)}const c0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function o0(o,l){if(o.length!==l.length)return!1;let u=0;for(let r=0;r<o.length;r++)u|=o[r]^l[r];return u===0}const r0=(o,l)=>{function u(r,...h){if(Yn(r,void 0,"key"),!c0)throw new Error("Non little-endian hardware is not yet supported");if(o.nonceLength!==void 0){const A=h[0];Yn(A,o.varSizeNonce?void 0:o.nonceLength,"nonce")}const m=o.tagLength;m&&h[1]!==void 0&&Yn(h[1],void 0,"AAD");const p=l(r,...h),v=(A,T)=>{if(T!==void 0){if(A!==2)throw new Error("cipher output not supported");Yn(T,void 0,"output")}};let y=!1;return{encrypt(A,T){if(y)throw new Error("cannot encrypt() twice with same key + nonce");return y=!0,Yn(A),v(p.encrypt.length,T),p.encrypt(A,T)},decrypt(A,T){if(Yn(A),m&&A.length<m)throw new Error('"ciphertext" expected length bigger than tagLength='+m);return v(p.decrypt.length,T),p.decrypt(A,T)}}}return Object.assign(u,o),u};function u0(o,l,u=!0){if(l===void 0)return new Uint8Array(o);if(l.length!==o)throw new Error('"output" expected Uint8Array of length '+o+", got: "+l.length);if(u&&!Jr(l))throw new Error("invalid output, must be aligned");return l}function f0(o,l,u){const r=new Uint8Array(16),h=eu(r);return h.setBigUint64(0,BigInt(l),u),h.setBigUint64(8,BigInt(o),u),r}function Jr(o){return o.byteOffset%4===0}function Ui(o){return Uint8Array.from(o)}const ml=16,Rd=new Uint8Array(16),Ya=gl(Rd),d0=225,h0=(o,l,u,r)=>{const h=r&1;return{s3:u<<31|r>>>1,s2:l<<31|u>>>1,s1:o<<31|l>>>1,s0:o>>>1^d0<<24&-(h&1)}},da=o=>(o>>>0&255)<<24|(o>>>8&255)<<16|(o>>>16&255)<<8|o>>>24&255|0;function m0(o){o.reverse();const l=o[15]&1;let u=0;for(let r=0;r<o.length;r++){const h=o[r];o[r]=h>>>1|u,u=(h&1)<<7}return o[0]^=-l&225,o}const p0=o=>o>64*1024?8:o>1024?4:2;class Ig{constructor(l,u){ue(this,"blockLen",ml);ue(this,"outputLen",ml);ue(this,"s0",0);ue(this,"s1",0);ue(this,"s2",0);ue(this,"s3",0);ue(this,"finished",!1);ue(this,"t");ue(this,"W");ue(this,"windowSize");Yn(l,16,"key"),l=Ui(l);const r=eu(l);let h=r.getUint32(0,!1),m=r.getUint32(4,!1),p=r.getUint32(8,!1),v=r.getUint32(12,!1);const y=[];for(let B=0;B<128;B++)y.push({s0:da(h),s1:da(m),s2:da(p),s3:da(v)}),{s0:h,s1:m,s2:p,s3:v}=h0(h,m,p,v);const x=p0(u||1024);if(![1,2,4,8].includes(x))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=x;const T=128/x,X=this.windowSize=2**x,O=[];for(let B=0;B<T;B++)for(let Q=0;Q<X;Q++){let te=0,ce=0,he=0,de=0;for(let fe=0;fe<x;fe++){if(!(Q>>>x-fe-1&1))continue;const{s0:Le,s1:je,s2:Se,s3:oe}=y[x*B+fe];te^=Le,ce^=je,he^=Se,de^=oe}O.push({s0:te,s1:ce,s2:he,s3:de})}this.t=O}_updateBlock(l,u,r,h){l^=this.s0,u^=this.s1,r^=this.s2,h^=this.s3;const{W:m,t:p,windowSize:v}=this;let y=0,x=0,A=0,T=0;const X=(1<<m)-1;let O=0;for(const B of[l,u,r,h])for(let Q=0;Q<4;Q++){const te=B>>>8*Q&255;for(let ce=8/m-1;ce>=0;ce--){const he=te>>>m*ce&X,{s0:de,s1:fe,s2:Te,s3:Le}=p[O*v+he];y^=de,x^=fe,A^=Te,T^=Le,O+=1}}this.s0=y,this.s1=x,this.s2=A,this.s3=T}update(l){Qr(this),Yn(l),l=Ui(l);const u=gl(l),r=Math.floor(l.length/ml),h=l.length%ml;for(let m=0;m<r;m++)this._updateBlock(u[m*4+0],u[m*4+1],u[m*4+2],u[m*4+3]);return h&&(Rd.set(l.subarray(r*ml)),this._updateBlock(Ya[0],Ya[1],Ya[2],Ya[3]),yl(Ya)),this}destroy(){const{t:l}=this;for(const u of l)u.s0=0,u.s1=0,u.s2=0,u.s3=0}digestInto(l){Qr(this),Jg(l,this),this.finished=!0;const{s0:u,s1:r,s2:h,s3:m}=this,p=gl(l);return p[0]=u,p[1]=r,p[2]=h,p[3]=m,l}digest(){const l=new Uint8Array(ml);return this.digestInto(l),this.destroy(),l}}class g0 extends Ig{constructor(l,u){Yn(l);const r=m0(Ui(l));super(r,u),yl(r)}update(l){Qr(this),Yn(l),l=Ui(l);const u=gl(l),r=l.length%ml,h=Math.floor(l.length/ml);for(let m=0;m<h;m++)this._updateBlock(da(u[m*4+3]),da(u[m*4+2]),da(u[m*4+1]),da(u[m*4+0]));return r&&(Rd.set(l.subarray(h*ml)),this._updateBlock(da(Ya[3]),da(Ya[2]),da(Ya[1]),da(Ya[0])),yl(Ya)),this}digestInto(l){Qr(this),Jg(l,this),this.finished=!0;const{s0:u,s1:r,s2:h,s3:m}=this,p=gl(l);return p[0]=u,p[1]=r,p[2]=h,p[3]=m,l.reverse()}}function $g(o){const l=(r,h)=>o(h,r.length).update(r).digest(),u=o(new Uint8Array(16),0);return l.outputLen=u.outputLen,l.blockLen=u.blockLen,l.create=(r,h)=>o(r,h),l}const ug=$g((o,l)=>new Ig(o,l));$g((o,l)=>new g0(o,l));const bd=16,y0=4,Dr=new Uint8Array(bd),v0=283;function b0(o){if(![16,24,32].includes(o.length))throw new Error('"aes key" expected Uint8Array of length 16/24/32, got length='+o.length)}function Dd(o){return o<<1^v0&-(o>>7)}function fg(o,l){let u=0;for(;l>0;l>>=1)u^=o&-(l&1),o=Dd(o);return u}const x0=(()=>{const o=new Uint8Array(256);for(let u=0,r=1;u<256;u++,r^=Dd(r))o[u]=r;const l=new Uint8Array(256);l[0]=99;for(let u=0;u<255;u++){let r=o[255-u];r|=r<<8,l[o[u]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return yl(o),l})(),S0=o=>o<<24|o>>>8,fd=o=>o<<8|o>>>24;function w0(o,l){if(o.length!==256)throw new Error("Wrong sbox length");const u=new Uint32Array(256).map((x,A)=>l(o[A])),r=u.map(fd),h=r.map(fd),m=h.map(fd),p=new Uint32Array(256*256),v=new Uint32Array(256*256),y=new Uint16Array(256*256);for(let x=0;x<256;x++)for(let A=0;A<256;A++){const T=x*256+A;p[T]=u[x]^r[A],v[T]=h[x]^m[A],y[T]=o[x]<<8|o[A]}return{sbox:o,sbox2:y,T0:u,T1:r,T2:h,T3:m,T01:p,T23:v}}const Fg=w0(x0,o=>fg(o,3)<<24|o<<16|o<<8|fg(o,2)),_0=(()=>{const o=new Uint8Array(16);for(let l=0,u=1;l<16;l++,u=Dd(u))o[l]=u;return o})();function N0(o){Yn(o);const l=o.length;b0(o);const{sbox2:u}=Fg,r=[];Jr(o)||r.push(o=Ui(o));const h=gl(o),m=h.length,p=y=>no(u,y,y,y,y),v=new Uint32Array(l+28);v.set(h);for(let y=m;y<v.length;y++){let x=v[y-1];y%m===0?x=p(S0(x))^_0[y/m-1]:m>6&&y%m===4&&(x=p(x)),v[y]=v[y-m]^x}return yl(...r),v}function Ur(o,l,u,r,h,m){return o[u<<8&65280|r>>>8&255]^l[h>>>8&65280|m>>>24&255]}function no(o,l,u,r,h){return o[l&255|u&65280]|o[r>>>16&255|h>>>16&65280]<<16}function dg(o,l,u,r,h){const{sbox2:m,T01:p,T23:v}=Fg;let y=0;l^=o[y++],u^=o[y++],r^=o[y++],h^=o[y++];const x=o.length/4-2;for(let B=0;B<x;B++){const Q=o[y++]^Ur(p,v,l,u,r,h),te=o[y++]^Ur(p,v,u,r,h,l),ce=o[y++]^Ur(p,v,r,h,l,u),he=o[y++]^Ur(p,v,h,l,u,r);l=Q,u=te,r=ce,h=he}const A=o[y++]^no(m,l,u,r,h),T=o[y++]^no(m,u,r,h,l),X=o[y++]^no(m,r,h,l,u),O=o[y++]^no(m,h,l,u,r);return{s0:A,s1:T,s2:X,s3:O}}function Or(o,l,u,r,h){Yn(u,bd,"nonce"),Yn(r),h=u0(r.length,h);const m=u,p=gl(m),v=eu(m),y=gl(r),x=gl(h),A=l?0:12,T=r.length;let X=v.getUint32(A,l),{s0:O,s1:B,s2:Q,s3:te}=dg(o,p[0],p[1],p[2],p[3]);for(let he=0;he+4<=y.length;he+=4)x[he+0]=y[he+0]^O,x[he+1]=y[he+1]^B,x[he+2]=y[he+2]^Q,x[he+3]=y[he+3]^te,X=X+1>>>0,v.setUint32(A,X,l),{s0:O,s1:B,s2:Q,s3:te}=dg(o,p[0],p[1],p[2],p[3]);const ce=bd*Math.floor(y.length/y0);if(ce<T){const he=new Uint32Array([O,B,Q,te]),de=s0(he);for(let fe=ce,Te=0;fe<T;fe++,Te++)h[fe]=r[fe]^de[Te];yl(he)}return h}function E0(o,l,u,r,h){const m=h?h.length:0,p=o.create(u,r.length+m);h&&p.update(h);const v=f0(8*r.length,8*m,l);p.update(r),p.update(v);const y=p.digest();return yl(v),y}const Cs=r0({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(l,u,r){if(u.length<8)throw new Error("aes/gcm: invalid nonce length");const h=16;function m(v,y,x){const A=E0(ug,!1,v,x,r);for(let T=0;T<y.length;T++)A[T]^=y[T];return A}function p(){const v=N0(l),y=Dr.slice(),x=Dr.slice();if(Or(v,!1,x,x,y),u.length===12)x.set(u);else{const T=Dr.slice();eu(T).setBigUint64(8,BigInt(u.length*8),!1);const O=ug.create(y).update(u).update(T);O.digestInto(x),O.destroy()}const A=Or(v,!1,x,Dr);return{xk:v,authKey:y,counter:x,tagMask:A}}return{encrypt(v){const{xk:y,authKey:x,counter:A,tagMask:T}=p(),X=new Uint8Array(v.length+h),O=[y,x,A,T];Jr(v)||O.push(v=Ui(v)),Or(y,!1,A,v,X.subarray(0,v.length));const B=m(x,T,X.subarray(0,X.length-h));return O.push(B),X.set(B,v.length),yl(...O),X},decrypt(v){const{xk:y,authKey:x,counter:A,tagMask:T}=p(),X=[y,x,T,A];Jr(v)||X.push(v=Ui(v));const O=v.subarray(0,-h),B=v.subarray(-h),Q=m(x,T,O);if(X.push(Q),!o0(Q,B))throw new Error("aes/gcm: invalid ghash tag");const te=Or(y,!1,A,O);return yl(...X),te}}}),Wg=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];function lo(o){const l=new Uint8Array(o);return crypto.getRandomValues(l),l}function j0(o){const l=o?`_${o.slice(0,16)}`:"";return{PRIVATE_KEY:`accord_private_key${l}`,PUBLIC_KEY:`accord_public_key${l}`,CHANNEL_KEYS:`accord_channel_keys${l}`}}let Pg;function qa(o){Pg=o}function oo(o){return j0(o||Pg)}const vl={PRIVATE_KEY:"accord_private_key",PUBLIC_KEY:"accord_public_key",CHANNEL_KEYS:"accord_channel_keys"},io={name:"ECDH",namedCurve:"P-256"},C0={name:"AES-GCM",length:256},Gn=typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u";function T0(){return!0}async function ni(o){const l=new TextEncoder().encode(o);if(Gn){const r=await crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(r)).map(h=>h.toString(16).padStart(2,"0")).join("")}const u=js(l);return Array.from(u).map(r=>r.toString(16).padStart(2,"0")).join("")}function Oi(o){const l=String.fromCharCode.apply(null,Array.from(new Uint8Array(o)));return btoa(l)}function so(o){const l=atob(o),u=new ArrayBuffer(l.length),r=new Uint8Array(u);for(let h=0;h<l.length;h++)r[h]=l.charCodeAt(h);return u}function Ud(o){return Oi(o.buffer.slice(o.byteOffset,o.byteOffset+o.byteLength))}function A0(o){return new Uint8Array(so(o))}async function ey(o,l){const u=new TextEncoder,r=await window.crypto.subtle.importKey("raw",u.encode(o),"PBKDF2",!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:l,iterations:1e5,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}function ty(o,l){const u=new TextEncoder;return l0(js,u.encode(o),l,{c:1e5,dkLen:32})}async function ny(o,l){const u=lo(16),r=lo(12);if(Gn){const y=await ey(l,u),x=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},y,o),A=new Uint8Array(u.length+r.length+x.byteLength);return A.set(u,0),A.set(r,u.length),A.set(new Uint8Array(x),u.length+r.length),Oi(A.buffer)}const h=ty(l,u),p=Cs(h,r).encrypt(new Uint8Array(o)),v=new Uint8Array(u.length+r.length+p.length);return v.set(u,0),v.set(r,u.length),v.set(p,u.length+r.length),Ud(v)}async function ay(o,l){const u=new Uint8Array(so(o)),r=u.slice(0,16),h=u.slice(16,28),m=u.slice(28);if(Gn){const x=await ey(l,r);return window.crypto.subtle.decrypt({name:"AES-GCM",iv:h},x,m)}const p=ty(l,r),y=Cs(p,h).decrypt(m);return y.buffer.slice(y.byteOffset,y.byteOffset+y.byteLength)}function ly(){return`accord-key-wrap:${localStorage.getItem("accord_token")||""}`}async function dd(){return Gn?await window.crypto.subtle.generateKey(io,!0,["deriveKey","deriveBits"]):k0()}function k0(){const o=lo(32),l=co.getPublicKey(o,!1),u=tu(l),r=nu(o,l);return{privateKey:{_nobleRaw:o,_noblePkcs8:r},publicKey:{_nobleRaw:l,_nobleSpki:u},_privateKeyRaw:o,_publicKeyRaw:u}}const Ns=new Uint8Array([48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7]);function tu(o){const l=new Uint8Array(3+o.length);l[0]=3,l[1]=1+o.length,l[2]=0,l.set(o,3);const u=Ns.length+l.length,r=new Uint8Array(2+u);return r[0]=48,r[1]=u,r.set(Ns,2),r.set(l,2+Ns.length),r}function nu(o,l){const u=M0(o,l),r=new Uint8Array([2,1,0]),h=new Uint8Array(2+u.length);h[0]=4,h[1]=u.length,h.set(u,2);const m=r.length+Ns.length+h.length,p=new Uint8Array(2+m);p[0]=48,p[1]=m;let v=2;return p.set(r,v),v+=r.length,p.set(Ns,v),v+=Ns.length,p.set(h,v),p}function M0(o,l){const u=new Uint8Array([2,1,1]),r=new Uint8Array([4,32,...o]),h=new Uint8Array([3,1+l.length,0,...l]),m=new Uint8Array([161,h.length,...h]),p=u.length+r.length+m.length,v=new Uint8Array(2+p);v[0]=48,v[1]=p;let y=2;return v.set(u,y),y+=u.length,v.set(r,y),y+=r.length,v.set(m,y),v}function Od(o){for(let l=0;l<o.length-33;l++)if(o[l]===4&&o[l+1]===32){const u=o.slice(l+2,l+34);try{return co.getPublicKey(u,!1),u}catch{continue}}throw new Error("Could not extract P-256 private key from PKCS8")}async function Mi(o){if(Gn&&!o._nobleSpki){const u=await window.crypto.subtle.exportKey("spki",o);return Oi(u)}const l=o._nobleSpki;if(!l)throw new Error("Cannot export noble public key: missing SPKI data");return Ud(l)}async function zr(o,l){let u,r;if(Gn&&!o.privateKey._nobleRaw)u=await window.crypto.subtle.exportKey("pkcs8",o.privateKey),r=await window.crypto.subtle.exportKey("spki",o.publicKey);else{const v=o.privateKey._noblePkcs8,y=o.publicKey._nobleSpki;u=v.buffer.slice(v.byteOffset,v.byteOffset+v.byteLength),r=y.buffer.slice(y.byteOffset,y.byteOffset+y.byteLength)}const h=ly(),m=await ny(u,h),p=oo(l);localStorage.setItem(p.PRIVATE_KEY,m),localStorage.setItem(p.PUBLIC_KEY,Oi(r))}async function Lr(o){try{const l=oo(o);let u=localStorage.getItem(l.PRIVATE_KEY),r=localStorage.getItem(l.PUBLIC_KEY);if((!u||!r)&&(u=localStorage.getItem(vl.PRIVATE_KEY),r=localStorage.getItem(vl.PUBLIC_KEY)),!u||!r)return null;let h;try{const A=ly();h=await ay(u,A)}catch{h=so(u)}const m=so(r);if(Gn){const A=await window.crypto.subtle.importKey("pkcs8",h,io,!0,["deriveKey","deriveBits"]),T=await window.crypto.subtle.importKey("spki",m,io,!0,[]);return{privateKey:A,publicKey:T}}const p=Od(new Uint8Array(h)),v=co.getPublicKey(p,!1),y=tu(v),x=nu(p,v);return{privateKey:{_nobleRaw:p,_noblePkcs8:x},publicKey:{_nobleRaw:v,_nobleSpki:y}}}catch(l){return console.warn("Failed to load keys from storage (may be password-encrypted):",l),null}}async function R0(o){const l=new TextEncoder,u=localStorage.getItem("accord_token")||"",r=localStorage.getItem(vl.PRIVATE_KEY)||"",h=`${o}:${u}:${r.slice(0,32)}`,m=l.encode(h);if(Gn){const p=await window.crypto.subtle.digest("SHA-256",m);return window.crypto.subtle.importKey("raw",p,C0,!1,["encrypt","decrypt"])}return js(m)}async function D0(o,l){return R0(l)}const Yr=new Map;async function ha(o,l){if(Yr.has(l))return Yr.get(l);const u=await D0(o,l);return Yr.set(l,u),u}function U0(){Yr.clear()}async function Ir(o,l){const u=new TextEncoder().encode(l),r=lo(12);if(Gn&&o instanceof CryptoKey){const y=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},o,u),x=new Uint8Array(r.length+y.byteLength);return x.set(r),x.set(new Uint8Array(y),r.length),Oi(x.buffer)}const h=o instanceof Uint8Array?o:new Uint8Array(0),p=Cs(h,r).encrypt(u),v=new Uint8Array(r.length+p.length);return v.set(r),v.set(p,r.length),Ud(v)}async function $r(o,l){const u=A0(l),r=u.slice(0,12),h=u.slice(12);if(Gn&&o instanceof CryptoKey){const y=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},o,h);return new TextDecoder().decode(y)}const m=o instanceof Uint8Array?o:new Uint8Array(0),v=Cs(m,r).decrypt(h);return new TextDecoder().decode(v)}async function iy(o,l){const u=lo(12);if(Gn&&o instanceof CryptoKey){const v=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:u},o,l),y=new Uint8Array(u.length+v.byteLength);return y.set(u),y.set(new Uint8Array(v),u.length),y.buffer}const r=o instanceof Uint8Array?o:new Uint8Array(0),m=Cs(r,u).encrypt(new Uint8Array(l)),p=new Uint8Array(u.length+m.length);return p.set(u),p.set(m,u.length),p.buffer.slice(p.byteOffset,p.byteOffset+p.byteLength)}async function xd(o,l){const u=new Uint8Array(l),r=u.slice(0,12),h=u.slice(12);if(Gn&&o instanceof CryptoKey)return window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},o,h);const m=o instanceof Uint8Array?o:new Uint8Array(0),v=Cs(m,r).decrypt(h);return v.buffer.slice(v.byteOffset,v.byteOffset+v.byteLength)}async function sy(o,l){return Ir(o,l)}async function Sd(o,l){return $r(o,l)}function O0(o){if(o.length!==32)throw new Error("Expected 32 bytes of entropy");const u=js(o)[0];let r="";for(const m of o)r+=m.toString(2).padStart(8,"0");r+=u.toString(2).padStart(8,"0");const h=[];for(let m=0;m<24;m++){const p=parseInt(r.slice(m*11,(m+1)*11),2);h.push(Wg[p])}return h.join(" ")}function z0(o){const l=o.trim().toLowerCase().split(/\s+/);if(l.length!==24)throw new Error("Expected 24 words");let u="";for(const y of l){const x=Wg.indexOf(y);if(x===-1)throw new Error(`Unknown word: "${y}"`);u+=x.toString(2).padStart(11,"0")}const r=u.slice(0,256),h=u.slice(256,264),m=new Uint8Array(32);for(let y=0;y<32;y++)m[y]=parseInt(r.slice(y*8,(y+1)*8),2);const v=js(m)[0].toString(2).padStart(8,"0");if(h!==v)throw new Error("Invalid mnemonic checksum");return m}async function L0(o){if(o.privateKey._nobleRaw)return o.privateKey._nobleRaw;const l=await window.crypto.subtle.exportKey("pkcs8",o.privateKey);return Od(new Uint8Array(l))}async function hg(o){const l=await L0(o);return O0(l)}function B0(o){const l=z0(o),u=co.getPublicKey(l,!1),r=tu(u),h=nu(l,u);return{privateKey:{_nobleRaw:l,_noblePkcs8:h},publicKey:{_nobleRaw:u,_nobleSpki:r}}}async function Br(o,l,u){let r,h;if(Gn&&!o.privateKey._nobleRaw)r=await window.crypto.subtle.exportKey("pkcs8",o.privateKey),h=await window.crypto.subtle.exportKey("spki",o.publicKey);else{const y=o.privateKey._noblePkcs8,x=o.publicKey._nobleSpki;r=y.buffer.slice(y.byteOffset,y.byteOffset+y.byteLength),h=x.buffer.slice(x.byteOffset,x.byteOffset+x.byteLength)}const m=`accord-key-wrap:${l}`,p=await ny(r,m),v=oo(u);localStorage.setItem(v.PRIVATE_KEY,p),localStorage.setItem(v.PUBLIC_KEY,Oi(h)),localStorage.setItem(vl.PRIVATE_KEY,p),localStorage.setItem(vl.PUBLIC_KEY,Oi(h))}async function mg(o,l){const u=oo(l);let r=localStorage.getItem(u.PRIVATE_KEY),h=localStorage.getItem(u.PUBLIC_KEY);(!r||!h)&&(r=localStorage.getItem(vl.PRIVATE_KEY),h=localStorage.getItem(vl.PUBLIC_KEY));try{if(!r||!h)return null;const m=`accord-key-wrap:${o}`,p=await ay(r,m),v=so(h);if(Gn){const X=await window.crypto.subtle.importKey("pkcs8",p,io,!0,["deriveKey","deriveBits"]),O=await window.crypto.subtle.importKey("spki",v,io,!0,[]);return{privateKey:X,publicKey:O}}const y=Od(new Uint8Array(p)),x=co.getPublicKey(y,!1),A=tu(x),T=nu(y,x);return{privateKey:{_nobleRaw:y,_noblePkcs8:T},publicKey:{_nobleRaw:x,_nobleSpki:A}}}catch{return null}}function pg(o){const l=oo(o);return!!localStorage.getItem(l.PUBLIC_KEY)||!!localStorage.getItem(vl.PUBLIC_KEY)}function gg(){return localStorage.getItem(vl.PUBLIC_KEY)}const zd="accord_token",Ld="accord_token_expiry",H0=1440*60*1e3;function to(o,l=H0){const u=Date.now()+l;localStorage.setItem(zd,o),localStorage.setItem(Ld,u.toString())}function q0(){const o=localStorage.getItem(zd),l=localStorage.getItem(Ld);if(!o)return null;if(l){const u=parseInt(l,10);if(Date.now()>u)return cy(),null}return o}function cy(){localStorage.removeItem(zd),localStorage.removeItem(Ld)}const K0=({channelId:o,token:l,keyPair:u,encryptionEnabled:r})=>{const h=w.useRef(null),[m,p]=w.useState({isUploading:!1,progress:null,fileName:""}),v=()=>{var A;(A=h.current)==null||A.click()},y=w.useCallback(async A=>{p({isUploading:!0,progress:{loaded:0,total:A.size,percentage:0},fileName:A.name});try{let T=A,X;if(r&&u)try{const O=await ha(u.privateKey,o),B=await A.arrayBuffer(),Q=await iy(O,B);X=await sy(O,A.name),T=new File([Q],"encrypted_file",{type:"application/octet-stream"})}catch(O){console.warn("Failed to encrypt file, uploading plaintext:",O)}await P.uploadFile(o,T,l,X,(O,B)=>{const Q=Math.round(O/B*100);p(te=>({...te,progress:{loaded:O,total:B,percentage:Q}}))}),p({isUploading:!1,progress:null,fileName:""}),h.current&&(h.current.value="")}catch(T){console.error("File upload failed:",T),alert(`File upload failed: ${T instanceof Error?T.message:"Unknown error"}`),p({isUploading:!1,progress:null,fileName:""})}},[o,l,u,r]),x=async A=>{var X;const T=(X=A.target.files)==null?void 0:X[0];T&&await y(T)};return s.jsxs("div",{className:"file-upload-wrapper",children:[s.jsx("input",{ref:h,type:"file",onChange:x,style:{display:"none"},disabled:m.isUploading}),s.jsx("button",{onClick:v,disabled:m.isUploading,className:"file-upload-btn",title:"Attach file",children:""}),m.isUploading&&m.progress&&s.jsxs("div",{className:"file-upload-progress",children:[s.jsxs("div",{className:"file-upload-progress-name",children:["Uploading ",m.fileName]}),s.jsx("div",{className:"file-upload-progress-bar-track",children:s.jsx("div",{className:"file-upload-progress-bar-fill",style:{width:`${m.progress.percentage}%`}})}),s.jsxs("div",{className:"file-upload-progress-text",children:[m.progress.percentage,"% (",Fr(m.progress.loaded)," / ",Fr(m.progress.total),")"]})]})]})},Y0=({channelId:o,token:l,keyPair:u,encryptionEnabled:r,children:h})=>{const[m,p]=w.useState(!1),[v,y]=w.useState({isUploading:!1,progress:null,fileName:""}),x=w.useRef(0),A=w.useCallback(B=>{B.preventDefault(),B.stopPropagation(),x.current++,B.dataTransfer.items&&B.dataTransfer.items.length>0&&p(!0)},[]),T=w.useCallback(B=>{B.preventDefault(),B.stopPropagation(),x.current--,x.current===0&&p(!1)},[]),X=w.useCallback(B=>{B.preventDefault(),B.stopPropagation()},[]),O=w.useCallback(async B=>{B.preventDefault(),B.stopPropagation(),p(!1),x.current=0;const Q=B.dataTransfer.files;if(!Q||Q.length===0)return;const te=Q[0];y({isUploading:!0,progress:{loaded:0,total:te.size,percentage:0},fileName:te.name});try{let ce=te,he;if(r&&u)try{const de=await ha(u.privateKey,o),fe=await te.arrayBuffer(),Te=await iy(de,fe);he=await sy(de,te.name),ce=new File([Te],"encrypted_file",{type:"application/octet-stream"})}catch(de){console.warn("Failed to encrypt file, uploading plaintext:",de)}await P.uploadFile(o,ce,l,he,(de,fe)=>{const Te=Math.round(de/fe*100);y(Le=>({...Le,progress:{loaded:de,total:fe,percentage:Te}}))}),y({isUploading:!1,progress:null,fileName:""})}catch(ce){console.error("File upload failed:",ce),alert(`File upload failed: ${ce instanceof Error?ce.message:"Unknown error"}`),y({isUploading:!1,progress:null,fileName:""})}},[o,l,u,r]);return s.jsxs("div",{className:"file-drop-zone",onDragEnter:A,onDragLeave:T,onDragOver:X,onDrop:O,children:[h,m&&s.jsx("div",{className:"file-drop-overlay",children:s.jsxs("div",{className:"file-drop-overlay-content",children:[s.jsx("span",{className:"file-drop-icon",children:""}),s.jsx("span",{children:"Drop file to upload"})]})}),v.isUploading&&v.progress&&s.jsxs("div",{className:"file-drop-upload-toast",children:[s.jsxs("div",{className:"file-upload-progress-name",children:["Uploading ",v.fileName]}),s.jsx("div",{className:"file-upload-progress-bar-track",children:s.jsx("div",{className:"file-upload-progress-bar-fill",style:{width:`${v.progress.percentage}%`}})}),s.jsxs("div",{className:"file-upload-progress-text",children:[v.progress.percentage,"%"]})]})]})},G0=({file:o,token:l,channelId:u,keyPair:r,encryptionEnabled:h})=>{const[m,p]=w.useState(o.encrypted_filename),[v,y]=w.useState(null),[x,A]=w.useState(!1);w.useEffect(()=>{let O=!1;return(async()=>{let Q=o.encrypted_filename;if(h&&r)try{const te=await ha(r.privateKey,u);Q=await Sd(te,o.encrypted_filename)}catch{}if(!O&&(p(Q),Z0(Q)))try{const te=await P.downloadFile(o.id,l);let ce=te;if(h&&r)try{const he=await ha(r.privateKey,u);ce=await xd(he,te)}catch{}if(!O){const he=new Blob([ce]);y(URL.createObjectURL(he))}}catch{}})(),()=>{O=!0}},[o.id,o.encrypted_filename,u,l,r,h]),w.useEffect(()=>()=>{v&&URL.revokeObjectURL(v)},[v]);const T=async()=>{A(!0);try{const O=await P.downloadFile(o.id,l);let B=O,Q=m;if(h&&r)try{const de=await ha(r.privateKey,u);B=await xd(de,O),Q=await Sd(de,o.encrypted_filename)}catch{}const te=new Blob([B]),ce=URL.createObjectURL(te),he=document.createElement("a");he.href=ce,he.download=Q,document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(ce)}catch(O){console.error("Download failed:",O),alert(`Download failed: ${O instanceof Error?O.message:"Unknown error"}`)}finally{A(!1)}},X=oy(m);return s.jsxs("div",{className:"file-attachment",children:[v&&s.jsx("div",{className:"file-attachment-image-preview",children:s.jsx("img",{src:v,alt:m,onClick:T})}),s.jsxs("div",{className:"file-attachment-info",children:[s.jsx("span",{className:"file-attachment-icon",children:X}),s.jsxs("div",{className:"file-attachment-details",children:[s.jsx("span",{className:"file-attachment-name",title:m,children:m}),s.jsx("span",{className:"file-attachment-size",children:Fr(o.file_size_bytes)})]}),s.jsx("button",{className:"file-attachment-download",onClick:T,disabled:x,title:"Download",children:x?"":""})]})]})},V0=({channelId:o,token:l,keyPair:u,encryptionEnabled:r})=>{const[h,m]=w.useState([]),[p,v]=w.useState(!1),[y,x]=w.useState(!1),A=w.useCallback(async()=>{if(y){v(!0);try{const B=await P.getChannelFiles(o,l);m(B)}catch(B){console.error("Failed to load files:",B)}finally{v(!1)}}},[o,l,y]);w.useEffect(()=>{A()},[A]);const T=async B=>{try{const Q=await P.downloadFile(B.id,l);let te=Q,ce=B.encrypted_filename;if(r&&u)try{const Te=await ha(u.privateKey,o);te=await xd(Te,Q),ce=await Sd(Te,B.encrypted_filename)}catch(Te){console.warn("Failed to decrypt file, using encrypted data:",Te)}const he=new Blob([te]),de=URL.createObjectURL(he),fe=document.createElement("a");fe.href=de,fe.download=ce,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(de)}catch(Q){console.error("File download failed:",Q),alert(`File download failed: ${Q instanceof Error?Q.message:"Unknown error"}`)}},X=async B=>{if(confirm(`Are you sure you want to delete "${B.encrypted_filename}"?`))try{await P.deleteFile(B.id,l),await A()}catch(Q){console.error("File deletion failed:",Q),alert(`File deletion failed: ${Q instanceof Error?Q.message:"Unknown error"}`)}},O=B=>{const Q=new Date(B*1e3);return Q.toLocaleDateString()+" "+Q.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return s.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[s.jsx("button",{onClick:()=>x(!y),className:"file-list-toggle-btn",title:"Show files",children:""}),y&&s.jsxs("div",{className:"file-list-panel",children:[s.jsxs("div",{className:"file-list-header",children:[s.jsx("div",{className:"file-list-title",children:"Channel Files"}),s.jsx("button",{className:"file-list-close",onClick:()=>x(!1),children:""})]}),p?s.jsx("div",{className:"file-list-empty",children:"Loading files..."}):h.length===0?s.jsx("div",{className:"file-list-empty",children:"No files uploaded yet"}):s.jsx("div",{className:"file-list-items",children:h.map(B=>s.jsxs("div",{className:"file-list-item",children:[s.jsx("div",{className:"file-list-item-icon",children:oy(B.encrypted_filename)}),s.jsxs("div",{className:"file-list-item-info",children:[s.jsx("div",{className:"file-list-item-name",children:B.encrypted_filename}),s.jsxs("div",{className:"file-list-item-meta",children:[Fr(B.file_size_bytes),"  ",O(B.created_at)]})]}),s.jsxs("div",{className:"file-list-item-actions",children:[s.jsx("button",{onClick:()=>T(B),className:"file-list-item-download",title:"Download",children:""}),s.jsx("button",{onClick:()=>X(B),className:"file-list-item-delete",title:"Delete",children:""})]})]},B.id))})]})]})};function Fr(o){if(o===0)return"0 B";const l=1024,u=["B","KB","MB","GB"],r=Math.floor(Math.log(o)/Math.log(l));return parseFloat((o/Math.pow(l,r)).toFixed(1))+" "+u[r]}function Z0(o){var u;const l=((u=o.split(".").pop())==null?void 0:u.toLowerCase())||"";return["jpg","jpeg","png","gif","webp","svg","bmp"].includes(l)}function oy(o){var u;const l=((u=o.split(".").pop())==null?void 0:u.toLowerCase())||"";return["jpg","jpeg","png","gif","webp","svg","bmp"].includes(l)?"":["mp4","webm","mov","avi"].includes(l)?"":["mp3","wav","ogg","flac","aac"].includes(l)?"":["pdf"].includes(l)?"":["zip","tar","gz","rar","7z"].includes(l)?"":["doc","docx","txt","md","rtf"].includes(l)?"":["xls","xlsx","csv"].includes(l)?"":["js","ts","py","rs","go","c","cpp","h","java"].includes(l)?"":["json","yaml","yml","toml","xml"].includes(l)?"":""}const X0=[{name:"Smileys",emojis:["","","","","","","","","","","",""]},{name:"Reactions",emojis:["","","","","","","","","","","",""]},{name:"Objects",emojis:["","","","","","","","","","","",""]}],Q0=({isOpen:o,onToggle:l,onSelect:u,onClose:r})=>{const h=w.useRef(null);return w.useEffect(()=>{if(!o)return;const m=p=>{h.current&&!h.current.contains(p.target)&&r()};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[o,r]),s.jsxs("div",{className:"emoji-picker-wrapper",ref:h,children:[s.jsx("button",{className:"emoji-picker-toggle",onClick:l,title:"Emoji picker",type:"button",children:""}),o&&s.jsx("div",{className:"emoji-picker-popup",children:X0.map(m=>s.jsxs("div",{className:"emoji-picker-category",children:[s.jsx("div",{className:"emoji-picker-category-label",children:m.name}),s.jsx("div",{className:"emoji-picker-grid",children:m.emojis.map(p=>s.jsx("button",{className:"emoji-picker-item",onClick:()=>u(p),type:"button",children:p},p))})]},m.name))})]})},J0=({ws:o,currentUserId:l,channelId:u,channelName:r,onLeave:h,privateKey:m})=>{const[p,v]=w.useState({channelId:null,isConnected:!1,isMuted:!0,isDeafened:!1,outputVolume:100,connectedUsers:[],isCapturingAudio:!1,vadThreshold:.01,isSpeaking:!1}),y=w.useRef(null),x=w.useRef(null),A=w.useRef(null),T=w.useRef(null),X=w.useRef(null),O=w.useRef(new Map),B=w.useRef(null),Q=w.useRef(null),te=w.useCallback(async()=>{try{y.current=new(window.AudioContext||window.webkitAudioContext);const oe=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:44100}});x.current=oe,A.current=y.current.createAnalyser(),A.current.fftSize=2048,A.current.smoothingTimeConstant=.8,T.current=y.current.createMediaStreamSource(oe),X.current=y.current.createScriptProcessor(4096,1,1),T.current.connect(A.current),A.current.connect(X.current),X.current.connect(y.current.destination),X.current.onaudioprocess=De=>{if(p.isMuted)return;const Ne=De.inputBuffer.getChannelData(0),me=new Int16Array(Ne.length);for(let U=0;U<Ne.length;U++)me[U]=Math.max(-1,Math.min(1,Ne[U]))*32767;const ie=me.buffer,Y=btoa(String.fromCharCode(...new Uint8Array(ie)));o&&o.isSocketConnected()&&(async()=>{let N=Y;if(m)try{const K=await ha(m,u);N=await Ir(K,Y)}catch{}o.send(JSON.stringify({type:"voice_packet",channel_id:u,user_id:l,data:N,encrypted:!!m}))})()},v(De=>({...De,isCapturingAudio:!0})),ce()}catch(oe){console.error("Failed to initialize audio:",oe),alert("Failed to access microphone. Please check permissions.")}},[o,u,l,p.isMuted]),ce=w.useCallback(()=>{B.current||(B.current=setInterval(()=>{if(!A.current||p.isMuted)return;const oe=new Uint8Array(A.current.frequencyBinCount);A.current.getByteFrequencyData(oe);const me=oe.reduce((ie,Y)=>ie+Y,0)/oe.length/255>p.vadThreshold;me!==p.isSpeaking&&(v(ie=>({...ie,isSpeaking:me})),o&&o.isSocketConnected()&&o.send(JSON.stringify({type:"voice_speaking",channel_id:u,user_id:l,speaking:me})),Q.current&&clearTimeout(Q.current),me||(Q.current=setTimeout(()=>{v(ie=>({...ie,isSpeaking:!1})),o&&o.isSocketConnected()&&o.send(JSON.stringify({type:"voice_speaking",channel_id:u,user_id:l,speaking:!1}))},500)))},100))},[A,p.isMuted,p.vadThreshold,p.isSpeaking,o,u,l]),he=w.useCallback(()=>{B.current&&(clearInterval(B.current),B.current=null),Q.current&&(clearTimeout(Q.current),Q.current=null)},[]),de=w.useCallback(async(oe,De)=>{if(!p.isDeafened)try{const Ne=atob(De),me=new Uint8Array(Ne.length);for(let V=0;V<Ne.length;V++)me[V]=Ne.charCodeAt(V);const ie=new Int16Array(me.buffer),Y=new Float32Array(ie.length);for(let V=0;V<ie.length;V++)Y[V]=ie[V]/32767;let U=O.current.get(oe);if(!U){const V=new(window.AudioContext||window.webkitAudioContext),ne=V.createGain();ne.connect(V.destination),ne.gain.value=p.outputVolume/100,U={context:V,gainNode:ne},O.current.set(oe,U)}const N=U.context.createBuffer(1,Y.length,44100);N.copyToChannel(Y,0);const K=U.context.createBufferSource();K.buffer=N,K.connect(U.gainNode),K.start()}catch(Ne){console.error("Failed to play audio:",Ne)}},[p.isDeafened,p.outputVolume]),fe=w.useCallback(async()=>{if(!p.isConnected)try{await te(),o&&o.isSocketConnected()&&o.send(JSON.stringify({type:"voice_join",channel_id:u,user_id:l})),v(oe=>({...oe,channelId:u,isConnected:!0}))}catch(oe){console.error("Failed to connect to voice:",oe)}},[te,o,u,l,p.isConnected]),Te=w.useCallback(()=>{o&&o.isSocketConnected()&&o.send(JSON.stringify({type:"voice_leave",channel_id:u,user_id:l})),he(),X.current&&(X.current.disconnect(),X.current=null),T.current&&(T.current.disconnect(),T.current=null),A.current&&(A.current.disconnect(),A.current=null),x.current&&(x.current.getTracks().forEach(oe=>oe.stop()),x.current=null),y.current&&(y.current.close(),y.current=null),O.current.forEach(oe=>{oe.context.close()}),O.current.clear(),v(oe=>({...oe,channelId:null,isConnected:!1,connectedUsers:[],isCapturingAudio:!1,isSpeaking:!1})),h()},[o,u,l,he,h]),Le=w.useCallback(()=>{v(oe=>({...oe,isMuted:!oe.isMuted}))},[]),je=w.useCallback(()=>{v(oe=>({...oe,isDeafened:!oe.isDeafened,isMuted:oe.isDeafened?oe.isMuted:!0}))},[]),Se=w.useCallback(oe=>{v(De=>({...De,outputVolume:Math.max(0,Math.min(100,oe))})),O.current.forEach(De=>{De.gainNode.gain.value=oe/100})},[]);return w.useEffect(()=>{if(!o)return;const oe=ie=>{ie.channel_id===u&&v(Y=>{var U,N;return{...Y,connectedUsers:[...Y.connectedUsers.filter(K=>K.userId!==ie.user_id),{userId:ie.user_id,displayName:((U=ie.public_key_hash)==null?void 0:U.slice(0,16))||`User ${(N=ie.user_id)==null?void 0:N.slice(0,8)}`,isSpeaking:!1,audioLevel:0}]}})},De=ie=>{if(ie.channel_id!==u)return;v(U=>({...U,connectedUsers:U.connectedUsers.filter(N=>N.userId!==ie.user_id)}));const Y=O.current.get(ie.user_id);Y&&(Y.context.close(),O.current.delete(ie.user_id))},Ne=async ie=>{if(ie.channel_id!==u||ie.user_id===l)return;let Y=ie.data;if(ie.encrypted&&m)try{const U=await ha(m,u);Y=await $r(U,ie.data)}catch{}de(ie.user_id,Y)},me=ie=>{ie.channel_id===u&&v(Y=>({...Y,connectedUsers:Y.connectedUsers.map(U=>U.userId===ie.user_id?{...U,isSpeaking:ie.speaking}:U)}))};return o.on("voice_join",oe),o.on("voice_leave",De),o.on("voice_packet",Ne),o.on("voice_speaking",me),()=>{o.off("voice_join",oe),o.off("voice_leave",De),o.off("voice_packet",Ne),o.off("voice_speaking",me)}},[o,u,l,de]),w.useEffect(()=>(fe(),()=>{Te()}),[]),s.jsxs("div",{style:{position:"fixed",bottom:0,left:"312px",right:"240px",height:"120px",background:"#2f3136",borderTop:"1px solid #202225",display:"flex",flexDirection:"column",zIndex:1e3},children:[s.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #202225",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:"#43b581"},children:" Voice Connected"}),s.jsx("span",{style:{fontSize:"13px",color:"#b9bbbe"},children:r})]}),s.jsx("button",{onClick:Te,style:{background:"#f04747",border:"none",color:"#ffffff",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Disconnect"})]}),s.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[s.jsxs("span",{style:{fontSize:"12px",color:"#8e9297",marginRight:"8px"},children:["Users (",p.connectedUsers.length+1,"):"]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"4px",background:p.isSpeaking?"rgba(67, 181, 129, 0.3)":"transparent",border:p.isSpeaking?"2px solid #43b581":"2px solid transparent",transition:"all 0.2s"},children:[s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#fff"},children:"U"}),s.jsx("span",{style:{fontSize:"12px",color:"#dcddde"},children:"You"}),p.isMuted&&s.jsx("span",{style:{fontSize:"10px",color:"#f04747"},children:""})]}),p.connectedUsers.map(oe=>{var De;return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"4px",background:oe.isSpeaking?"rgba(67, 181, 129, 0.3)":"transparent",border:oe.isSpeaking?"2px solid #43b581":"2px solid transparent",transition:"all 0.2s"},children:[s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#fff"},children:(De=oe.displayName[0])==null?void 0:De.toUpperCase()}),s.jsx("span",{style:{fontSize:"12px",color:"#dcddde"},children:oe.displayName})]},oe.userId)})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("button",{onClick:Le,style:{width:"36px",height:"36px",borderRadius:"50%",border:"none",background:p.isMuted?"#f04747":"#3ba55d",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},title:p.isMuted?"Unmute":"Mute",children:p.isMuted?"":""}),s.jsx("button",{onClick:je,style:{width:"36px",height:"36px",borderRadius:"50%",border:"none",background:p.isDeafened?"#f04747":"#4f545c",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},title:p.isDeafened?"Undeafen":"Deafen",children:p.isDeafened?"":""}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",minWidth:"120px"},children:[s.jsx("span",{style:{fontSize:"12px",color:"#8e9297"},children:"Vol:"}),s.jsx("input",{type:"range",min:"0",max:"100",value:p.outputVolume,onChange:oe=>Se(parseInt(oe.target.value)),style:{flex:1,height:"4px",borderRadius:"2px",background:"#4f545c",outline:"none",cursor:"pointer"}}),s.jsxs("span",{style:{fontSize:"11px",color:"#8e9297",minWidth:"25px"},children:[p.outputVolume,"%"]})]})]})]})]})},I0=({isVisible:o,onClose:l,nodeId:u,channels:r,token:h,onNavigateToMessage:m})=>{const[p,v]=w.useState(""),[y,x]=w.useState(""),[A,T]=w.useState([]),[X,O]=w.useState(!1),[B,Q]=w.useState(""),[te,ce]=w.useState(""),he=w.useRef(null),de=w.useRef(void 0);w.useEffect(()=>{o&&he.current&&he.current.focus()},[o]);const fe=w.useCallback(async(Se,oe)=>{if(!u||!h||!Se.trim()){T([]),ce("");return}O(!0),Q("");try{const De=await P.searchMessages(u,Se.trim(),h,oe||void 0);T(De.results),ce(De.note||"")}catch(De){Q(De instanceof Error?De.message:"Search failed"),T([]),ce("")}finally{O(!1)}},[u,h]),Te=w.useCallback(Se=>{v(Se),de.current&&window.clearTimeout(de.current),de.current=window.setTimeout(()=>{fe(Se,y)},300)},[fe,y]),Le=w.useCallback(Se=>{x(Se),p.trim()&&fe(p,Se)},[p,fe]),je=Se=>{m(Se.channel_id,Se.message_id),l()};return w.useEffect(()=>{const Se=oe=>{oe.key==="Escape"&&o&&l()};if(o)return document.addEventListener("keydown",Se),()=>{document.removeEventListener("keydown",Se)}},[o,l]),w.useEffect(()=>()=>{de.current&&window.clearTimeout(de.current)},[]),o?s.jsxs("div",{className:"search-overlay",children:[s.jsx("div",{className:"search-overlay-backdrop",onClick:l}),s.jsxs("div",{className:"search-overlay-content",children:[s.jsxs("div",{className:"search-overlay-header",children:[s.jsx("h3",{children:"Search Messages"}),s.jsx("button",{className:"search-overlay-close",onClick:l,children:""})]}),s.jsxs("div",{className:"search-overlay-body",children:[s.jsxs("div",{className:"search-controls",children:[s.jsxs("div",{className:"search-input-container",children:[s.jsx("input",{ref:he,type:"text",placeholder:"Search messages...",value:p,onChange:Se=>Te(Se.target.value),className:"search-input"}),X&&s.jsx("div",{className:"search-loading",children:""})]}),s.jsx("div",{className:"search-filter",children:s.jsxs("select",{value:y,onChange:Se=>Le(Se.target.value),className:"channel-filter-select",children:[s.jsx("option",{value:"",children:"All channels"}),r.map(Se=>s.jsxs("option",{value:Se.id,children:["#",Se.name]},Se.id))]})})]}),te&&s.jsxs("div",{className:"search-note",children:[" ",te]}),B&&s.jsxs("div",{className:"search-error",children:[" ",B]}),s.jsxs("div",{className:"search-results",children:[A.length===0&&p.trim()&&!X&&!B&&s.jsxs("div",{className:"search-no-results",children:['No messages found for "',p,'"']}),A.map(Se=>{var oe;return s.jsxs("div",{className:"search-result",onClick:()=>je(Se),children:[s.jsxs("div",{className:"search-result-header",children:[s.jsx("span",{className:"search-result-sender",children:((oe=Se.sender_public_key_hash)==null?void 0:oe.slice(0,16))||"Unknown"}),s.jsxs("span",{className:"search-result-channel",children:["#",Se.channel_name]}),s.jsx("span",{className:"search-result-time",children:new Date(Se.timestamp).toLocaleString()})]}),s.jsx("div",{className:"search-result-snippet",children:"Click to view message"})]},Se.message_id)})]})]}),s.jsx("div",{className:"search-overlay-footer",children:s.jsx("div",{className:"search-encryption-note",children:" Content search requires client-side decryption"})})]})]}):null};function $0({isOpen:o,onClose:l,node:u,token:r,userRole:h,onNodeUpdated:m,onLeaveNode:p}){const[v,y]=w.useState("general"),[x,A]=w.useState([]),[T,X]=w.useState(!1),[O,B]=w.useState(""),[Q,te]=w.useState(""),[ce,he]=w.useState([]),[de,fe]=w.useState(!1),[Te,Le]=w.useState("all"),[je,Se]=w.useState(!0),[oe,De]=w.useState(),[Ne,me]=w.useState(u.name),[ie,Y]=w.useState(u.description||""),[U,N]=w.useState(!1),[K,V]=w.useState(!1),[ne,se]=w.useState(""),[S,R]=w.useState(""),[H,le]=w.useState(!1),W=h==="admin",ae=h==="admin"||h==="moderator",pe=h==="admin"||h==="moderator",Me=w.useCallback(async()=>{if(ae){X(!0),B("");try{const re=await P.getNodeInvites(u.id,r);A(re)}catch(re){B(re instanceof Error?re.message:"Failed to load invites")}finally{X(!1)}}},[u.id,r,ae]),Ue=w.useCallback(async()=>{le(!0),B("");try{const re=ne?parseInt(ne,10):void 0,Qe=S?parseInt(S,10):void 0;await P.createInviteWithOptions(u.id,r,re,Qe),te("Invite created successfully!"),se(""),R(""),V(!1),await Me()}catch(re){B(re instanceof Error?re.message:"Failed to create invite")}finally{le(!1)}},[u.id,r,ne,S,Me]),Ye=w.useCallback(async re=>{if(confirm("Are you sure you want to revoke this invite?"))try{await P.revokeInvite(u.id,re,r),te("Invite revoked successfully!"),await Me()}catch(Qe){B(Qe instanceof Error?Qe.message:"Failed to revoke invite")}},[u.id,r,Me]),D=w.useCallback(async(re=!1)=>{if(pe){fe(!0),B("");try{const Qe=re?void 0:oe,Je=await P.getNodeAuditLog(u.id,r,50,Qe),Kt=Array.isArray(Je==null?void 0:Je.entries)?Je.entries:[];he(re?Kt:Wt=>[...Wt,...Kt]),Se((Je==null?void 0:Je.has_more)??!1),De(Je==null?void 0:Je.next_cursor)}catch(Qe){B(Qe instanceof Error?Qe.message:"Failed to load audit log")}finally{fe(!1)}}},[u.id,r,pe,oe]),Ee=w.useCallback(async()=>{!je||de||await D(!1)},[je,de,D]),Pe=w.useCallback(()=>Te==="all"?ce:ce.filter(re=>re.action===Te),[ce,Te]),zt=re=>{switch(re){case"channel_create":return"";case"channel_delete":return"";case"member_kick":return"";case"member_ban":return"";case"role_change":return"";case"invite_create":return"";case"invite_revoke":return"";case"message_pin":return"";case"message_unpin":return"";case"message_delete":return"";case"node_settings_update":return"";default:return""}},jt=re=>{const Qe=re.details?JSON.parse(re.details):{};switch(re.action){case"channel_create":return`created channel #${Qe.channel_name||"unknown"}`;case"channel_delete":return`deleted channel #${Qe.channel_name||"unknown"}`;case"member_kick":return"kicked a user";case"member_ban":return"banned a user";case"role_change":return`changed user role to ${Qe.new_role||"unknown"}`;case"invite_create":return"created an invite";case"invite_revoke":return`revoked invite ${Qe.invite_code||"unknown"}`;case"message_pin":return"pinned a message";case"message_unpin":return"unpinned a message";case"message_delete":return"deleted a message";case"node_settings_update":return"updated node settings";default:return re.action.replace(/_/g," ")}},vt=w.useCallback(async()=>{if(W){N(!0),B("");try{if(te("Node settings saved!"),m){const re={...u,name:Ne,description:ie};m(re)}}catch(re){B(re instanceof Error?re.message:"Failed to update node")}finally{N(!1)}}},[W,Ne,ie,u,m]),Jt=w.useCallback(async()=>{if(confirm(W?"Are you sure you want to leave this Node? As the admin, this will delete the Node permanently!":"Are you sure you want to leave this Node?"))try{await P.leaveNode(u.id,r),te("Left Node successfully!"),setTimeout(()=>{p==null||p(),l()},1e3)}catch(Qe){B(Qe instanceof Error?Qe.message:"Failed to leave node")}},[W,u.id,r,p,l]),ln=re=>{navigator.clipboard.writeText(re).then(()=>{te("Invite code copied to clipboard!")}).catch(()=>{const Qe=document.createElement("textarea");Qe.value=re,document.body.appendChild(Qe),Qe.select(),document.execCommand("copy"),document.body.removeChild(Qe),te("Invite code copied to clipboard!")})},hn=re=>new Date(re*1e3).toLocaleDateString()+" "+new Date(re*1e3).toLocaleTimeString(),Vn=re=>!!(re.expires_at&&re.expires_at*1e3<Date.now()),kn=re=>!!(re.max_uses&&re.uses>=re.max_uses);return w.useEffect(()=>{o&&v==="invites"&&ae&&Me()},[o,v,ae,Me]),w.useEffect(()=>{o&&v==="audit"&&pe&&D(!0)},[o,v,pe,D]),w.useEffect(()=>{if(Q){const re=setTimeout(()=>te(""),3e3);return()=>clearTimeout(re)}},[Q]),w.useEffect(()=>{if(O){const re=setTimeout(()=>B(""),5e3);return()=>clearTimeout(re)}},[O]),o?s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001},children:s.jsxs("div",{style:{background:"#36393f",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"80vh",color:"#ffffff",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #40444b",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsx("h2",{style:{margin:0,fontSize:"20px"},children:"Node Settings"}),s.jsx("button",{onClick:l,style:{background:"none",border:"none",color:"#b9bbbe",fontSize:"24px",cursor:"pointer",padding:"0",lineHeight:1},children:""})]}),s.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #40444b",background:"#2f3136"},children:[s.jsx("button",{onClick:()=>y("general"),style:{background:v==="general"?"#40444b":"transparent",border:"none",color:v==="general"?"#ffffff":"#b9bbbe",padding:"12px 20px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"General"}),ae&&s.jsx("button",{onClick:()=>y("invites"),style:{background:v==="invites"?"#40444b":"transparent",border:"none",color:v==="invites"?"#ffffff":"#b9bbbe",padding:"12px 20px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Invites"}),pe&&s.jsx("button",{onClick:()=>y("audit"),style:{background:v==="audit"?"#40444b":"transparent",border:"none",color:v==="audit"?"#ffffff":"#b9bbbe",padding:"12px 20px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Audit Log"})]}),s.jsxs("div",{style:{flex:1,padding:"20px",overflowY:"auto"},children:[v==="general"&&s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#b9bbbe"},children:"Node Name"}),s.jsx("input",{type:"text",value:Ne,onChange:re=>me(re.target.value),disabled:!W||U,maxLength:32,style:{width:"100%",padding:"10px",borderRadius:"4px",border:"none",background:W?"#40444b":"#2f3136",color:"#ffffff",fontSize:"14px"}})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#b9bbbe"},children:"Description"}),s.jsx("textarea",{value:ie,onChange:re=>Y(re.target.value),disabled:!W||U,maxLength:200,rows:3,style:{width:"100%",padding:"10px",borderRadius:"4px",border:"none",background:W?"#40444b":"#2f3136",color:"#ffffff",fontSize:"14px",resize:"vertical"}})]}),W&&s.jsx("div",{style:{marginBottom:"20px"},children:s.jsx("button",{onClick:vt,disabled:U,style:{background:"#43b581",border:"none",color:"#ffffff",padding:"10px 16px",borderRadius:"4px",cursor:U?"not-allowed":"pointer",fontSize:"14px",opacity:U?.6:1},children:U?"Saving...":"Save Changes"})}),s.jsxs("div",{style:{marginTop:"40px",paddingTop:"20px",borderTop:"1px solid #40444b"},children:[s.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",color:W?"#f04747":"#faa61a"},children:W?"Delete Node":"Leave Node"}),s.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"#b9bbbe"},children:W?"Permanently delete this Node. This action cannot be undone.":"Leave this Node. You can rejoin later with an invite."}),s.jsx("button",{onClick:Jt,style:{background:W?"#f04747":"#faa61a",border:"none",color:"#ffffff",padding:"10px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:W?"Delete Node":"Leave Node"})]})]}),v==="invites"&&ae&&s.jsxs("div",{children:[s.jsx("div",{style:{marginBottom:"24px"},children:K?s.jsxs("div",{style:{background:"#40444b",padding:"16px",borderRadius:"8px",marginBottom:"16px"},children:[s.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:"16px"},children:"Create New Invite"}),s.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"12px",color:"#b9bbbe"},children:"Max Uses (optional)"}),s.jsx("input",{type:"number",placeholder:"",value:ne,onChange:re=>se(re.target.value),min:"1",max:"100",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"none",background:"#36393f",color:"#ffffff",fontSize:"14px"}})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"12px",color:"#b9bbbe"},children:"Expires in (hours)"}),s.jsx("input",{type:"number",placeholder:"Never",value:S,onChange:re=>R(re.target.value),min:"1",max:"8760",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"none",background:"#36393f",color:"#ffffff",fontSize:"14px"}})]})]}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{onClick:Ue,disabled:H,style:{background:"#43b581",border:"none",color:"#ffffff",padding:"8px 12px",borderRadius:"4px",cursor:H?"not-allowed":"pointer",fontSize:"13px",opacity:H?.6:1},children:H?"Creating...":"Create"}),s.jsx("button",{onClick:()=>{V(!1),se(""),R("")},disabled:H,style:{background:"#4f545c",border:"none",color:"#ffffff",padding:"8px 12px",borderRadius:"4px",cursor:H?"not-allowed":"pointer",fontSize:"13px"},children:"Cancel"})]})]}):s.jsx("button",{onClick:()=>V(!0),style:{background:"#7289da",border:"none",color:"#ffffff",padding:"10px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:" Create Invite"})}),s.jsxs("div",{children:[s.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:"16px"},children:"Active Invites"}),T?s.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#b9bbbe"},children:"Loading invites..."}):x.length===0?s.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#72767d"},children:"No active invites"}):s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:x.map(re=>{const Qe=Vn(re),Je=kn(re),Kt=Qe||Je;return s.jsxs("div",{style:{background:"#40444b",padding:"12px",borderRadius:"6px",border:Kt?"1px solid #f04747":"none",opacity:Kt?.7:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[s.jsx("code",{style:{background:"#2f3136",padding:"4px 8px",borderRadius:"4px",fontSize:"13px",fontFamily:"monospace"},children:re.code}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{onClick:()=>ln(re.code),disabled:Kt,style:{background:"#7289da",border:"none",color:"#ffffff",padding:"4px 8px",borderRadius:"4px",cursor:Kt?"not-allowed":"pointer",fontSize:"12px",opacity:Kt?.5:1},children:"Copy"}),s.jsx("button",{onClick:()=>Ye(re.code),style:{background:"#f04747",border:"none",color:"#ffffff",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Revoke"})]})]}),s.jsxs("div",{style:{fontSize:"12px",color:"#b9bbbe",display:"flex",flexWrap:"wrap",gap:"16px"},children:[s.jsxs("span",{children:["Created: ",hn(re.created_at)]}),s.jsxs("span",{children:["Uses: ",re.uses,re.max_uses?`/${re.max_uses}`:""]}),re.expires_at&&s.jsxs("span",{style:{color:Qe?"#f04747":"#b9bbbe"},children:[Qe?"Expired: ":"Expires: ",hn(re.expires_at)]}),Je&&s.jsx("span",{style:{color:"#f04747"},children:"Max uses reached"})]})]},re.code)})})]})]}),v==="audit"&&pe&&s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#b9bbbe"},children:"Filter by Action"}),s.jsxs("select",{value:Te,onChange:re=>Le(re.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"none",background:"#40444b",color:"#ffffff",fontSize:"14px",cursor:"pointer",minWidth:"200px"},children:[s.jsx("option",{value:"all",children:"All Actions"}),s.jsx("option",{value:"channel_create",children:"Channel Create"}),s.jsx("option",{value:"channel_delete",children:"Channel Delete"}),s.jsx("option",{value:"member_kick",children:"Member Kick"}),s.jsx("option",{value:"role_change",children:"Role Change"}),s.jsx("option",{value:"invite_create",children:"Invite Create"}),s.jsx("option",{value:"invite_revoke",children:"Invite Revoke"}),s.jsx("option",{value:"message_pin",children:"Message Pin"}),s.jsx("option",{value:"message_unpin",children:"Message Unpin"}),s.jsx("option",{value:"message_delete",children:"Message Delete"}),s.jsx("option",{value:"node_settings_update",children:"Settings Update"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:"16px"},children:"Recent Activity"}),de&&ce.length===0?s.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#b9bbbe"},children:"Loading audit log..."}):Pe().length===0?s.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#72767d"},children:"No audit entries found"}):s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"400px",overflowY:"auto"},children:[Pe().map(re=>{var Qe;return s.jsxs("div",{style:{background:"#40444b",padding:"12px",borderRadius:"6px",display:"flex",alignItems:"flex-start",gap:"12px"},children:[s.jsx("div",{style:{fontSize:"18px",marginTop:"2px"},children:zt(re.action)}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:{marginBottom:"4px",fontSize:"14px"},children:[s.jsx("span",{style:{fontWeight:"600",color:"#ffffff"},children:((Qe=re.actor_public_key_hash)==null?void 0:Qe.slice(0,16))||"Unknown"})," ",s.jsx("span",{style:{color:"#b9bbbe"},children:jt(re)})]}),s.jsxs("div",{style:{fontSize:"12px",color:"#72767d",display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("span",{children:hn(re.created_at)}),s.jsx("span",{style:{background:"#2f3136",padding:"2px 6px",borderRadius:"3px",fontSize:"11px",fontFamily:"monospace"},children:re.target_type})]})]})]},re.id)}),je&&s.jsx("div",{style:{textAlign:"center",marginTop:"12px"},children:s.jsx("button",{onClick:Ee,disabled:de,style:{background:"#7289da",border:"none",color:"#ffffff",padding:"8px 16px",borderRadius:"4px",cursor:de?"not-allowed":"pointer",fontSize:"13px",opacity:de?.6:1},children:de?"Loading...":"Load More"})})]})]})]})]}),(O||Q)&&s.jsx("div",{style:{position:"absolute",top:"16px",right:"16px",background:O?"#f04747":"#43b581",color:"#ffffff",padding:"8px 12px",borderRadius:"4px",fontSize:"14px",maxWidth:"300px",zIndex:1002},children:O||Q})]})}):null}class F0{constructor(){ue(this,"preferences");ue(this,"unreads",{});ue(this,"currentUsername","");ue(this,"windowFocused",!0);ue(this,"activeChannelId",null);ue(this,"audioContext",null);this.preferences=this.loadPreferences(),this.setupWindowFocusHandlers(),this.requestNotificationPermission(),this.initAudioContext()}loadPreferences(){const l=localStorage.getItem("accord_notification_preferences");return l?JSON.parse(l):{enabled:!0,mode:"all",sounds:!0}}savePreferences(){localStorage.setItem("accord_notification_preferences",JSON.stringify(this.preferences))}loadUnreads(){const l=localStorage.getItem("accord_unreads");return l?JSON.parse(l):{}}saveUnreads(){localStorage.setItem("accord_unreads",JSON.stringify(this.unreads))}setupWindowFocusHandlers(){window.addEventListener("focus",()=>{this.windowFocused=!0}),window.addEventListener("blur",()=>{this.windowFocused=!1}),this.windowFocused=document.hasFocus()}async requestNotificationPermission(){"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()}initAudioContext(){(typeof AudioContext<"u"||typeof window.webkitAudioContext<"u")&&(this.audioContext=new(AudioContext||window.webkitAudioContext))}setActiveChannel(l){this.activeChannelId=l}setCurrentUsername(l){this.currentUsername=l,this.unreads=this.loadUnreads()}getPreferences(){return{...this.preferences}}updatePreferences(l){this.preferences={...this.preferences,...l},this.savePreferences()}getNodeUnreads(l){const u=this.unreads[l];return u?{totalUnreads:u.totalUnreads,totalMentions:u.totalMentions}:{totalUnreads:0,totalMentions:0}}getChannelUnreads(l,u){const r=this.unreads[l];return!r||!r.channels[u]?{lastReadMessageId:null,count:0,mentions:0,lastMessageTimestamp:0}:r.channels[u]}markChannelAsRead(l,u,r){this.unreads[l]||(this.unreads[l]={totalUnreads:0,totalMentions:0,channels:{}}),this.unreads[l].channels[u]||(this.unreads[l].channels[u]={lastReadMessageId:null,count:0,mentions:0,lastMessageTimestamp:0});const h=this.unreads[l].channels[u];this.unreads[l].totalUnreads-=h.count,this.unreads[l].totalMentions-=h.mentions,h.count=0,h.mentions=0,r&&(h.lastReadMessageId=r,h.lastMessageTimestamp=Date.now()),this.unreads[l].totalUnreads=Math.max(0,this.unreads[l].totalUnreads),this.unreads[l].totalMentions=Math.max(0,this.unreads[l].totalMentions),this.saveUnreads()}addMessage(l,u,r){if(r.author===this.currentUsername)return;this.unreads[l]||(this.unreads[l]={totalUnreads:0,totalMentions:0,channels:{}}),this.unreads[l].channels[u]||(this.unreads[l].channels[u]={lastReadMessageId:null,count:0,mentions:0,lastMessageTimestamp:0});const h=this.unreads[l].channels[u];if(!h.lastReadMessageId||r.timestamp>h.lastMessageTimestamp){const p=this.containsMention(r.content);h.count++,this.unreads[l].totalUnreads++,p&&(h.mentions++,this.unreads[l].totalMentions++),h.lastMessageTimestamp=Math.max(h.lastMessageTimestamp,r.timestamp),this.saveUnreads(),this.handleMessageNotification(r,u,p)}}containsMention(l){if(!this.currentUsername)return!1;const u=l.toLowerCase(),r=this.currentUsername.toLowerCase();return u.includes(`@${r}`)||u.includes("@everyone")}highlightMentions(l){if(!this.currentUsername)return l;const u=window.DOMPurify;let h=u?u.sanitize(l,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}):this.escapeHtml(l);const m=this.escapeRegExp(this.currentUsername),p=new RegExp(`(@${m})`,"gi");h=h.replace(p,'<span class="mention">$1</span>');const v=new RegExp("(@everyone)","gi");return h=h.replace(v,'<span class="mention mention-everyone">$1</span>'),h}escapeHtml(l){const u=document.createElement("div");return u.textContent=l,u.innerHTML}escapeRegExp(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}handleMessageNotification(l,u,r){if(!this.preferences.enabled||this.windowFocused&&this.activeChannelId===u)return;(this.preferences.mode==="all"||this.preferences.mode==="mentions"&&r)&&(this.showDesktopNotification(l,u,r),this.preferences.sounds&&this.playNotificationSound())}showDesktopNotification(l,u,r){if("Notification"in window&&Notification.permission==="granted"){const h=r?`${l.author} mentioned you`:`${l.author}`,m=l.content.length>100?l.content.substring(0,100)+"...":l.content,p=new Notification(h,{body:m,icon:"/favicon.ico",badge:"/favicon.ico",tag:u});setTimeout(()=>{p.close()},5e3),p.onclick=()=>{window.focus(),p.close()}}}playNotificationSound(){if(this.audioContext)try{const l=this.audioContext.createOscillator(),u=this.audioContext.createGain();l.connect(u),u.connect(this.audioContext.destination),l.frequency.setValueAtTime(800,this.audioContext.currentTime),l.frequency.setValueAtTime(600,this.audioContext.currentTime+.1),u.gain.setValueAtTime(0,this.audioContext.currentTime),u.gain.linearRampToValueAtTime(.1,this.audioContext.currentTime+.01),u.gain.exponentialRampToValueAtTime(.001,this.audioContext.currentTime+.2),l.start(this.audioContext.currentTime),l.stop(this.audioContext.currentTime+.2)}catch(l){console.warn("Failed to play notification sound:",l)}}getAllUnreads(){return{...this.unreads}}clearAllUnreads(){this.unreads={},this.saveUnreads()}clearNodeUnreads(l){delete this.unreads[l],this.saveUnreads()}}const bt=new F0,W0=({isOpen:o,onClose:l,preferences:u,onPreferencesChange:r})=>{if(!o)return null;const h=A=>{const T={...u,mode:A};r(T)},m=()=>{const A={...u,enabled:!u.enabled};r(A)},p=()=>{const A={...u,sounds:!u.sounds};r(A)},v=()=>{"Notification"in window&&(Notification.permission==="granted"?new Notification("Test Notification",{body:"This is a test notification from Accord!",icon:"/favicon.ico"}):Notification.permission!=="denied"&&Notification.requestPermission().then(A=>{A==="granted"&&new Notification("Test Notification",{body:"This is a test notification from Accord!",icon:"/favicon.ico"})}))},y=()=>{u.sounds&&bt.playNotificationSound()},x=()=>{bt.clearAllUnreads(),r({...u})};return s.jsx("div",{className:"notification-modal",children:s.jsxs("div",{className:"notification-modal-content",children:[s.jsx("h3",{style:{margin:"0 0 16px 0",color:"#ffffff"},children:"Notification Settings"}),s.jsxs("div",{className:"notification-setting",children:[s.jsx("label",{children:"Enable Notifications"}),s.jsx("div",{className:`notification-checkbox ${u.enabled?"checked":""}`,onClick:m,children:u.enabled&&""})]}),s.jsxs("div",{className:"notification-setting",children:[s.jsx("label",{children:"Notification Mode"}),s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{className:`notification-toggle ${u.mode==="all"?"active":""}`,onClick:()=>h("all"),children:"All"}),s.jsx("button",{className:`notification-toggle ${u.mode==="mentions"?"active":""}`,onClick:()=>h("mentions"),children:"Mentions"}),s.jsx("button",{className:`notification-toggle ${u.mode==="none"?"active":""}`,onClick:()=>h("none"),children:"None"})]})]}),s.jsxs("div",{className:"notification-setting",children:[s.jsx("label",{children:"Sound Notifications"}),s.jsx("div",{className:`notification-checkbox ${u.sounds?"checked":""}`,onClick:p,children:u.sounds&&""})]}),s.jsxs("div",{style:{marginTop:"24px",paddingTop:"16px",borderTop:"1px solid #40444b"},children:[s.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[s.jsx("button",{onClick:v,style:{flex:1,background:"#7289da",border:"none",color:"#ffffff",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Test Notification"}),s.jsx("button",{onClick:y,style:{flex:1,background:"#43b581",border:"none",color:"#ffffff",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Test Sound"})]}),s.jsx("button",{onClick:x,style:{width:"100%",background:"#f04747",border:"none",color:"#ffffff",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",marginBottom:"12px"},children:"Clear All Unread Counts"})]}),s.jsx("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",marginTop:"16px"},children:s.jsx("button",{onClick:l,style:{background:"#747f8d",border:"none",color:"#ffffff",padding:"8px 16px",borderRadius:"4px",cursor:"pointer"},children:"Close"})}),s.jsxs("div",{style:{fontSize:"11px",color:"#72767d",marginTop:"12px",lineHeight:"1.4"},children:[s.jsx("strong",{children:"Tips:"}),s.jsx("br",{})," Desktop notifications only show when window is not focused",s.jsx("br",{})," @username and @everyone will be highlighted in messages",s.jsx("br",{})," Orange badges show mentions, red badges show regular unreads"]})]})})},yg={displayName:"",bio:"",status:"online"},vg={theme:"dark",fontSize:15,messageDensity:"comfortable"},bg={inputDevice:"default",outputDevice:"default",inputVolume:100,outputVolume:100,vadSensitivity:50,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},xg={readReceipts:!0,typingIndicators:!0,blockedUsers:[]},P0=({isOpen:o,onClose:l,currentUser:u,onUserUpdate:r,serverInfo:h})=>{const[m,p]=w.useState("account"),[v,y]=w.useState(yg),[x,A]=w.useState(vg),[T,X]=w.useState(bt.getPreferences()),[O,B]=w.useState(bg),[Q,te]=w.useState(xg),[ce,he]=w.useState([]),[de,fe]=w.useState([]),[Te,Le]=w.useState(""),[je,Se]=w.useState(!1),[oe,De]=w.useState(!1),[Ne,me]=w.useState(""),[ie,Y]=w.useState(""),[U,N]=w.useState(!1);w.useEffect(()=>{o&&((()=>{try{const Ee=localStorage.getItem("accord_account_settings");Ee?y({...yg,...JSON.parse(Ee)}):u&&y({displayName:u.displayName||u.display_name||u.username||u.public_key_hash.slice(0,16),bio:u.bio||"",status:u.status||"online"});const Pe=localStorage.getItem("accord_appearance_settings");if(Pe){const vt=JSON.parse(Pe);if(typeof vt.fontSize=="string"){const Jt={small:13,medium:15,large:17};vt.fontSize=Jt[vt.fontSize]||15}vt.compactMode!==void 0&&!vt.messageDensity&&(vt.messageDensity=vt.compactMode?"compact":"comfortable",delete vt.compactMode),A({...vg,...vt})}const zt=localStorage.getItem("accord_voice_settings");zt&&B({...bg,...JSON.parse(zt)});const jt=localStorage.getItem("accord_privacy_settings");jt&&te({...xg,...JSON.parse(jt)}),X(bt.getPreferences())}catch(Ee){console.error("Error loading settings:",Ee)}})(),K(),Se(!1),me(""),N(!1))},[o,u]),w.useEffect(()=>{le(x)},[x]);const K=w.useCallback(async()=>{try{const D=await navigator.mediaDevices.enumerateDevices();he(D.filter(Ee=>Ee.kind==="audioinput")),fe(D.filter(Ee=>Ee.kind==="audiooutput")),Le("")}catch(D){Le("Failed to load audio devices"),console.error("Error loading media devices:",D)}},[]),V=w.useCallback(D=>{y(D),Se(!0),me("")},[]),ne=w.useCallback(async()=>{De(!0),me("");try{const D=localStorage.getItem("accord_token")||(u?localStorage.getItem(`accord_token_${P.getBaseUrl().replace(/https?:\/\//,"")}`):null);D&&await P.updateProfile({display_name:v.displayName,bio:v.bio},D),localStorage.setItem("accord_account_settings",JSON.stringify(v)),r==null||r(v),Se(!1),me("Profile saved!")}catch(D){console.error("Failed to save profile:",D),localStorage.setItem("accord_account_settings",JSON.stringify(v)),r==null||r(v),Se(!1),me("Saved locally (server sync failed)")}finally{De(!1)}},[v,u,r]),se=w.useCallback(D=>{localStorage.setItem("accord_appearance_settings",JSON.stringify(D)),A(D)},[]),S=w.useCallback(D=>{localStorage.setItem("accord_voice_settings",JSON.stringify(D)),B(D)},[]),R=w.useCallback(D=>{localStorage.setItem("accord_privacy_settings",JSON.stringify(D)),te(D)},[]),H=w.useCallback(D=>{bt.updatePreferences(D),X(D)},[]),le=D=>{const Ee=document.documentElement;D.theme==="light"?(Ee.style.setProperty("--bg-primary","#ffffff"),Ee.style.setProperty("--bg-secondary","#f6f6f6"),Ee.style.setProperty("--bg-tertiary","#e3e5e8"),Ee.style.setProperty("--text-primary","#2e3338"),Ee.style.setProperty("--text-secondary","#747f8d")):(Ee.style.setProperty("--bg-primary","#36393f"),Ee.style.setProperty("--bg-secondary","#2f3136"),Ee.style.setProperty("--bg-tertiary","#202225"),Ee.style.setProperty("--text-primary","#dcddde"),Ee.style.setProperty("--text-secondary","#8e9297")),Ee.style.setProperty("--font-size",`${D.fontSize}px`),localStorage.setItem("accord_font_size",String(D.fontSize));const Pe={compact:"2px",comfortable:"8px",cozy:"16px"};Ee.style.setProperty("--message-spacing",Pe[D.messageDensity]),localStorage.setItem("accord_message_density",D.messageDensity),document.body.className=`theme-${D.theme} density-${D.messageDensity}`};w.useEffect(()=>{const D=Ee=>{o&&Ee.key==="Escape"&&l()};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[o,l]);const W=async()=>{try{const D=await navigator.mediaDevices.getUserMedia({audio:!0});setTimeout(()=>{D.getTracks().forEach(Ee=>Ee.stop()),alert("Microphone test completed!")},2e3)}catch(D){alert("Microphone test failed: "+D)}},ae=()=>{const D=new(window.AudioContext||window.webkitAudioContext),Ee=D.createOscillator(),Pe=D.createGain();Ee.connect(Pe),Pe.connect(D.destination),Ee.frequency.setValueAtTime(440,D.currentTime),Pe.gain.setValueAtTime(O.outputVolume/100*.1,D.currentTime),Ee.start(),Ee.stop(D.currentTime+.5)},pe=()=>{const D=P.getBaseUrl().replace(/https?:\/\//,""),Ee=localStorage.getItem(`accord_keys_${D}`),Pe=(u==null?void 0:u.public_key)||"",zt=JSON.stringify({publicKey:Pe,relayHost:D,keys:Ee?JSON.parse(Ee):null,exportedAt:new Date().toISOString()},null,2),jt=new Blob([zt],{type:"application/json"}),vt=URL.createObjectURL(jt),Jt=document.createElement("a");Jt.href=vt,Jt.download=`accord-keypair-${D}.json`,document.body.appendChild(Jt),Jt.click(),document.body.removeChild(Jt),URL.revokeObjectURL(vt)},Me=()=>{if(!U){N(!0);return}const D=[];for(let Ee=0;Ee<localStorage.length;Ee++){const Pe=localStorage.key(Ee);Pe&&Pe.startsWith("accord_")&&D.push(Pe)}D.forEach(Ee=>localStorage.removeItem(Ee)),N(!1),alert("Local data cleared. Please refresh the app."),window.location.reload()},Ue=()=>{if(!ie.trim())return;let D=ie.trim();!D.startsWith("http://")&&!D.startsWith("https://")&&(D="http://"+D),P.setBaseUrl(D),alert(`Relay URL set to ${D}. You may need to re-authenticate.`),Y("")},Ye=D=>D.slice(0,32).replace(/(.{4})/g,"$1 ").trim().toUpperCase();return o?s.jsx("div",{className:"settings-overlay",children:s.jsxs("div",{className:"settings-modal",children:[s.jsxs("div",{className:"settings-sidebar",children:[s.jsx("div",{className:"settings-header",children:s.jsx("h2",{children:"Settings"})}),s.jsxs("nav",{className:"settings-nav",children:[s.jsx("button",{className:`settings-nav-item ${m==="account"?"active":""}`,onClick:()=>p("account"),children:" Profile"}),s.jsx("button",{className:`settings-nav-item ${m==="appearance"?"active":""}`,onClick:()=>p("appearance"),children:" Appearance"}),s.jsx("button",{className:`settings-nav-item ${m==="notifications"?"active":""}`,onClick:()=>p("notifications"),children:" Notifications"}),s.jsx("button",{className:`settings-nav-item ${m==="voice"?"active":""}`,onClick:()=>p("voice"),children:" Voice & Audio"}),s.jsx("button",{className:`settings-nav-item ${m==="privacy"?"active":""}`,onClick:()=>p("privacy"),children:" Privacy"}),s.jsx("button",{className:`settings-nav-item ${m==="advanced"?"active":""}`,onClick:()=>p("advanced"),children:" Advanced"}),s.jsx("button",{className:`settings-nav-item ${m==="server"?"active":""}`,onClick:()=>p("server"),children:" Server Info"}),s.jsx("button",{className:`settings-nav-item ${m==="about"?"active":""}`,onClick:()=>p("about"),children:" About"})]})]}),s.jsxs("div",{className:"settings-content",children:[s.jsx("div",{className:"settings-content-header",children:s.jsx("button",{className:"settings-close",onClick:l,children:""})}),s.jsxs("div",{className:"settings-panel",children:[m==="account"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Profile"}),(u==null?void 0:u.public_key_hash)&&s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Public Key Fingerprint"}),s.jsx("div",{className:"settings-info",style:{fontFamily:"var(--font-mono)",fontSize:13,letterSpacing:"0.05em"},children:Ye(u.public_key_hash)})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Display Name"}),s.jsx("input",{type:"text",className:"settings-input",value:v.displayName,onChange:D=>V({...v,displayName:D.target.value}),placeholder:"Enter display name..."})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Bio"}),s.jsx("textarea",{className:"settings-textarea",value:v.bio,onChange:D=>V({...v,bio:D.target.value}),placeholder:"Tell others about yourself...",rows:3})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Status"}),s.jsx("div",{className:"status-buttons",children:["online","away","busy","invisible"].map(D=>s.jsxs("button",{className:`status-button ${v.status===D?"active":""}`,onClick:()=>V({...v,status:D}),children:[s.jsx("div",{className:`status-indicator ${D}`}),D.charAt(0).toUpperCase()+D.slice(1)]},D))})]}),s.jsxs("div",{className:"settings-group",style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("button",{className:"btn btn-primary",style:{width:"auto",padding:"10px 24px"},disabled:!je||oe,onClick:ne,children:oe?"Saving...":"Save Profile"}),Ne&&s.jsx("span",{style:{fontSize:13,color:Ne.includes("failed")?"var(--yellow)":"var(--green)"},children:Ne})]}),s.jsx("div",{className:"settings-group",children:s.jsxs("div",{className:"settings-info",children:[s.jsx("strong",{children:"User ID:"})," ",(u==null?void 0:u.id)||"Unknown"]})})]}),m==="appearance"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Appearance"}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Theme"}),s.jsxs("div",{className:"theme-buttons",children:[s.jsx("button",{className:`theme-button dark ${x.theme==="dark"?"active":""}`,onClick:()=>se({...x,theme:"dark"}),children:" Dark"}),s.jsx("button",{className:`theme-button light ${x.theme==="light"?"active":""}`,onClick:()=>se({...x,theme:"light"}),children:" Light"})]}),s.jsx("div",{className:"settings-help",children:"Light theme is experimental and may not look perfect everywhere."})]}),s.jsxs("div",{className:"settings-group",children:[s.jsxs("label",{className:"settings-label",children:["Font Size: ",x.fontSize,"px"]}),s.jsx("input",{type:"range",className:"settings-slider",min:"12",max:"20",step:"1",value:x.fontSize,onChange:D=>se({...x,fontSize:parseInt(D.target.value)})}),s.jsxs("div",{className:"settings-help",style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"12px"}),s.jsx("span",{children:"20px"})]})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Message Density"}),s.jsx("div",{className:"font-size-buttons",children:["compact","comfortable","cozy"].map(D=>s.jsx("button",{className:`font-size-button ${x.messageDensity===D?"active":""}`,onClick:()=>se({...x,messageDensity:D}),children:D.charAt(0).toUpperCase()+D.slice(1)},D))}),s.jsx("div",{className:"settings-help",children:"Controls spacing between messages. Compact shows more messages on screen."})]})]}),m==="notifications"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Notification Settings"}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:T.enabled,onChange:D=>H({...T,enabled:D.target.checked})}),s.jsx("span",{className:"checkmark"}),"Enable Desktop Notifications"]})}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Notification Mode"}),s.jsx("div",{className:"notification-mode-buttons",children:["all","mentions","none"].map(D=>s.jsx("button",{className:`notification-button ${T.mode===D?"active":""}`,onClick:()=>H({...T,mode:D}),children:D==="all"?"All Messages":D==="mentions"?"Mentions Only":"None"},D))})]}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:T.sounds,onChange:D=>H({...T,sounds:D.target.checked})}),s.jsx("span",{className:"checkmark"}),"Sound Notifications"]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("div",{className:"test-buttons",children:[s.jsx("button",{className:"test-button",onClick:()=>{"Notification"in window&&Notification.permission==="granted"?new Notification("Test Notification",{body:"This is a test notification from Accord!",icon:"/favicon.ico"}):Notification.requestPermission().then(D=>{D==="granted"&&new Notification("Test Notification",{body:"This is a test notification from Accord!",icon:"/favicon.ico"})})},children:"Test Notification"}),s.jsx("button",{className:"test-button",onClick:()=>{var D;return(D=bt.playNotificationSound)==null?void 0:D.call(bt)},children:"Test Sound"}),s.jsx("button",{className:"clear-button",onClick:()=>{bt.clearAllUnreads(),alert("All unread counts cleared")},children:"Clear All Unreads"})]})})]}),m==="voice"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Voice & Audio Settings"}),Te&&s.jsx("div",{className:"settings-error",children:Te}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-label",children:["Input Device",s.jsxs("select",{className:"settings-select",value:O.inputDevice,onChange:D=>S({...O,inputDevice:D.target.value}),children:[s.jsx("option",{value:"default",children:"Default"}),ce.map(D=>s.jsx("option",{value:D.deviceId,children:D.label||`Microphone ${D.deviceId.slice(0,8)}...`},D.deviceId))]})]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-label",children:["Output Device",s.jsxs("select",{className:"settings-select",value:O.outputDevice,onChange:D=>S({...O,outputDevice:D.target.value}),children:[s.jsx("option",{value:"default",children:"Default"}),de.map(D=>s.jsx("option",{value:D.deviceId,children:D.label||`Speaker ${D.deviceId.slice(0,8)}...`},D.deviceId))]})]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-label",children:["Input Volume: ",O.inputVolume,"%",s.jsx("input",{type:"range",className:"settings-slider",min:"0",max:"100",value:O.inputVolume,onChange:D=>S({...O,inputVolume:parseInt(D.target.value)})})]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-label",children:["Output Volume: ",O.outputVolume,"%",s.jsx("input",{type:"range",className:"settings-slider",min:"0",max:"100",value:O.outputVolume,onChange:D=>S({...O,outputVolume:parseInt(D.target.value)})})]})}),s.jsxs("div",{className:"settings-group",children:[s.jsxs("label",{className:"settings-label",children:["Voice Activity Sensitivity: ",O.vadSensitivity,"%",s.jsx("input",{type:"range",className:"settings-slider",min:"0",max:"100",value:O.vadSensitivity,onChange:D=>S({...O,vadSensitivity:parseInt(D.target.value)})})]}),s.jsx("div",{className:"settings-help",children:"Higher values require louder audio to trigger voice activation."})]}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:O.echoCancellation,onChange:D=>S({...O,echoCancellation:D.target.checked})}),s.jsx("span",{className:"checkmark"}),"Echo Cancellation"]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:O.noiseSuppression,onChange:D=>S({...O,noiseSuppression:D.target.checked})}),s.jsx("span",{className:"checkmark"}),"Noise Suppression"]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:O.autoGainControl,onChange:D=>S({...O,autoGainControl:D.target.checked})}),s.jsx("span",{className:"checkmark"}),"Automatic Gain Control"]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("div",{className:"test-buttons",children:[s.jsx("button",{className:"test-button",onClick:W,children:"Test Microphone"}),s.jsx("button",{className:"test-button",onClick:ae,children:"Test Speakers"}),s.jsx("button",{className:"refresh-button",onClick:K,children:"Refresh Devices"})]})})]}),m==="privacy"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Privacy Settings"}),s.jsxs("div",{className:"settings-group",children:[s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:Q.readReceipts,onChange:D=>R({...Q,readReceipts:D.target.checked})}),s.jsx("span",{className:"checkmark"}),"Send Read Receipts"]}),s.jsx("div",{className:"settings-help",children:"Let others know when you've read their messages."})]}),s.jsxs("div",{className:"settings-group",children:[s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:Q.typingIndicators,onChange:D=>R({...Q,typingIndicators:D.target.checked})}),s.jsx("span",{className:"checkmark"}),"Show Typing Indicators"]}),s.jsx("div",{className:"settings-help",children:"Show when you're typing to other users."})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Block List"}),s.jsx("div",{className:"blocked-users",children:Q.blockedUsers.length===0?s.jsx("div",{className:"settings-help",children:"No blocked users"}):Q.blockedUsers.map(D=>s.jsxs("div",{className:"blocked-user",children:[s.jsx("span",{children:D}),s.jsx("button",{className:"unblock-button",onClick:()=>R({...Q,blockedUsers:Q.blockedUsers.filter(Ee=>Ee!==D)}),children:"Unblock"})]},D))})]})]}),m==="advanced"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Advanced"}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Current Relay URL"}),s.jsx("div",{className:"settings-info",style:{fontFamily:"var(--font-mono)",fontSize:13},children:P.getBaseUrl()})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Connect to Relay Manually"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("input",{type:"text",className:"settings-input",value:ie,onChange:D=>Y(D.target.value),placeholder:"e.g. 192.168.1.100:8080",onKeyDown:D=>{D.key==="Enter"&&Ue()}}),s.jsx("button",{className:"btn btn-primary",style:{width:"auto",padding:"10px 16px",whiteSpace:"nowrap"},onClick:Ue,disabled:!ie.trim(),children:"Connect"})]}),s.jsx("div",{className:"settings-help",children:"Enter a relay server address to connect to a different server."})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Key Management"}),s.jsx("div",{className:"test-buttons",children:s.jsx("button",{className:"test-button",onClick:pe,children:" Export Keypair"})}),s.jsx("div",{className:"settings-help",children:"Export your keypair for backup. Keep this file safe  it contains your private key."})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Clear Local Data"}),U?s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[s.jsx("button",{className:"clear-button",onClick:Me,children:"Confirm  Delete Everything"}),s.jsx("button",{className:"test-button",onClick:()=>N(!1),children:"Cancel"})]}):s.jsx("button",{className:"clear-button",onClick:Me,children:" Clear Local Data"}),s.jsx("div",{className:"settings-help",children:"Removes all locally stored settings, keys, and tokens. This cannot be undone."})]})]}),m==="server"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Server Info"}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Connection Status"}),s.jsx("div",{className:"settings-info",children:h!=null&&h.isConnected?" Connected":" Disconnected"})]}),(h==null?void 0:h.version)&&s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Server Version"}),s.jsx("div",{className:"settings-info",children:h.version})]}),(h==null?void 0:h.buildHash)&&s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Server Build Hash"}),s.jsxs("div",{className:"settings-info copyable",style:{fontFamily:"var(--font-mono)",fontSize:13,cursor:"pointer"},title:"Click to copy",onClick:()=>{navigator.clipboard.writeText(h.buildHash)},children:[h.buildHash," "]})]}),(h==null?void 0:h.connectedSince)&&s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Connected Since"}),s.jsx("div",{className:"settings-info",children:new Date(h.connectedSince).toLocaleString()})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Relay Address"}),s.jsx("div",{className:"settings-info",style:{fontFamily:"var(--font-mono)",fontSize:13},children:(h==null?void 0:h.relayAddress)||P.getBaseUrl()})]})]}),m==="about"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"About Accord"}),s.jsxs("div",{className:"about-content",children:[s.jsxs("div",{className:"about-logo",children:[s.jsx("div",{className:"app-icon",children:"A"}),s.jsx("h2",{children:"Accord"})]}),s.jsxs("div",{className:"about-info",children:[s.jsxs("div",{className:"info-row",children:[s.jsx("strong",{children:"Version:"})," 0.1.0-beta"]}),s.jsxs("div",{className:"info-row",children:[s.jsx("strong",{children:"Protocol:"})," Accord Protocol v1"]}),s.jsxs("div",{className:"info-row",children:[s.jsx("strong",{children:"Platform:"})," Desktop (Tauri + React)"]}),s.jsxs("div",{className:"info-row",children:[s.jsx("strong",{children:"Build:"})," Development"]})]}),s.jsx("div",{className:"about-description",children:s.jsx("p",{children:"Accord is an open-source, privacy-first chat application with end-to-end encryption. Your keys, your data, your control."})}),s.jsxs("div",{className:"about-links",children:[s.jsx("a",{href:"https://github.com/accord-chat/accord",target:"_blank",rel:"noopener noreferrer",children:" Source Code on GitHub"}),s.jsx("a",{href:"https://github.com/accord-chat/accord/issues",target:"_blank",rel:"noopener noreferrer",children:" Report a Bug"}),s.jsx("a",{href:"https://github.com/accord-chat/accord/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:" License (MIT)"})]}),s.jsxs("div",{className:"about-credits",children:[s.jsx("h4",{children:"Built with  by the Accord team"}),s.jsx("p",{children:"Special thanks to all contributors and the open-source community."})]})]})]})]})]})]})}):null};function _t(o){return!o||o.length<16?o||"unknown":o.substring(0,8)+"..."+o.substring(o.length-8)}function ex(){var vi,Pa,Ro,bn,Pi,ca,pc,bi,za;const[o,l]=w.useState(()=>localStorage.getItem("accord_server_url")||"http://localhost:8080"),[u,r]=w.useState(!1),[h,m]=w.useState(!1),[p,v]=w.useState(!1),[y,x]=w.useState(""),[A,T]=w.useState(()=>{if(localStorage.getItem("accord_server_url"))return!1;const b=typeof window<"u"?window.location.origin:"";return b&&!b.includes(":1420")&&!b.includes(":5173")&&!b.includes(":3000")?(localStorage.setItem("accord_server_url",b),!1):!0}),[X,O]=w.useState("choose"),[B,Q]=w.useState(""),[te,ce]=w.useState(null),[he,de]=w.useState(""),[fe,Te]=w.useState(!1),[Le,je]=w.useState(""),[Se,oe]=w.useState(!1),[De,Ne]=w.useState(""),[me,ie]=w.useState(!1),[Y,U]=w.useState(!1),[N,K]=w.useState(!0),[V,ne]=w.useState(""),[se,S]=w.useState(""),[R,H]=w.useState(""),[le,W]=w.useState(!1),[ae,pe]=w.useState(""),[Me,Ue]=w.useState(!1),[Ye,D]=w.useState(""),[Ee,Pe]=w.useState(!1),[zt,jt]=w.useState(!1),[vt,Jt]=w.useState(""),[ln,hn]=w.useState(""),[Vn,kn]=w.useState(""),[re,Qe]=w.useState(!1),[Je,Kt]=w.useState(()=>pg()),Wt=w.useRef(""),[it,Pt]=w.useState(null),[gt]=w.useState(T0()),[$,Ie]=w.useState({isAuthenticated:!1,nodes:[],messages:[],isConnected:!1}),[Mn,Sn]=w.useState(""),[Ct,kt]=w.useState("# general"),[Tt,Va]=w.useState(0),[at,bl]=w.useState(!1),[Re,sn]=w.useState(null),[Rn,mn]=w.useState({status:"disconnected",reconnectAttempt:0,maxReconnectAttempts:20}),[Nt,pa]=w.useState(null),[et,Zn]=w.useState([]),[wn,Dn]=w.useState([]),[It,ga]=w.useState([]),[Ae,ya]=w.useState(null),[Be,en]=w.useState(null),[aa,la]=w.useState(!1),[tn,ft]=w.useState(!0),[dt,pn]=w.useState(void 0),Un=w.useRef(null),[ia,xl]=w.useState(null),[Ca,xe]=w.useState(""),[j,ee]=w.useState(null),ge=(d,b)=>{xl(d),xe(b)},[Ve,xt]=w.useState({}),[qe,Lt]=w.useState(!1),[gn,nn]=w.useState(""),[Xn,At]=w.useState("text"),[Za,Xa]=w.useState(!1),[Ts,Sl]=w.useState(""),[ii,Mt]=w.useState(""),[cn,As]=w.useState(null),[au,zi]=w.useState(""),[ks,si]=w.useState(!1),[ro,On]=w.useState([]),[Li,Ms]=w.useState(null),[Rs,Qa]=w.useState(null),uo=["","","","","","","","","",""],[fo,wl]=w.useState(bt.getPreferences()),[Ds,Bi]=w.useState(!1),[ho,Ja]=w.useState(0),[Us,Hi]=w.useState(!1),[va,sa]=w.useState([]),[Rt,Os]=w.useState(null),[Ia,Ta]=w.useState(!1),[qi,Aa]=w.useState(!1),[zs,ka]=w.useState(!1),[_n,ci]=w.useState(""),[_l,ba]=w.useState(!1),[Ki,Nl]=w.useState(""),[oi,El]=w.useState(""),[ri,Yi]=w.useState(""),[on,Ma]=w.useState(!1),[jl,Ra]=w.useState(!1),[Cl,Ls]=w.useState(""),[$a,ui]=w.useState(""),[Tl,Bs]=w.useState(null),[lu,Hs]=w.useState(!1),[qs,fi]=w.useState(!1),[Gi,Vi]=w.useState(null),[Ks,di]=w.useState(!1),[Al,Ys]=w.useState(""),[mo,po]=w.useState(!1),[Gs,Zi]=w.useState(!1),[Vs,Zs]=w.useState(!1),go=w.useRef(null),Xi=w.useRef(void 0),[yo,iu]=w.useState(!1),[vo,Xs]=w.useState(0),[bo,su]=w.useState(new Map),[xo,cu]=w.useState(new Map),[Bt,hi]=w.useState(null),[Qi,kl]=w.useState(new Map),[So,Qs]=w.useState(new Map),[Js,wo]=w.useState(0),Is=w.useState(()=>localStorage.getItem("accord-typing-indicators")!=="false")[0],$s=w.useCallback(d=>Ve[d]||"member",[Ve]),xa=w.useCallback((d,b)=>{switch($s(d)){case"admin":return!0;case"moderator":return["KickMembers","ManageInvites"].includes(b);case"member":return!1;default:return!1}},[$s]),Fs=d=>{switch(d){case"admin":return"";case"moderator":return"";default:return""}},Qn=d=>{d.message&&d.message.includes("403")?Mt("You don't have permission to perform this action"):Mt(d.message||"An error occurred"),setTimeout(()=>Mt(""),5e3)},ou=w.useCallback(d=>{if(!Is||!Re||!d)return;const b=Date.now();b-Js>=3e3&&(Re.sendTypingStart(d),wo(b))},[Re,Is,Js]),Ws=w.useCallback(d=>{const b=Qi.get(d)||[],E=localStorage.getItem("accord_user_id"),M=b.filter(be=>be.user_id!==E);if(M.length===0)return"";const F=be=>{var ze,lt;const ye=It.find(ve=>ve.user_id===be.user_id);return(ze=ye==null?void 0:ye.user)!=null&&ze.display_name?ye.user.display_name:(lt=ye==null?void 0:ye.profile)!=null&&lt.display_name?ye.profile.display_name:be.displayName};return M.length===1?`${F(M[0])} is typing`:M.length===2?`${F(M[0])} and ${F(M[1])} are typing`:"Several people are typing"},[Qi,It]);w.useEffect(()=>{(async()=>{if(!localStorage.getItem("accord_server_url")){const E=await cb();if(E){P.setBaseUrl(E),l(E),bl(!0),T(!1);return}}const b=await P.testConnection();bl(b)})()},[]);const Da=w.useCallback(d=>{d.on("connected",()=>{var b;Ie(E=>({...E,isConnected:!0})),mn({status:"connected",reconnectAttempt:0,maxReconnectAttempts:20}),Bs(Date.now()),(b=Xi.current)==null||b.call(Xi)}),d.on("hello",b=>{b.server_version&&ui(b.server_version),b.server_build_hash&&Ls(b.server_build_hash)}),d.on("disconnected",()=>{Ie(b=>({...b,isConnected:!1})),Bs(null)}),d.on("connection_status",b=>{mn(b)}),d.on("auth_error",async()=>{const b=gg(),E=Wt.current;if(b&&E)try{const M=await P.login(b,E);to(M.token),localStorage.setItem("accord_user_id",M.user_id),Ie(be=>({...be,token:M.token})),d.disconnect();const F=new ws(M.token,o.replace(/^http/,"ws"));Da(F),sn(F),F.connect();return}catch{}Oa()}),d.on("message",b=>{}),d.on("channel_message",async b=>{var tt,$t,Yt;let E=b.encrypted_data,M=!1;if(gt&&it&&b.channel_id)try{const nt=await ha(it.privateKey,b.channel_id);E=await $r(nt,b.encrypted_data),M=!0}catch(nt){console.warn("Failed to decrypt message, showing encrypted data:",nt)}const F=It.find(nt=>nt.user_id===b.from),be=F?((tt=F.user)==null?void 0:tt.display_name)||(($t=F.profile)==null?void 0:$t.display_name)||_t(F.public_key_hash||b.from||""):_t(b.from||""),ye={id:b.message_id||Math.random().toString(),author:be,content:E,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),timestamp:b.timestamp*1e3,channel_id:b.channel_id,isEncrypted:M,reply_to:b.reply_to,replied_message:b.replied_message?{id:b.replied_message.id,sender_id:b.replied_message.sender_id,sender_public_key_hash:b.replied_message.sender_public_key_hash||"",encrypted_payload:b.replied_message.encrypted_payload,created_at:b.replied_message.created_at,content:b.replied_message.content}:void 0};if(b.from&&cu(nt=>{const Gt=new Map(nt);return Gt.set(b.from,Date.now()),Gt}),b.is_dm||va.some(nt=>nt.id===b.channel_id)){In();const nt=va.find(Gt=>Gt.id===b.channel_id);nt&&(bt.addMessage(`dm-${nt.id}`,b.channel_id,ye),Ja(Gt=>Gt+1))}else{const nt=(Yt=et.find(Gt=>wn.some(gc=>gc.id===b.channel_id&&gc.node_id===Gt.id)))==null?void 0:Yt.id;nt&&(bt.addMessage(nt,b.channel_id,ye),Ja(Gt=>Gt+1))}const lt=Un.current,ve=lt?lt.scrollHeight-lt.scrollTop-lt.clientHeight<50:!0;Ie(nt=>({...nt,messages:[...nt.messages,ye]})),ve&&lt?setTimeout(()=>{lt.scrollTop=lt.scrollHeight},0):Xs(nt=>nt+1)}),d.on("node_info",b=>{b.data&&Ie(E=>({...E,nodes:E.nodes.map(M=>M.id===b.data.id?b.data:M)}))}),d.on("message_edit",async b=>{try{let E=b.encrypted_data;if(gt&&it){const M=await ha(it.privateKey,b.channel_id);E=await $r(M,b.encrypted_data)}Ie(M=>({...M,messages:M.messages.map(F=>F.id===b.message_id?{...F,content:E,edited_at:b.edited_at,isEncrypted:gt}:F)}))}catch(E){console.warn("Failed to decrypt edited message:",E),Ie(M=>({...M,messages:M.messages.map(F=>F.id===b.message_id?{...F,content:b.encrypted_data,edited_at:b.edited_at,isEncrypted:!0}:F)}))}}),d.on("message_delete",b=>{Ie(E=>({...E,messages:E.messages.filter(M=>M.id!==b.message_id)}))}),d.on("reaction_add",b=>{Ie(E=>({...E,messages:E.messages.map(M=>M.id===b.message_id?{...M,reactions:b.reactions}:M)}))}),d.on("reaction_remove",b=>{Ie(E=>({...E,messages:E.messages.map(M=>M.id===b.message_id?{...M,reactions:b.reactions}:M)}))}),d.on("message_pin",b=>{Ie(E=>({...E,messages:E.messages.map(M=>M.id===b.message_id?{...M,pinned_at:b.timestamp,pinned_by:b.pinned_by}:M)}))}),d.on("message_unpin",b=>{Ie(E=>({...E,messages:E.messages.map(M=>M.id===b.message_id?{...M,pinned_at:void 0,pinned_by:void 0}:M)}))}),d.on("typing_start",b=>{const E={user_id:b.user_id,displayName:b.public_key_hash?_t(b.public_key_hash):b.user_id.substring(0,8),startedAt:Date.now()};kl(F=>{const be=new Map(F),ze=(be.get(b.channel_id)||[]).filter(lt=>lt.user_id!==b.user_id);return be.set(b.channel_id,[...ze,E]),be});const M=`${b.channel_id}_${b.user_id}`;Qs(F=>{const be=new Map(F),ye=be.get(M);ye&&clearTimeout(ye);const ze=window.setTimeout(()=>{kl(lt=>{const ve=new Map(lt),$t=(ve.get(b.channel_id)||[]).filter(Yt=>Yt.user_id!==b.user_id);return $t.length>0?ve.set(b.channel_id,$t):ve.delete(b.channel_id),ve}),Qs(lt=>{const ve=new Map(lt);return ve.delete(M),ve})},5e3);return be.set(M,ze),be})}),d.on("presence_update",b=>{b.user_id&&b.status&&su(E=>{const M=new Map(E);return M.set(b.user_id,b.status),M})}),d.on("error",b=>{console.error("WebSocket error:",b)})},[gt,it]);w.useEffect(()=>()=>{So.forEach(d=>clearTimeout(d))},[So]);const yn=w.useCallback(async()=>{if(!(!$.token||!at))try{const d=await P.getUserNodes($.token);Zn(Array.isArray(d)?d:[]),d.length>0&&!Ae&&ya(d[0].id)}catch(d){console.error("Failed to load nodes:",d)}},[$.token,at,Ae]);Xi.current=yn;const Jn=w.useCallback(async d=>{if(!(!$.token||!at))try{const b=await P.getNodeChannels(d,$.token);Dn(Array.isArray(b)?b:[]),b.length>0&&!Be&&en(b[0].id)}catch(b){console.error("Failed to load channels:",b),Qn(b),Dn([])}},[$.token,at,Be]),Ml=w.useCallback(async d=>{if(!(!$.token||!at))try{const b=await P.getNodeMembers(d,$.token),E=Array.isArray(b)?b:[];ga(E);const M=localStorage.getItem("accord_user_id");if(M&&E.length>0){const F=E.find(be=>be.user_id===M);F&&xt(be=>({...be,[d]:F.role}))}}catch(b){console.error("Failed to load members:",b),Qn(b),ga([])}},[$.token,at]),Sa=w.useCallback(async d=>{if(!(!$.token||!at))try{const b=await P.getChannelMessages(d,$.token),E=b.messages.map(M=>({...M,author:M.author||_t(M.sender_public_key_hash||M.sender_id||"")||"Unknown",time:M.time||new Date(M.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}));E.sort((M,F)=>M.timestamp-F.timestamp),Ie(M=>({...M,messages:E})),ft(b.has_more),pn(b.next_cursor),setTimeout(()=>{const M=Un.current;M&&(M.scrollTop=M.scrollHeight)},0),uu(d,E)}catch(b){console.error("Failed to load messages:",b),Qn(b),Ie(E=>({...E,messages:[]})),ft(!1),pn(void 0)}},[$.token,at]),Ps=w.useCallback(async d=>{if(!(!$.token||!at||aa||!tn||!dt)){la(!0);try{const b=await P.getChannelMessages(d,$.token,50,dt);if(b.messages.length===0){ft(!1),la(!1);return}const E=b.messages.map(ye=>({...ye,author:ye.author||_t(ye.sender_public_key_hash||ye.sender_id||"")||"Unknown",time:ye.time||new Date(ye.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}));E.sort((ye,ze)=>ye.timestamp-ze.timestamp);const M=Un.current,F=(M==null?void 0:M.scrollTop)||0,be=(M==null?void 0:M.scrollHeight)||0;Ie(ye=>({...ye,messages:[...E,...ye.messages]})),ft(b.has_more),pn(b.next_cursor),setTimeout(()=>{if(M){const ze=M.scrollHeight-be;M.scrollTop=F+ze}},0)}catch(b){console.error("Failed to load older messages:",b),Qn(b)}finally{la(!1)}}},[$.token,at,aa,tn,dt]),_o=w.useCallback(d=>{const b=go.current;if(b){const E=b.selectionStart,M=b.selectionEnd,F=Mn.substring(0,E)+d+Mn.substring(M);Sn(F),setTimeout(()=>{b.selectionStart=b.selectionEnd=E+d.length,b.focus()},0)}else Sn(E=>E+d);Zs(!1)},[Mn]),ec=w.useCallback(d=>{const b=d.target;b.scrollTop<=50&&tn&&!aa&&Be&&Ps(Be);const E=b.scrollHeight-b.scrollTop-b.clientHeight;iu(E>200),E<50&&Xs(0)},[tn,aa,Be,Ps]),tc=w.useCallback(()=>{const d=Un.current;d&&(d.scrollTo({top:d.scrollHeight,behavior:"smooth"}),Xs(0))},[]),No=w.useCallback((d,b)=>{ya(d),en(null),Va(b),Dn([]),ga([]),Ie(E=>({...E,messages:[]})),la(!1),ft(!0),pn(void 0),Jn(d),Ml(d)},[Jn,Ml]),In=w.useCallback(async()=>{if(!(!$.token||!at))try{const d=await P.getDmChannels($.token);sa(d.dm_channels)}catch(d){console.error("Failed to load DM channels:",d),Qn(d),sa([])}},[$.token,at]),nc=w.useCallback(async d=>{if(!$.token||!at)return null;try{const b=await P.createDmChannel(d,$.token);return await In(),b}catch(b){return console.error("Failed to create DM channel:",b),Qn(b),null}},[$.token,at,In]),ac=w.useCallback(d=>{ya(null),en(null),Os(d),bt.setActiveChannel(d.id),la(!1),ft(!0),pn(void 0),Sa(d.id),Re&&Re.isSocketConnected()&&Re.joinChannel(d.id)},[Sa,Re]),lc=w.useCallback(async d=>{const b=await nc(d.id);if(b){await In();const E=va.find(M=>M.id===b.id);E&&ac(E)}},[nc,In,va,ac]),Eo=async()=>{if(!(!Al.trim()||!$.token)){po(!0);try{await P.updateProfile({display_name:Al.trim()},$.token),Ie(d=>({...d,user:d.user?{...d.user,display_name:Al.trim()}:d.user})),bt.setCurrentUsername(Al.trim()),di(!1),Ys("")}catch(d){console.error("Failed to update display name:",d)}finally{po(!1)}}},ic=w.useCallback((d,b)=>{if(en(d),kt(b),Ie(E=>({...E,activeChannel:d})),bt.setActiveChannel(d),Ae){const E=$.messages.length>0?$.messages[$.messages.length-1]:null;bt.markChannelAsRead(Ae,d,E==null?void 0:E.id),localStorage.setItem(`accord_lastread_${d}`,Date.now().toString()),Ja(M=>M+1)}la(!1),ft(!0),pn(void 0),Sa(d),Re&&Re.isSocketConnected()&&Re.joinChannel(d)},[Sa,Re,Ae,$.messages]),ru=async()=>{if(!(!Ae||!$.token||!gn.trim()))try{await P.createChannel(Ae,gn.trim(),Xn,$.token),Lt(!1),nn(""),At("text"),await Jn(Ae)}catch(d){console.error("Failed to create channel:",d),Qn(d)}},Nn=async()=>{if(!(!Ae||!$.token))try{const d=await P.createInviteWithOptions(Ae,$.token),b=P.getBaseUrl();try{const M=new URL(b).host;Sl(fb(M,d.invite_code))}catch{Sl(d.invite_code)}Xa(!0)}catch(d){console.error("Failed to generate invite:",d),Qn(d)}},mi=async(d,b)=>{if(!(!Ae||!$.token||!window.confirm(`Are you sure you want to kick ${b} from this node?`)))try{await P.kickMember(Ae,d,$.token),await Ml(Ae)}catch(M){console.error("Failed to kick member:",M),Qn(M)}},jo=async d=>{if($.token){try{await P.deleteChannel(d,$.token),d===Be&&(en(null),kt("# general")),Ae&&await Jn(Ae)}catch(b){console.error("Failed to delete channel:",b),Qn(b)}Vi(null)}},sc=async()=>{if(!(!$.token||!_n.trim())){ba(!0),Nl("");try{const d=_n.trim(),b=Pp(d),E=b?b.inviteCode:d;await P.joinNodeByInvite(E,$.token),ka(!1),Aa(!1),ci(""),await yn()}catch(d){Nl(d.message||"Failed to join node")}finally{ba(!1)}}},cc=async()=>{if(!(!$.token||!oi.trim())){Ma(!0);try{const d=await P.createNode(oi.trim(),$.token,ri.trim()||void 0);try{const b=await P.getNodeChannels(d.id,$.token);(!b||b.length===0)&&await P.createChannel(d.id,"general","text",$.token)}catch(b){console.warn("Failed to check/create #general channel:",b)}await yn(),ya(d.id),Va(et.length),Aa(!1),El(""),Yi(""),await Jn(d.id),await Ml(d.id)}catch(d){console.error("Failed to create node:",d),Qn(d)}finally{Ma(!1)}}},Co=w.useCallback(d=>{bt.updatePreferences(d),wl(d),Ja(b=>b+1)},[]),oc=w.useCallback((d,b)=>{if(d!==Be){const E=wn.find(M=>M.id===d);E&&ic(d,`# ${E.name}`)}},[Be,wn,ic]),uu=w.useCallback((d,b)=>{if(Ae&&b.length>0){const E=b[b.length-1];bt.markChannelAsRead(Ae,d,E.id),localStorage.setItem(`accord_lastread_${d}`,Date.now().toString()),Ja(M=>M+1)}},[Ae]),Fa=async()=>{de("");const d=Pp(B);if(!d){de("Invalid invite link. Expected format: accord://host:port/invite/CODE or https://host:port/invite/CODE");return}ce(d),Te(!0);try{P.setBaseUrl(d.relayUrl);const b=await P.health();r(!0),bl(!0),je(b.version),l(d.relayUrl);const E=db(d.relayHost),M=mb(d.relayHost);if(E&&M)try{to(E),localStorage.setItem("accord_user_id",M);let F="";if(gt){const ze=await Lr();if(ze){Pt(ze);const lt=await Mi(ze.publicKey);F=await ni(lt),pe(F),qa(F),S(lt)}}Ie(ze=>({...ze,isAuthenticated:!0,token:E,user:{id:M,public_key_hash:F,public_key:"",created_at:0,display_name:_t(F)}})),U(!0);try{await P.joinNodeByInvite(d.inviteCode,E)}catch{}const be=o.replace(/^http/,"ws"),ye=new ws(E,be);Da(ye),sn(ye),ye.connect(),T(!1),setTimeout(()=>{yn(),In()},100);return}catch{}oe(!0)}catch{de(`Cannot connect to relay at ${d.relayUrl}`),ce(null)}finally{Te(!1)}},Ji=async()=>{if(te){if(de(""),De.length<8){de("Password must be at least 8 characters");return}ie(!0);try{let d="",b="";if(gt){const F=await dd();d=await Mi(F.publicKey),b=await ni(d),qa(b),await zr(F,b),await Br(F,De,b),Pt(F),S(d);const be=await hg(F);D(be)}if(!d){de("Failed to generate encryption keys"),ie(!1);return}await P.register(d,De),Wt.current=De,pe(b),qa(b);const E=await P.login(d,De);to(E.token),localStorage.setItem("accord_user_id",E.user_id),hb(te.relayHost,E.token),pb(te.relayHost,E.user_id);try{await P.joinNodeByInvite(te.inviteCode,E.token)}catch{}Ie(F=>({...F,isAuthenticated:!0,token:E.token,user:{id:E.user_id,public_key_hash:b,public_key:d,created_at:0,display_name:_t(b)}})),U(!0),bt.setCurrentUsername(_t(b));const M=new ws(E.token,o.replace(/^http/,"ws"));Da(M),sn(M),M.connect(),Ue(!0),Pe(!1),T(!1),setTimeout(()=>{di(!0)},500),setTimeout(()=>{yn(),In()},100)}catch(d){de(d instanceof Error?d.message:"Registration failed")}finally{ie(!1)}}},Ua=async()=>{v(!0),H("");try{const d=o.replace(/\/+$/,"");l(d),P.setBaseUrl(d),localStorage.setItem("accord_server_url",d);const b=await P.health();r(!0),bl(!0),x(b.version),m(!1),T(!1)}catch{H(`Cannot connect to ${o}`),r(!1)}finally{v(!1)}},Ii=async()=>{if(!at){if(gt&&!it)try{const d=await dd();await zr(d),Pt(d);const b=await Mi(d.publicKey);S(b),pe(await ni(b))}catch(d){console.warn("Failed to generate demo keys:",d)}U(!0),Ie(d=>({...d,isAuthenticated:!0}));return}H("");try{if(N){let d=se.trim();if(!d&&gt){const F=localStorage.getItem("accord_public_key_hash");F&&qa(F);let be=await mg(V);if(be||(be=await Lr()),be)d=await Mi(be.publicKey),Pt(be),S(d);else if(Je){const ye=gg();ye&&(d=ye)}if(!d){const ye=localStorage.getItem("accord_public_key_plain");ye&&(d=ye)}}if(!d){if(localStorage.getItem("accord_public_key_hash")){H("Keypair not found in this browser. Use 'Recover with recovery phrase' to restore your identity, or register a new account.");return}H("No identity found. Create a new identity or recover with your recovery phrase.");return}const b=await P.login(d,V);to(b.token),localStorage.setItem("accord_user_id",b.user_id),Wt.current=V;const E=await ni(d);if(pe(E),qa(E),gt&&!it){let F=await mg(V,E);F||(F=await Lr(E)),F&&(Pt(F),await Br(F,V,E))}Kt(!0),localStorage.setItem("accord_public_key_plain",d),localStorage.setItem("accord_public_key_hash",E),Ie(F=>({...F,isAuthenticated:!0,token:b.token,user:{id:b.user_id,public_key_hash:E,public_key:d,created_at:0,display_name:_t(E)}})),U(!0),bt.setCurrentUsername(_t(E));const M=new ws(b.token,o.replace(/^http/,"ws"));Da(M),sn(M),M.connect(),setTimeout(()=>{yn(),In()},100)}else{if(V.length<8){H("Password must be at least 8 characters long");return}let d=se.trim();if(!d&&gt)try{const E=await dd();d=await Mi(E.publicKey);const M=await ni(d);qa(M),await zr(E,M),await Br(E,V,M),Pt(E),S(d);const F=await hg(E);D(F)}catch{H("Failed to generate encryption keys");return}if(!d){H("Public key generation failed. Crypto may not be supported.");return}await P.register(d,V),Wt.current=V;const b=await ni(d);pe(b),qa(b),localStorage.setItem("accord_public_key_plain",d),localStorage.setItem("accord_public_key_hash",b),Ue(!0),Pe(!1),setTimeout(()=>{di(!0)},500)}}catch(d){H(d instanceof Error?d.message:"Authentication failed")}},rc=async()=>{kn(""),Qe(!0);try{const d=B0(vt),b=await Mi(d.publicKey),E=await P.login(b,ln),M=await ni(b);qa(M),await zr(d,M),await Br(d,ln,M),Pt(d),S(b),Wt.current=ln,pe(M),qa(M),to(E.token),localStorage.setItem("accord_user_id",E.user_id),Ie(be=>({...be,isAuthenticated:!0,token:E.token,user:{id:E.user_id,public_key_hash:M,public_key:b,created_at:0,display_name:_t(M)}})),U(!0),jt(!1),Jt(""),hn(""),Kt(!0),bt.setCurrentUsername(_t(M));const F=new ws(E.token,o.replace(/^http/,"ws"));Da(F),sn(F),F.connect(),setTimeout(()=>{yn(),In()},100)}catch(d){kn(d instanceof Error?d.message:"Recovery failed. Check your phrase and password.")}finally{Qe(!1)}},Oa=()=>{Re&&(Re.disconnect(),sn(null)),cy(),localStorage.removeItem("accord_user_id"),Wt.current="",Pt(null),U0(),Kt(pg()),Zn([]),Dn([]),ga([]),ya(null),en(null),U(!1),Ie({isAuthenticated:!1,nodes:[],messages:[],isConnected:!1}),ne(""),S(""),pe(""),T(!0),O("choose"),Q(""),ce(null),de(""),oe(!1),Ne("")},Rl=async()=>{var b,E,M,F;if(!Mn.trim())return;const d=(Rt==null?void 0:Rt.id)||Be||$.activeChannel;if(Re&&Re.isSocketConnected()&&d)try{let be=Mn,ye=!1;if(gt&&it&&d)try{const ve=await ha(it.privateKey,d);be=await Ir(ve,Mn),ye=!0}catch(ve){console.warn("Failed to encrypt message, sending plaintext:",ve)}Re.sendChannelMessage(d,be,Nt==null?void 0:Nt.id);const ze={id:Math.random().toString(),author:((b=$.user)==null?void 0:b.display_name)||_t(((E=$.user)==null?void 0:E.public_key_hash)||"")||"You",content:Mn,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),timestamp:Date.now(),channel_id:d,isEncrypted:ye,reply_to:Nt==null?void 0:Nt.id,replied_message:Nt?{id:Nt.id,sender_id:Nt.author,sender_public_key_hash:"",encrypted_payload:"",created_at:Nt.timestamp,content:Nt.content}:void 0};Ie(ve=>({...ve,messages:[...ve.messages,ze]}));const lt=Un.current;lt&&setTimeout(()=>{lt.scrollTop=lt.scrollHeight},0)}catch(be){console.error("Failed to send message:",be)}else{const be={id:Math.random().toString(),author:((M=$.user)==null?void 0:M.display_name)||_t(((F=$.user)==null?void 0:F.public_key_hash)||"")||"You",content:Mn,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),timestamp:Date.now(),isEncrypted:!1};Ie(ze=>({...ze,messages:[...ze.messages,be]}));const ye=Un.current;ye&&setTimeout(()=>{ye.scrollTop=ye.scrollHeight},0)}Sn(""),pa(null)},$i=async()=>{if(!(!ia||!Ca.trim()||!$.user))try{let d=Ca;if(gt&&it&&Be)try{const b=await ha(it.privateKey,Be);d=await Ir(b,Ca)}catch(b){console.warn("Failed to encrypt edited message:",b),Mt("Failed to encrypt message");return}Re&&Re.isSocketConnected()?Re.sendEditMessage(ia,d):(await P.editMessage(ia,$.user.id,d),Ie(b=>({...b,messages:b.messages.map(E=>E.id===ia?{...E,content:Ca,edited_at:Date.now()}:E)}))),xl(null),xe("")}catch(d){console.error("Failed to edit message:",d),Mt("Failed to edit message")}},Fi=()=>{xl(null),xe("")},Wa=async d=>{if($.token)try{Re&&Re.isSocketConnected()?Re.sendDeleteMessage(d):(await P.deleteMessage(d,$.token),Ie(b=>({...b,messages:b.messages.filter(E=>E.id!==d)}))),ee(null)}catch(b){console.error("Failed to delete message:",b),Mt("Failed to delete message")}},uc=d=>{if(!$.user||!Ae)return!1;if(d.author===($.user.display_name||_t($.user.public_key_hash)))return!0;const b=localStorage.getItem("accord_user_id"),E=It.find(M=>M.user_id===b);return E?E.role==="admin"||E.role==="moderator":!1},To=d=>{pa(d);const b=document.querySelector(".message-input");b&&b.focus()},fc=()=>{pa(null)},fu=d=>{const b=document.querySelector(`[data-message-id="${d}"]`);b&&(b.scrollIntoView({behavior:"smooth",block:"center"}),b.classList.add("highlight-message"),setTimeout(()=>{b.classList.remove("highlight-message")},2e3))},dc=async(d,b)=>{if($.token){try{Re&&Re.isSocketConnected()?Re.addReaction(d,b):await P.addReaction(d,b,$.token)}catch(E){console.error("Failed to add reaction:",E),Mt("Failed to add reaction")}Ms(null)}},du=async(d,b)=>{if($.token)try{Re&&Re.isSocketConnected()?Re.removeReaction(d,b):await P.removeReaction(d,b,$.token)}catch(E){console.error("Failed to remove reaction:",E),Mt("Failed to remove reaction")}},Ao=async d=>{if($.token)try{Re&&Re.isSocketConnected()?Re.pinMessage(d):await P.pinMessage(d,$.token)}catch(b){console.error("Failed to pin message:",b),Mt("Failed to pin message")}},ko=async d=>{if($.token)try{Re&&Re.isSocketConnected()?Re.unpinMessage(d):await P.unpinMessage(d,$.token)}catch(b){console.error("Failed to unpin message:",b),Mt("Failed to unpin message")}},hc=async()=>{if(!(!Be||!$.token))try{const b=(await P.getPinnedMessages(Be,$.token)).pinned_messages.map(E=>({...E,time:new Date(E.created_at*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),pinned_at:E.pinned_at*1e3,timestamp:E.created_at*1e3}));On(b)}catch(d){console.error("Failed to load pinned messages:",d),Mt("Failed to load pinned messages")}},$n=()=>{si(d=>(d||hc(),!d))},pi=async(d,b)=>{if(!$.user)return;const E=$.messages.find(F=>F.id===d);if(!E||!E.reactions){dc(d,b);return}const M=E.reactions.find(F=>F.emoji===b);M&&M.users.includes($.user.id)?du(d,b):dc(d,b)};w.useEffect(()=>{(async()=>{const b=q0(),E=localStorage.getItem("accord_user_id");if(b&&E&&at){T(!1);let M=null;gt&&(M=await Lr(),M&&Pt(M));let F="";if(M){const ye=await Mi(M.publicKey);F=await ni(ye),pe(F),qa(F),S(ye)}Ie(ye=>({...ye,isAuthenticated:!0,token:b,user:{id:E,public_key_hash:F,public_key:"",created_at:0,display_name:_t(F)}})),U(!0);const be=new ws(b,o.replace(/^http/,"ws"));Da(be),sn(be),be.connect(),setTimeout(()=>{yn(),In()},100)}})()},[at,Da,gt,yn]),w.useEffect(()=>{Ae&&$.token&&at&&(Jn(Ae),Ml(Ae))},[Ae,$.token,at,Jn,Ml]),w.useEffect(()=>{Be&&$.token&&at&&Sa(Be)},[Be,$.token,at,Sa]),w.useEffect(()=>{const d=b=>{if((b.ctrlKey||b.metaKey)&&(b.key==="k"||b.key==="f")&&(b.preventDefault(),Hi(!0)),(b.ctrlKey||b.metaKey)&&b.key===","&&(b.preventDefault(),Ra(!0)),(b.ctrlKey||b.metaKey)&&b.key==="/"&&(b.preventDefault(),Zi(E=>!E)),b.key==="Escape"){if(Gs){Zi(!1);return}if(Us){Hi(!1);return}if(jl){Ra(!1);return}if(qs){fi(!1);return}if(Gi){Vi(null);return}if(Ds){Bi(!1);return}if(qi){Aa(!1);return}if(Za){Xa(!1);return}if(Ks){di(!1);return}if(ia){Fi();return}if(Nt){fc();return}}};return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[Gs,Us,jl,Ds,qi,Za,Ks,ia,Nt]),w.useEffect(()=>{const d=localStorage.getItem("accord-font-size");d&&document.documentElement.style.setProperty("--font-size",d)},[]);const[zn]=w.useState(()=>localStorage.getItem("accord-message-density")||"comfortable");w.useEffect(()=>()=>{Re&&Re.disconnect()},[Re]);const wa=w.useCallback(d=>{var F;const b=bo.get(d);if(b)return b;const E=xo.get(d);if(E&&Date.now()-E<300*1e3)return"online";const M=It.find(be=>be.user_id===d);return M!=null&&M.status?M.status:(F=M==null?void 0:M.profile)!=null&&F.status?M.profile.status:"offline"},[bo,xo,It]),Wi=hd.useMemo(()=>{const d={online:0,idle:1,dnd:2,offline:3};return[...It].sort((b,E)=>{const M=d[wa(b.user_id)]??3,F=d[wa(E.user_id)]??3;return M-F})},[It,wa]),gi=w.useCallback((d,b,E,M,F,be)=>{d.preventDefault(),hi({x:d.clientX,y:d.clientY,userId:b,publicKeyHash:E,displayName:M,bio:F,user:be})},[]);if(w.useEffect(()=>{const d=()=>hi(null);if(Bt)return document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[Bt]),Me)return s.jsx("div",{className:"app",children:s.jsx("div",{className:"auth-page",children:s.jsxs("div",{className:"auth-card key-backup-card",children:[s.jsx("h2",{className:"auth-title",children:" Save Your Recovery Phrase"}),s.jsxs("p",{className:"auth-subtitle",children:["This 24-word phrase is the ",s.jsx("strong",{children:"only way"})," to recover your identity if you lose access to this browser.",s.jsx("strong",{className:"warning",style:{color:"var(--yellow)"},children:" Write it down and store it safely. It will NOT be shown again."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Recovery Phrase (24 words)"}),s.jsx("div",{style:{background:"var(--bg-tertiary)",border:"2px solid var(--yellow)",borderRadius:"8px",padding:"16px",fontFamily:"monospace",fontSize:"15px",lineHeight:"2",wordSpacing:"8px",userSelect:"all",cursor:"text"},children:Ye})]}),s.jsx("div",{className:"form-group",style:{marginTop:"16px"},children:s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:Ee,onChange:d=>Pe(d.target.checked)}),"I have written down my recovery phrase and stored it safely"]})}),s.jsxs("div",{className:"key-backup-actions",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Ye).catch(()=>{}),alert("Recovery phrase copied to clipboard! Store it safely and clear your clipboard.")},className:"btn btn-green",children:"Copy to Clipboard"}),s.jsx("button",{onClick:()=>{Ue(!1),D(""),Y||(K(!0),ne(""),H(""))},disabled:!Ee,className:"btn btn-primary",title:Ee?"":"Please acknowledge you saved your phrase",children:Y?"Continue":"Continue to Login"})]})]})})});if(zt)return s.jsx("div",{className:"app",children:s.jsx("div",{className:"auth-page",children:s.jsxs("div",{className:"auth-card",children:[s.jsx("button",{onClick:()=>{jt(!1),kn(""),Jt(""),hn("")},className:"auth-back-btn",children:" Back"}),s.jsx("h2",{className:"auth-title",children:" Recover Identity"}),s.jsx("p",{className:"auth-subtitle",children:"Enter your 24-word recovery phrase and password to restore your identity"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Recovery Phrase (24 words)"}),s.jsx("textarea",{placeholder:"word1 word2 word3 ... word24",value:vt,onChange:d=>Jt(d.target.value),rows:3,className:"form-textarea",style:{fontFamily:"monospace"}})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Password"}),s.jsx("input",{type:"password",placeholder:"Your account password",value:ln,onChange:d=>hn(d.target.value),onKeyDown:d=>{d.key==="Enter"&&rc()},className:"form-input"})]}),Vn&&s.jsx("div",{className:"auth-error",children:Vn}),s.jsx("button",{onClick:rc,disabled:re||!vt.trim()||!ln,className:"btn btn-primary",children:re?"Recovering...":"Recover Identity"})]})})});if(le)return s.jsx("div",{className:"app",children:s.jsx("div",{className:"auth-page",children:s.jsxs("div",{className:"auth-card key-backup-card",children:[s.jsx("h2",{className:"auth-title",children:" Backup Your Key"}),s.jsxs("p",{className:"auth-subtitle",children:["Your identity is your keypair. If you lose it, you lose access to your account forever.",s.jsx("strong",{className:"warning",style:{color:"var(--yellow)"},children:" There is no recovery."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Your Public Key Fingerprint"}),s.jsx("div",{className:"key-value",children:ae||"computing..."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Public Key (share this)"}),s.jsx("textarea",{readOnly:!0,value:se,rows:3,className:"form-textarea"})]}),s.jsx("div",{className:"auth-success",style:{marginBottom:"16px"},children:" Your keypair is saved in this browser's storage. To use Accord on another device, you'll need to export and import your key."}),s.jsxs("div",{className:"key-backup-actions",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(se).catch(()=>{}),alert("Public key copied to clipboard!")},className:"btn btn-green",children:"Copy Public Key"}),s.jsx("button",{onClick:()=>{W(!1),K(!0),ne(""),H("")},className:"btn btn-primary",children:"Continue to Login"})]})]})})});if(A)return s.jsx("div",{className:"app",children:s.jsx("div",{className:"auth-page",children:s.jsxs("div",{className:"auth-card auth-card-narrow",children:[X==="choose"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"auth-brand",children:s.jsxs("h1",{children:[" ",s.jsx("span",{className:"brand-accent",children:"Accord"})]})}),s.jsx("p",{className:"auth-tagline",children:"Privacy-first community communications"}),s.jsx("div",{className:"auth-buttons-stack",children:at?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{T(!1),K(!0)},className:"btn btn-primary",children:"Log in"}),s.jsx("button",{onClick:()=>{T(!1),K(!1)},className:"btn btn-outline",children:"Create new identity"}),s.jsx("button",{onClick:()=>O("invite"),className:"btn btn-outline",children:"I have an invite link"}),s.jsx("button",{onClick:()=>{T(!1),jt(!0),kn("")},className:"btn-ghost",style:{fontSize:"13px",marginTop:"8px",opacity:.8},children:" Recover identity with recovery phrase"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>O("invite"),className:"btn btn-primary",children:"I have an invite link"}),s.jsx("button",{onClick:()=>O("admin"),className:"btn btn-outline",children:"Set up a new relay (admin)"}),s.jsx("button",{onClick:()=>O("recover"),className:"btn-ghost",style:{fontSize:"13px",marginTop:"8px",opacity:.8},children:" Recover identity (connect to relay first)"})]})})]}),X==="invite"&&!Se&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{O("choose"),de(""),Q(""),ce(null),je("")},className:"auth-back-btn",children:" Back"}),s.jsx("h2",{className:"auth-title",children:"Join via Invite"}),s.jsx("p",{className:"auth-subtitle",children:"Paste the invite link you received"}),s.jsx("div",{className:"form-group",children:s.jsx("input",{type:"text",placeholder:"accord://host:port/invite/CODE or https://...",value:B,onChange:d=>Q(d.target.value),onKeyDown:d=>{d.key==="Enter"&&Fa()},className:"form-input"})}),he&&s.jsx("div",{className:"auth-error",children:he}),Le&&s.jsxs("div",{className:"auth-success",children:[" Connected to relay v",Le]}),s.jsx("button",{onClick:Fa,disabled:fe||!B.trim(),className:"btn btn-primary",children:fe?"Connecting to relay...":"Join"})]}),X==="invite"&&Se&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"auth-title",children:"Create Your Identity"}),s.jsx("p",{className:"auth-subtitle",children:"Connected to relay  now set a password to create your identity"}),s.jsx("div",{className:"auth-info-box",children:s.jsx("span",{className:"accent",children:" A keypair will be auto-generated. No username needed."})}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Password (min 8 characters)"}),s.jsx("input",{type:"password",placeholder:"Choose a password",value:De,onChange:d=>Ne(d.target.value),onKeyDown:d=>{d.key==="Enter"&&Ji()},className:"form-input"})]}),he&&s.jsx("div",{className:"auth-error",children:he}),s.jsx("button",{onClick:Ji,disabled:me||De.length<8,className:"btn btn-green",children:me?"Creating identity & joining...":"Create Identity & Join"})]}),X==="admin"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{O("choose"),H("")},className:"auth-back-btn",children:" Back"}),s.jsx("h2",{className:"auth-title",children:"Connect to Relay"}),s.jsx("p",{className:"auth-subtitle",children:"Enter the relay server URL (admin/power-user)"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Server URL"}),s.jsx("input",{type:"text",placeholder:"http://localhost:8080",value:o,onChange:d=>l(d.target.value),onKeyDown:d=>{d.key==="Enter"&&Ua()},className:"form-input"})]}),R&&s.jsx("div",{className:"auth-error",children:R}),y&&s.jsxs("div",{className:"auth-success",children:[" Connected  server v",y]}),s.jsx("button",{onClick:Ua,disabled:p,className:"btn btn-primary",children:p?"Connecting...":"Connect"})]})]})})});if(h)return s.jsx("div",{className:"app",children:s.jsx("div",{className:"auth-page",children:s.jsxs("div",{className:"auth-card auth-card-narrow",children:[s.jsx("h2",{className:"auth-title",children:"Connect to Relay"}),s.jsx("p",{className:"auth-subtitle",children:"Manual relay connection"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Server URL"}),s.jsx("input",{type:"text",placeholder:"http://localhost:8080",value:o,onChange:d=>l(d.target.value),onKeyDown:d=>{d.key==="Enter"&&Ua()},className:"form-input"})]}),R&&s.jsx("div",{className:"auth-error",children:R}),y&&s.jsxs("div",{className:"auth-success",children:[" Connected  server v",y]}),s.jsx("button",{onClick:Ua,disabled:p,className:"btn btn-primary",children:p?"Connecting...":"Connect"})]})})});if(!Y)return s.jsx("div",{className:"app",children:s.jsx("div",{className:"auth-page",children:s.jsxs("div",{className:"auth-card",children:[s.jsx("h2",{className:"auth-title",children:N?Je?"Welcome Back":"Login to Accord":"Create Identity"}),s.jsx("p",{className:"auth-subtitle",children:N?Je?"Enter your password to sign back in":"Authenticate with your keypair and password":"A new keypair will be generated automatically"}),s.jsxs("div",{className:"auth-server-bar",children:[s.jsxs("span",{children:[" ",o," ",at&&s.jsx("span",{className:"connected",children:" connected"})]}),s.jsx("button",{onClick:()=>{T(!0),O("choose"),H("")},className:"btn-ghost",style:{fontSize:"12px"},children:"Change"})]}),N&&s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Key Status"}),s.jsx("div",{className:"auth-info-box",children:it||se||Je?s.jsx("span",{className:"accent",children:" Keypair found  enter your password to sign back in"}):localStorage.getItem("accord_public_key_plain")?s.jsx("span",{className:"accent",children:" Identity remembered  enter your password to log in"}):s.jsx("span",{style:{color:"var(--yellow)"},children:" No identity found on this device  create a new one or recover with your phrase"})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Password"}),s.jsx("input",{type:"password",placeholder:N?"Enter your password":"Choose a password (min 8 chars)",value:V,onChange:d=>ne(d.target.value),onKeyDown:d=>{d.key==="Enter"&&Ii()},className:"form-input"}),!N&&V&&V.length<8&&s.jsx("div",{className:"form-hint",style:{color:"var(--red)"},children:"Password must be at least 8 characters"})]}),!N&&gt&&s.jsxs("div",{className:"auth-info-box",style:{marginBottom:"20px"},children:[s.jsx("div",{className:"accent",children:" A new ECDH P-256 keypair will be generated for your identity"}),s.jsx("div",{style:{fontSize:"12px",marginTop:"4px"},children:"No username needed  you are identified by your public key hash"})]}),R&&s.jsx("div",{className:"auth-error",children:R}),s.jsx("button",{onClick:Ii,className:"btn btn-primary",style:{marginBottom:"16px"},children:N?"Login":"Create Identity & Register"}),s.jsxs("div",{className:"auth-toggle",style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},children:[s.jsx("button",{onClick:()=>{K(!N),H(""),ne("")},className:"btn-ghost",children:N?"Need to create an identity?":"Already have a keypair? Login"}),s.jsxs("div",{style:{borderTop:"1px solid var(--border)",width:"100%",paddingTop:"12px",marginTop:"4px",display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},children:[s.jsx("span",{style:{fontSize:"12px",opacity:.6},children:"Lost access to your keypair?"}),s.jsx("button",{onClick:()=>{jt(!0),kn("")},className:"btn btn-outline",style:{width:"100%"},children:" Recover with recovery phrase"})]})]})]})})});const yi=et.map(d=>d.name),mc=wn.map(d=>`# ${d.name}`),vn=d=>d?d.display_name||_t(d.public_key_hash):"Unknown",Mo=It.filter(d=>d.user).map(d=>vn(d.user));return s.jsxs("div",{className:"app",children:[s.jsxs("div",{className:"server-list",children:[yi.map((d,b)=>{var F;const E=et.length>0?(F=et[b])==null?void 0:F.id:null,M=E?bt.getNodeUnreads(E):{totalUnreads:0,totalMentions:0};return s.jsxs("div",{className:`server-icon ${b===Tt?"active":""}`,onClick:()=>{E?No(E,b):Va(b)},title:d,children:[d[0],M.totalMentions>0&&s.jsx("div",{className:"server-notification mention",children:M.totalMentions>9?"9+":M.totalMentions}),M.totalMentions===0&&M.totalUnreads>0&&s.jsx("div",{className:"server-notification dot"})]},E||d)}),s.jsx("div",{className:"server-icon add-server",title:"Join or Create Node",onClick:()=>Aa(!0),style:{cursor:"pointer"},children:"+"})]},ho),s.jsxs("div",{className:"channel-sidebar",children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsxs("div",{className:"sidebar-header-row",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[yi[Tt],at&&s.jsxs("span",{className:"connection-status",children:[s.jsx("span",{className:`connection-dot ${Rn.status}`,children:""}),s.jsxs("span",{className:"connection-label",children:[Rn.status==="connected"&&"Connected",Rn.status==="reconnecting"&&`Reconnecting... ${Rn.reconnectAttempt}/${Rn.maxReconnectAttempts}`,Rn.status==="disconnected"&&!$.isConnected&&"Disconnected"]}),Rn.status==="disconnected"&&!$.isConnected&&Re&&s.jsx("button",{className:"connection-retry-btn",onClick:()=>Re.retry(),children:"Retry"})]}),!at&&s.jsx("span",{className:"demo-badge",children:"DEMO"})]}),s.jsxs("div",{className:"sidebar-admin-buttons",children:[Ae&&xa(Ae,"ManageInvites")&&s.jsx("button",{onClick:Nn,className:"sidebar-admin-btn",title:"Generate Invite",children:"Invite"}),Ae&&s.jsx("button",{onClick:()=>fi(!0),className:"sidebar-admin-btn",title:"Node Settings",children:""})]})]}),Ae&&Ve[Ae]&&s.jsxs("div",{className:"sidebar-role",children:[Fs(Ve[Ae])," ",Ve[Ae]]}),Ae&&((vi=et.find(d=>d.id===Ae))==null?void 0:vi.description)&&s.jsx("div",{className:"sidebar-description",title:(Pa=et.find(d=>d.id===Ae))==null?void 0:Pa.description,children:(Ro=et.find(d=>d.id===Ae))==null?void 0:Ro.description})]}),s.jsxs("div",{className:"channel-list",children:[mc.map((d,b)=>{const E=wn.length>0?wn[b]:null,M=E?E.id===Be:d===Ct,F=Ae&&xa(Ae,"DeleteChannel"),be=(E==null?void 0:E.channel_type)==="voice",ye=be&&cn===(E==null?void 0:E.id),ze=Ae&&E?bt.getChannelUnreads(Ae,E.id):{count:0,mentions:0},lt=ze.count>0||ze.mentions>0;return s.jsxs("div",{className:`channel ${M?"active":""} ${ye?"voice-connected":""} ${lt&&!M?"unread":""}`,children:[s.jsx("span",{className:"channel-drag-handle",title:"Drag to reorder",children:""}),s.jsxs("div",{onClick:()=>{E?be?ye||(As(E.id),zi(E.name)):ic(E.id,d):kt(d)},style:{flex:1,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("span",{children:[be?"":"#"," ",(E==null?void 0:E.name)||d.replace(/^# /,"")]}),be&&s.jsx("span",{style:{fontSize:"11px",color:"#8e9297"},children:"(0)"}),ye&&s.jsx("span",{style:{fontSize:"10px",color:"#43b581"},children:""})]}),s.jsxs("div",{className:"channel-badges",children:[ze.mentions>0&&s.jsx("div",{className:"mention-badge",children:ze.mentions>9?"9+":ze.mentions}),ze.mentions===0&&ze.count>0&&s.jsx("div",{className:"unread-badge",children:ze.count>99?"99+":ze.count}),F&&E&&s.jsx("button",{onClick:ve=>{ve.stopPropagation(),Vi({id:E.id,name:E.name})},className:"channel-delete-btn",title:"Delete channel",children:""})]})]},(E==null?void 0:E.id)||d)}),Ae&&xa(Ae,"CreateChannel")&&s.jsx("div",{style:{marginTop:"8px",padding:"0 8px"},children:qe?s.jsxs("div",{className:"create-channel-form",children:[s.jsx("input",{type:"text",placeholder:"Channel name",value:gn,onChange:d=>nn(d.target.value)}),s.jsxs("select",{value:Xn,onChange:d=>At(d.target.value),children:[s.jsx("option",{value:"text",children:"Text Channel"}),s.jsx("option",{value:"voice",children:"Voice Channel"})]}),s.jsxs("div",{className:"create-channel-actions",children:[s.jsx("button",{onClick:ru,className:"btn btn-green btn-sm",children:"Create"}),s.jsx("button",{onClick:()=>{Lt(!1),nn(""),At("text")},className:"btn btn-outline btn-sm",children:"Cancel"})]})]}):s.jsx("button",{onClick:()=>Lt(!0),className:"btn btn-green btn-sm",style:{width:"100%"},children:"+ Create Channel"})})]}),s.jsxs("div",{className:"dm-section",children:[s.jsxs("div",{className:"dm-header",children:["Direct Messages",s.jsx("button",{onClick:()=>Ta(!Ia),className:"dm-header-add-btn",title:"Create DM",children:"+"})]}),s.jsxs("div",{className:"dm-list",children:[va.map(d=>{var M;const b=(Rt==null?void 0:Rt.id)===d.id,E=bt.getChannelUnreads(`dm-${d.id}`,d.id);return s.jsxs("div",{className:`dm-item ${b?"active":""}`,onClick:()=>ac(d),children:[s.jsx("div",{className:"dm-avatar",children:(((M=d.other_user_profile)==null?void 0:M.display_name)||"?")[0].toUpperCase()}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsx("div",{className:"dm-name",children:d.other_user_profile.display_name}),d.last_message&&s.jsx("div",{className:"dm-last-message",children:d.last_message.content.substring(0,30)})]}),s.jsxs("div",{className:"dm-badges",children:[E.mentions>0&&s.jsx("div",{className:"mention-badge",children:E.mentions>9?"9+":E.mentions}),E.mentions===0&&E.count>0&&s.jsx("div",{className:"notification-dot"})]})]},d.id)}),va.length===0&&s.jsx("div",{className:"dm-empty",children:"No direct messages yet"})]})]}),s.jsxs("div",{className:"user-panel",children:[s.jsx("div",{className:"user-avatar",children:((ca=((bn=$.user)==null?void 0:bn.display_name)||_t(((Pi=$.user)==null?void 0:Pi.public_key_hash)||""))==null?void 0:ca[0])||"U"}),s.jsxs("div",{className:"user-info",children:[s.jsx("div",{className:"username",children:((pc=$.user)==null?void 0:pc.display_name)||_t(((bi=$.user)==null?void 0:bi.public_key_hash)||"")||"You"}),s.jsx("div",{className:"user-status",children:$.isConnected?"Online":"Offline"})]}),s.jsx("button",{onClick:()=>Hs(!0),className:"user-panel-settings connection-indicator",title:$.isConnected?`Connected${$a?`  v${$a}`:""}${Cl?` (${Cl.slice(0,8)})`:""}`:"Disconnected",children:$.isConnected?"":""}),s.jsx("button",{onClick:()=>Bi(!0),className:"user-panel-settings",title:"Notification Settings",children:""}),s.jsx("button",{onClick:()=>Ra(!0),className:"user-panel-settings",title:"Settings (Ctrl+,)",children:""}),s.jsx("button",{onClick:Oa,className:"user-panel-logout",children:"Logout"})]})]}),s.jsx("div",{className:"chat-area",children:s.jsxs(Y0,{channelId:(Rt==null?void 0:Rt.id)||Be||"",token:$.token||"",keyPair:it,encryptionEnabled:gt,children:[s.jsxs("div",{className:"chat-header",children:[s.jsx("div",{className:"chat-header-left",children:Rt?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[s.jsx("div",{className:"dm-avatar",style:{width:"24px",height:"24px",fontSize:"12px",marginRight:"8px"},children:(((za=Rt.other_user_profile)==null?void 0:za.display_name)||"?")[0].toUpperCase()}),s.jsx("span",{className:"chat-channel-name",children:Rt.other_user_profile.display_name})]}),s.jsxs("span",{className:"chat-topic",children:["Direct message with ",Rt.other_user_profile.display_name]})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"chat-channel-name",children:Ct}),s.jsx("span",{className:"chat-topic",children:(()=>{const d=wn.find(b=>b.id===Be);return(d==null?void 0:d.channel_type)==="voice"?` Voice channel  ${d.name}`:`Welcome to ${Ct}!`})()})]})}),s.jsxs("div",{className:"chat-header-right",children:[s.jsx("button",{onClick:$n,className:`chat-header-btn ${ks?"active":""}`,title:"Toggle pinned messages",children:""}),gt&&it&&s.jsx("span",{className:"e2ee-badge enabled",title:"End-to-end encryption enabled",children:" E2EE"}),gt&&!it&&s.jsx("span",{className:"e2ee-badge warning",title:"Encryption not available",children:" No Keys"}),!gt&&s.jsx("span",{className:"e2ee-badge disabled",title:"Encryption not supported",children:" No E2EE"}),s.jsx("button",{className:"search-button",onClick:()=>Hi(!0),title:"Search messages (Ctrl+K)",children:""})]})]}),s.jsxs("div",{className:`messages ${cn?"with-voice":""} density-${zn}`,ref:Un,onScroll:ec,children:[aa&&s.jsxs("div",{className:"messages-loading",children:[s.jsx("span",{className:"spinner spinner-sm"})," Loading older messages..."]}),!tn&&$.messages.length>0&&s.jsx("div",{className:"messages-beginning",children:"You've reached the beginning of this channel"}),!aa&&$.messages.length===0&&Be&&s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-state-icon",children:""}),s.jsx("div",{className:"empty-state-title",children:"No messages yet"}),s.jsx("div",{className:"empty-state-text",children:"Be the first to send a message in this channel!"})]}),!Be&&!Rt&&wn.length===0&&et.length>0&&s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-state-icon",children:"#"}),s.jsx("div",{className:"empty-state-title",children:"No channels"}),s.jsx("div",{className:"empty-state-text",children:"Create a channel to start chatting."})]}),et.length===0&&!Rt&&s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-state-icon",children:""}),s.jsx("div",{className:"empty-state-title",children:"Welcome to Accord"}),s.jsx("div",{className:"empty-state-text",children:"Join a node via invite or create your own to get started."})]}),$.messages.map((d,b)=>{const E=b>0?$.messages[b-1]:null,M=E&&E.author===d.author&&Math.abs(d.timestamp-E.timestamp)<300*1e3&&!d.reply_to,F=new Date(d.timestamp),be=E?new Date(E.timestamp):null,ye=!be||F.toDateString()!==be.toDateString(),ze=ve=>{const tt=new Date,$t=new Date(tt.getFullYear(),tt.getMonth(),tt.getDate()),Yt=new Date(ve.getFullYear(),ve.getMonth(),ve.getDate()),nt=$t.getTime()-Yt.getTime();return nt===0?"Today":nt===864e5?"Yesterday":ve.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})},lt=ve=>{const tt=Date.now()-ve;return tt<6e4?"just now":tt<36e5?`${Math.floor(tt/6e4)}m ago`:tt<864e5?`${Math.floor(tt/36e5)}h ago`:new Date(ve).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return s.jsxs(hd.Fragment,{children:[ye&&s.jsx("div",{className:"date-separator",children:s.jsx("span",{className:"date-separator-text",children:ze(F)})}),s.jsxs("div",{className:`message ${d.reply_to?"reply-message":""} ${M?"message-grouped":""}`,"data-message-id":d.id,children:[d.replied_message&&s.jsxs("div",{className:"reply-preview",onClick:()=>fu(d.reply_to),children:[s.jsx("div",{className:"reply-bar"}),s.jsxs("div",{className:"reply-content",children:[s.jsxs("span",{className:"reply-author",children:["Replying to ",_t(d.replied_message.sender_public_key_hash)]}),s.jsx("span",{className:"reply-snippet",children:d.replied_message.content||d.replied_message.encrypted_payload.substring(0,50)+"..."})]})]}),!M&&s.jsx("div",{className:"message-avatar",children:(d.author||"?")[0]}),M&&s.jsx("div",{className:"message-avatar-spacer",children:s.jsx("span",{className:"message-hover-time",children:new Date(d.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}),s.jsxs("div",{className:"message-body",children:[!M&&s.jsxs("div",{className:"message-header",children:[s.jsx("span",{className:"message-author",onContextMenu:ve=>{var $t;const tt=It.find(Yt=>vn(Yt.user)===d.author||_t(Yt.public_key_hash)===d.author);tt&&gi(ve,tt.user_id,tt.public_key_hash,d.author,($t=tt.profile)==null?void 0:$t.bio,tt.user)},children:d.author}),s.jsx("span",{className:"message-time",children:lt(d.timestamp)}),d.edited_at&&s.jsx("span",{className:"message-edited",title:`Edited at ${new Date(d.edited_at).toLocaleString()}`,children:"(edited)"}),d.isEncrypted&&s.jsx("span",{className:"message-encrypted-badge",title:"End-to-end encrypted",children:""}),d.pinned_at&&s.jsx("span",{className:"message-pinned-badge",title:`Pinned ${new Date(d.pinned_at).toLocaleString()}`,children:""}),$.user&&s.jsxs("div",{className:"message-actions",children:[s.jsx("button",{onClick:()=>To(d),className:"message-action-btn",title:"Reply to message",children:""}),d.author===($.user.display_name||_t($.user.public_key_hash))&&s.jsx("button",{onClick:()=>ge(d.id,d.content),className:"message-action-btn",title:"Edit message",children:""}),(d.author===($.user.display_name||_t($.user.public_key_hash))||uc(d))&&s.jsx("button",{onClick:()=>ee(d.id),className:"message-action-btn",title:"Delete message",children:""}),uc(d)&&s.jsx("button",{onClick:()=>d.pinned_at?ko(d.id):Ao(d.id),className:"message-action-btn",title:d.pinned_at?"Unpin message":"Pin message",children:""})]})]}),ia===d.id?s.jsxs("div",{className:"message-edit-container",children:[s.jsx("input",{type:"text",value:Ca,onChange:ve=>xe(ve.target.value),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey?(ve.preventDefault(),$i()):ve.key==="Escape"&&Fi()},className:"message-edit-input",placeholder:"Edit your message...",autoFocus:!0}),s.jsxs("div",{className:"message-edit-actions",children:[s.jsx("button",{onClick:$i,className:"edit-save-btn",children:"Save"}),s.jsx("button",{onClick:Fi,className:"edit-cancel-btn",children:"Cancel"})]})]}):s.jsx("div",{className:"message-content",dangerouslySetInnerHTML:{__html:bt.highlightMentions(d.content)}}),d.files&&d.files.length>0&&s.jsx("div",{className:"message-attachments",children:d.files.map(ve=>s.jsx(G0,{file:ve,token:$.token||"",channelId:d.channel_id||(Rt==null?void 0:Rt.id)||Be||"",keyPair:it,encryptionEnabled:gt},ve.id))}),s.jsxs("div",{className:"message-reactions-container",onMouseEnter:()=>Qa(d.id),onMouseLeave:()=>Qa(null),children:[d.reactions&&d.reactions.length>0&&s.jsx("div",{className:"message-reactions",children:d.reactions.map(ve=>{const tt=$.user&&ve.users.includes($.user.id);return s.jsxs("button",{className:`reaction ${tt?"reaction-user-reacted":""}`,onClick:()=>pi(d.id,ve.emoji),title:`${ve.users.length} reactions`,children:[s.jsx("span",{className:"reaction-emoji",children:ve.emoji}),s.jsx("span",{className:"reaction-count",children:ve.count})]},ve.emoji)})}),Rs===d.id&&$.user&&s.jsxs("div",{className:"add-reaction-container quick-react-bar",children:[["","","","",""].map(ve=>s.jsx("button",{className:"quick-react-btn",onClick:()=>pi(d.id,ve),title:`React with ${ve}`,children:ve},ve)),s.jsx("button",{className:"add-reaction-btn",onClick:()=>Ms(Li===d.id?null:d.id),title:"More reactions",children:"+"}),Li===d.id&&s.jsx("div",{className:"emoji-picker",children:uo.map(ve=>s.jsx("button",{className:"emoji-option",onClick:()=>dc(d.id,ve),title:`React with ${ve}`,children:ve},ve))})]})]}),j===d.id&&s.jsx("div",{className:"delete-confirm-overlay",children:s.jsxs("div",{className:"delete-confirm-dialog",children:[s.jsx("p",{children:"Are you sure you want to delete this message?"}),s.jsxs("div",{className:"delete-confirm-actions",children:[s.jsx("button",{onClick:()=>Wa(d.id),className:"delete-confirm-btn",children:"Delete"}),s.jsx("button",{onClick:()=>ee(null),className:"delete-cancel-btn",children:"Cancel"})]})]})})]})]})]},d.id||b)}),yo&&s.jsxs("button",{className:"scroll-to-bottom-btn",onClick:tc,children:[" ",vo>0&&s.jsx("span",{className:"scroll-to-bottom-count",children:vo})]})]}),Be&&Ws(Be)&&s.jsxs("div",{className:"typing-indicator",children:[s.jsxs("div",{className:"typing-dots-animated",children:[s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{})]}),s.jsx("span",{className:"typing-text",children:Ws(Be)})]}),s.jsxs("div",{className:"message-input-container",children:[Nt&&s.jsxs("div",{className:"reply-input-preview",children:[s.jsx("div",{className:"reply-input-bar"}),s.jsxs("div",{className:"reply-input-content",children:[s.jsxs("span",{className:"reply-input-text",children:["Replying to ",s.jsx("strong",{children:Nt.author}),": ",Nt.content.substring(0,100),Nt.content.length>100?"...":""]}),s.jsx("button",{className:"reply-cancel-btn",onClick:fc,title:"Cancel reply",children:""})]})]}),at&&$.activeChannel&&s.jsx(K0,{channelId:$.activeChannel,token:$.token||"",keyPair:it,encryptionEnabled:gt}),s.jsx("textarea",{ref:go,className:"message-input",placeholder:`Message ${Ct}`,value:Mn,rows:1,onChange:d=>{Sn(d.target.value),d.target.style.height="auto",d.target.style.height=Math.min(d.target.scrollHeight,200)+"px",Be&&ou(Be)},onKeyDown:d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),Rl())}}),s.jsx(Q0,{isOpen:Vs,onToggle:()=>Zs(d=>!d),onSelect:_o,onClose:()=>Zs(!1)}),at&&$.activeChannel&&s.jsx(V0,{channelId:$.activeChannel,token:$.token||"",keyPair:it,encryptionEnabled:gt})]})]})}),cn&&s.jsx(J0,{ws:Re,currentUserId:localStorage.getItem("accord_user_id"),channelId:cn,channelName:au,onLeave:()=>{As(null),zi("")}}),s.jsxs("div",{className:"member-sidebar",children:[s.jsxs("div",{className:"member-header",children:["Members  ",Mo.length]}),Wi.length>0?Wi.filter(d=>d.user).map(d=>{var be;const b=localStorage.getItem("accord_user_id"),E=d.user_id===b,M=wa(d.user_id),F=Ae&&xa(Ae,"KickMembers")&&!E;return s.jsxs("div",{className:`member ${M==="offline"?"member-offline":""}`,onContextMenu:ye=>{var ze;return gi(ye,d.user_id,d.public_key_hash,vn(d.user),(ze=d.profile)==null?void 0:ze.bio,d.user)},children:[s.jsxs("div",{className:"member-avatar-wrapper",children:[s.jsx("div",{className:"member-avatar",children:vn(d.user)[0]}),s.jsx("span",{className:`presence-dot presence-${M}`,title:M})]}),s.jsx("span",{className:"member-name",children:vn(d.user)}),s.jsx("span",{className:"member-role-badge",title:d.role,children:Fs(d.role)}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"4px"},children:[!E&&s.jsx("button",{onClick:ye=>{ye.stopPropagation(),lc(d.user)},className:"member-action-btn",title:"Send DM",children:"DM"}),F&&s.jsx("button",{onClick:ye=>{ye.stopPropagation(),mi(d.user_id,vn(d.user))},className:"member-action-btn danger",title:"Kick member",children:"Kick"})]})]},((be=d.user)==null?void 0:be.id)||d.user_id)}):It.length===0?s.jsx("div",{className:"members-empty",children:et.length===0?"Join or create a node to see members":"No members loaded"}):null]}),ii&&s.jsxs("div",{className:"error-toast",children:[s.jsx("span",{style:{flex:1},children:ii}),s.jsx("button",{onClick:()=>Mt(""),className:"error-toast-close",children:""})]}),qi&&!zs&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-card",children:[s.jsx("h3",{children:"Create a Node"}),s.jsx("p",{children:"A Node is your community space. A #general channel will be created automatically."}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Node Name"}),s.jsx("input",{type:"text",placeholder:"My Community",value:oi,onChange:d=>El(d.target.value),onKeyDown:d=>{d.key==="Enter"&&cc()},className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Description (optional)"}),s.jsx("input",{type:"text",placeholder:"What's this node about?",value:ri,onChange:d=>Yi(d.target.value),className:"form-input"})]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{onClick:cc,disabled:on||!oi.trim(),className:"btn btn-green",children:on?"Creating...":"Create Node"}),s.jsx("button",{onClick:()=>{Aa(!1),El(""),Yi("")},className:"btn btn-outline",children:"Cancel"})]}),s.jsx("div",{style:{borderTop:"1px solid var(--border)",marginTop:"16px",paddingTop:"16px",textAlign:"center"},children:s.jsxs("button",{onClick:()=>ka(!0),className:"btn-ghost",children:["Have an invite code? ",s.jsx("strong",{children:"Join a Node"})]})})]})}),zs&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-card",children:[s.jsx("h3",{children:"Join a Node"}),s.jsx("p",{children:"Enter an invite code or link to join an existing Node."}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Invite Code or Link"}),s.jsx("input",{type:"text",placeholder:"accord://host/invite/CODE or just the code",value:_n,onChange:d=>ci(d.target.value),onKeyDown:d=>{d.key==="Enter"&&_n.trim()&&sc()},className:"form-input"})]}),Ki&&s.jsx("div",{className:"auth-error",children:Ki}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{onClick:sc,disabled:_l||!_n.trim(),className:"btn btn-primary",children:_l?"Joining...":"Join Node"}),s.jsx("button",{onClick:()=>{ka(!1),Aa(!1),ci(""),Nl("")},className:"btn btn-outline",children:"Cancel"})]}),s.jsx("div",{style:{borderTop:"1px solid var(--border)",marginTop:"16px",paddingTop:"16px",textAlign:"center"},children:s.jsxs("button",{onClick:()=>ka(!1),className:"btn-ghost",children:["Want to create your own? ",s.jsx("strong",{children:"Create a Node"})]})})]})}),Za&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-card",children:[s.jsx("h3",{children:"Invite Link Generated"}),s.jsx("p",{children:"Share this link to invite others to your node. The relay address is encoded for privacy."}),s.jsx("div",{className:"modal-code-block",style:{wordBreak:"break-all",fontFamily:"monospace",fontSize:"0.85em"},children:Ts}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Ts).then(()=>{alert("Invite code copied to clipboard!")}).catch(()=>{const d=document.createElement("textarea");d.value=Ts,document.body.appendChild(d),d.select(),document.execCommand("copy"),document.body.removeChild(d),alert("Invite code copied to clipboard!")})},className:"btn btn-primary",style:{width:"auto"},children:"Copy"}),s.jsx("button",{onClick:()=>{Xa(!1),Sl("")},className:"btn btn-outline",style:{width:"auto"},children:"Close"})]})]})}),Gi&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-card",children:[s.jsx("h3",{children:"Delete Channel"}),s.jsxs("p",{children:["Are you sure you want to delete ",s.jsxs("strong",{children:["#",Gi.name]}),"? This action cannot be undone. All messages will be permanently lost."]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{onClick:()=>jo(Gi.id),className:"btn btn-red",children:"Delete Channel"}),s.jsx("button",{onClick:()=>Vi(null),className:"btn btn-outline",children:"Cancel"})]})]})}),qs&&Ae&&(()=>{const d=et.find(b=>b.id===Ae);return d?s.jsx($0,{isOpen:qs,onClose:()=>fi(!1),node:d,token:$.token||"",userRole:Ve[Ae]||"member",onNodeUpdated:b=>{Zn(E=>E.map(M=>M.id===b.id?b:M))},onLeaveNode:()=>{ya(null),Dn([]),ga([]),yn()}}):null})(),s.jsx(I0,{isVisible:Us,onClose:()=>Hi(!1),nodeId:Ae,channels:wn,token:$.token||null,onNavigateToMessage:oc}),s.jsx(W0,{isOpen:Ds,onClose:()=>Bi(!1),preferences:fo,onPreferencesChange:Co}),s.jsx(P0,{isOpen:jl,onClose:()=>Ra(!1),currentUser:$.user,serverInfo:{version:$a,buildHash:Cl,connectedSince:Tl,relayAddress:P.getBaseUrl(),isConnected:$.isConnected},onUserUpdate:d=>{$.user&&Ie(b=>({...b,user:{...b.user,...d}}))}}),lu&&s.jsx("div",{className:"settings-overlay",onClick:()=>Hs(!1),children:s.jsxs("div",{className:"connection-info-modal",onClick:d=>d.stopPropagation(),children:[s.jsxs("div",{className:"connection-info-header",children:[s.jsx("h3",{children:"Connection Info"}),s.jsx("button",{className:"settings-close",onClick:()=>Hs(!1),children:""})]}),s.jsxs("div",{className:"connection-info-body",children:[s.jsxs("div",{className:"connection-info-row",children:[s.jsx("span",{className:"connection-info-label",children:"Status"}),s.jsx("span",{className:"connection-info-value",children:$.isConnected?" Connected":" Disconnected"})]}),$a&&s.jsxs("div",{className:"connection-info-row",children:[s.jsx("span",{className:"connection-info-label",children:"Server Version"}),s.jsx("span",{className:"connection-info-value",children:$a})]}),Cl&&s.jsxs("div",{className:"connection-info-row",children:[s.jsx("span",{className:"connection-info-label",children:"Build Hash"}),s.jsxs("span",{className:"connection-info-value copyable",title:"Click to copy",onClick:()=>{navigator.clipboard.writeText(Cl)},children:[s.jsx("code",{children:Cl}),s.jsx("span",{className:"copy-hint",children:""})]})]}),Tl&&s.jsxs("div",{className:"connection-info-row",children:[s.jsx("span",{className:"connection-info-label",children:"Connected Since"}),s.jsx("span",{className:"connection-info-value",children:new Date(Tl).toLocaleString()})]}),s.jsxs("div",{className:"connection-info-row",children:[s.jsx("span",{className:"connection-info-label",children:"Relay Address"}),s.jsx("span",{className:"connection-info-value",children:s.jsx("code",{children:P.getBaseUrl()})})]})]})]})}),ks&&s.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"400px",height:"100vh",background:"var(--background)",borderLeft:"1px solid var(--border)",zIndex:1e3,display:"flex",flexDirection:"column",color:"var(--text)"},children:[s.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600},children:" Pinned Messages"}),s.jsx("button",{onClick:()=>si(!1),style:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"var(--text)",padding:"4px",borderRadius:"4px"},children:""})]}),s.jsx("div",{style:{flex:1,overflowY:"auto",padding:"16px"},children:ro.length===0?s.jsxs("div",{style:{textAlign:"center",color:"var(--text-muted)",marginTop:"50px"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),s.jsx("p",{children:"No pinned messages in this channel yet."}),s.jsx("p",{style:{fontSize:"14px"},children:"Pin messages to keep important information easily accessible."})]}):s.jsx("div",{children:ro.map((d,b)=>s.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"var(--background-modifier-accent)",borderRadius:"8px",border:"1px solid var(--border)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px",fontSize:"14px"},children:[s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"var(--primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:600,marginRight:"8px"},children:(d.author||"?")[0]}),s.jsx("span",{style:{fontWeight:600,marginRight:"8px"},children:d.author}),s.jsxs("span",{style:{color:"var(--text-muted)",fontSize:"12px"},children:[new Date(d.timestamp).toLocaleDateString()," at ",d.time]})]}),s.jsx("div",{style:{marginLeft:"32px",lineHeight:"1.4"},dangerouslySetInnerHTML:{__html:bt.highlightMentions(d.content)}}),s.jsxs("div",{style:{marginLeft:"32px",marginTop:"8px",fontSize:"12px",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"4px"},children:[" Pinned ",new Date(d.pinned_at).toLocaleDateString()]})]},d.id||b))})})]}),Ia&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-card",style:{maxWidth:"380px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:0},children:"Start a Direct Message"}),s.jsx("button",{onClick:()=>Ta(!1),className:"error-toast-close",style:{color:"var(--text-muted)"},children:""})]}),s.jsx("p",{children:"Select a user to start a direct message:"}),s.jsxs("div",{style:{maxHeight:"300px",overflow:"auto"},children:[It.filter(d=>d.user_id!==localStorage.getItem("accord_user_id")).map(d=>s.jsxs("div",{className:"member",onClick:()=>{lc(d.user),Ta(!1)},children:[s.jsx("div",{className:"dm-avatar",style:{width:"24px",height:"24px",fontSize:"12px",marginRight:"12px"},children:vn(d.user)[0].toUpperCase()}),s.jsxs("div",{children:[s.jsx("div",{style:{color:"var(--text-primary)",fontSize:"14px",fontWeight:"500"},children:vn(d.user)}),s.jsxs("div",{style:{color:"var(--text-muted)",fontSize:"12px"},children:[Fs(d.role)," ",d.role]})]})]},d.user_id)),It.filter(d=>d.user_id!==localStorage.getItem("accord_user_id")).length===0&&s.jsx("div",{className:"members-empty",children:"No other members available"})]})]})}),Ks&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-card",children:[s.jsx("h3",{children:"Set Your Display Name"}),s.jsx("p",{children:"Choose a name that others will see instead of your fingerprint."}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Display Name"}),s.jsx("input",{type:"text",placeholder:"Enter a display name...",value:Al,onChange:d=>Ys(d.target.value),onKeyDown:d=>{d.key==="Enter"&&Eo()},className:"form-input",autoFocus:!0,maxLength:32})]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{onClick:Eo,disabled:mo||!Al.trim(),className:"btn btn-green",style:{width:"auto"},children:mo?"Saving...":"Save"}),s.jsx("button",{onClick:()=>di(!1),className:"btn btn-outline",style:{width:"auto"},children:"Skip"})]})]})}),Bt&&s.jsxs("div",{className:"context-menu",style:{left:Bt.x,top:Bt.y},children:[s.jsxs("div",{className:"context-menu-item context-menu-profile-header",children:[s.jsx("div",{style:{fontWeight:600,fontSize:"14px"},children:Bt.displayName}),s.jsx("div",{style:{fontSize:"11px",color:"var(--text-faint)",fontFamily:"var(--font-mono)"},children:_t(Bt.publicKeyHash)}),Bt.bio&&s.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)",marginTop:"4px"},children:Bt.bio})]}),s.jsx("div",{className:"context-menu-separator"}),s.jsx("div",{className:"context-menu-item",onClick:()=>{const d=`Display Name: ${Bt.displayName}
Fingerprint: ${_t(Bt.publicKeyHash)}
Full Hash: ${Bt.publicKeyHash}${Bt.bio?`
Bio: ${Bt.bio}`:""}`;alert(d),hi(null)},children:" View Profile"}),Bt.user&&Bt.userId!==localStorage.getItem("accord_user_id")&&s.jsx("div",{className:"context-menu-item",onClick:()=>{Bt.user&&lc(Bt.user),hi(null)},children:" Send DM"}),s.jsx("div",{className:"context-menu-separator"}),s.jsx("div",{className:"context-menu-item",onClick:()=>{navigator.clipboard.writeText(Bt.publicKeyHash).catch(()=>{}),hi(null)},children:" Copy Public Key Hash"})]}),Gs&&s.jsx("div",{className:"modal-overlay",onClick:()=>Zi(!1),children:s.jsxs("div",{className:"modal-card shortcuts-modal",onClick:d=>d.stopPropagation(),children:[s.jsx("h3",{children:" Keyboard Shortcuts"}),s.jsxs("div",{className:"shortcuts-list",children:[s.jsxs("div",{className:"shortcut-row",children:[s.jsx("kbd",{children:"Enter"}),s.jsx("span",{children:"Send message"})]}),s.jsxs("div",{className:"shortcut-row",children:[s.jsx("kbd",{children:"Shift + Enter"}),s.jsx("span",{children:"New line in message"})]}),s.jsxs("div",{className:"shortcut-row",children:[s.jsx("kbd",{children:"Escape"}),s.jsx("span",{children:"Close modal / Cancel edit"})]}),s.jsxs("div",{className:"shortcut-row",children:[s.jsx("kbd",{children:"Ctrl + K"}),s.jsx("span",{children:"Open search"})]}),s.jsxs("div",{className:"shortcut-row",children:[s.jsx("kbd",{children:"Ctrl + /"}),s.jsx("span",{children:"Show this help"})]}),s.jsxs("div",{className:"shortcut-row",children:[s.jsx("kbd",{children:"Ctrl + ,"}),s.jsx("span",{children:"Open settings"})]})]}),s.jsx("div",{className:"modal-actions",style:{marginTop:"16px"},children:s.jsx("button",{onClick:()=>Zi(!1),className:"btn btn-outline",style:{width:"auto"},children:"Close"})})]})})]})}class tx extends w.Component{constructor(l){super(l),this.state={hasError:!1,error:null}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,u){console.error("Uncaught error:",l,u)}render(){var l;return this.state.hasError?s.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#ff6b6b"},children:[s.jsx("h1",{children:"Something went wrong"}),s.jsx("p",{children:(l=this.state.error)==null?void 0:l.message}),s.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),style:{marginTop:"1rem",padding:"0.5rem 1rem",cursor:"pointer",background:"#5865f2",color:"white",border:"none",borderRadius:"4px"},children:"Try Again"})]}):this.props.children}}window.DOMPurify=ib;Lv.createRoot(document.getElementById("root")).render(s.jsx(hd.StrictMode,{children:s.jsx(tx,{children:s.jsx(ex,{})})}));
