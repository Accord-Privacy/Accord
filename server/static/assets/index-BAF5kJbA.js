const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/VoiceChat-CHmUtmft.js","assets/vendor-react-j2mp3VYR.js","assets/NodeSettings-KAtOB__a.js","assets/NotificationSettings-C3uPZEq6.js","assets/Settings-D8VieqdX.js","assets/vendor-qr-D-XLueNl.js"])))=>i.map(i=>d[i]);
var xv=Object.defineProperty;var wv=(o,l,r)=>l in o?xv(o,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[l]=r;var ee=(o,l,r)=>wv(o,typeof l!="symbol"?l+"":l,r);import{r as Sg,g as xg,a as _v}from"./vendor-react-j2mp3VYR.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const m of h)if(m.type==="childList")for(const y of m.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&c(y)}).observe(document,{childList:!0,subtree:!0});function r(h){const m={};return h.integrity&&(m.integrity=h.integrity),h.referrerPolicy&&(m.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?m.credentials="include":h.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(h){if(h.ep)return;h.ep=!0;const m=r(h);fetch(h.href,m)}})();var id={exports:{}},mo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function Ev(){if(Lp)return mo;Lp=1;var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function r(c,h,m){var y=null;if(m!==void 0&&(y=""+m),h.key!==void 0&&(y=""+h.key),"key"in h){m={};for(var v in h)v!=="key"&&(m[v]=h[v])}else m=h;return h=m.ref,{$$typeof:o,type:c,key:y,ref:h!==void 0?h:null,props:m}}return mo.Fragment=l,mo.jsx=r,mo.jsxs=r,mo}var Hp;function Nv(){return Hp||(Hp=1,id.exports=Ev()),id.exports}var u=Nv(),_=Sg();const bi=xg(_);var sd={exports:{}},po={},cd={exports:{}},od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function Tv(){return qp||(qp=1,(function(o){function l(A,z){var Q=A.length;A.push(z);e:for(;0<Q;){var ne=Q-1>>>1,ae=A[ne];if(0<h(ae,z))A[ne]=z,A[Q]=ae,Q=ne;else break e}}function r(A){return A.length===0?null:A[0]}function c(A){if(A.length===0)return null;var z=A[0],Q=A.pop();if(Q!==z){A[0]=Q;e:for(var ne=0,ae=A.length,I=ae>>>1;ne<I;){var le=2*(ne+1)-1,$=A[le],Ee=le+1,ge=A[Ee];if(0>h($,Q))Ee<ae&&0>h(ge,$)?(A[ne]=ge,A[Ee]=Q,ne=Ee):(A[ne]=$,A[le]=Q,ne=le);else if(Ee<ae&&0>h(ge,Q))A[ne]=ge,A[Ee]=Q,ne=Ee;else break e}}return z}function h(A,z){var Q=A.sortIndex-z.sortIndex;return Q!==0?Q:A.id-z.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;o.unstable_now=function(){return m.now()}}else{var y=Date,v=y.now();o.unstable_now=function(){return y.now()-v}}var b=[],T=[],R=1,C=null,Z=3,K=!1,B=!1,W=!1,te=!1,ce=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function re(A){for(var z=r(T);z!==null;){if(z.callback===null)c(T);else if(z.startTime<=A)c(T),z.sortIndex=z.expirationTime,l(b,z);else break;z=r(T)}}function je(A){if(W=!1,re(A),!B)if(r(b)!==null)B=!0,Fe||(Fe=!0,we());else{var z=r(T);z!==null&&L(je,z.startTime-A)}}var Fe=!1,Et=-1,be=5,Ve=-1;function gt(){return te?!0:!(o.unstable_now()-Ve<be)}function Ge(){if(te=!1,Fe){var A=o.unstable_now();Ve=A;var z=!0;try{e:{B=!1,W&&(W=!1,he(Et),Et=-1),K=!0;var Q=Z;try{t:{for(re(A),C=r(b);C!==null&&!(C.expirationTime>A&&gt());){var ne=C.callback;if(typeof ne=="function"){C.callback=null,Z=C.priorityLevel;var ae=ne(C.expirationTime<=A);if(A=o.unstable_now(),typeof ae=="function"){C.callback=ae,re(A),z=!0;break t}C===r(b)&&c(b),re(A)}else c(b);C=r(b)}if(C!==null)z=!0;else{var I=r(T);I!==null&&L(je,I.startTime-A),z=!1}}break e}finally{C=null,Z=Q,K=!1}z=void 0}}finally{z?we():Fe=!1}}}var we;if(typeof me=="function")we=function(){me(Ge)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Y=_e.port2;_e.port1.onmessage=Ge,we=function(){Y.postMessage(null)}}else we=function(){ce(Ge,0)};function L(A,z){Et=ce(function(){A(o.unstable_now())},z)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(A){A.callback=null},o.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<A?Math.floor(1e3/A):5},o.unstable_getCurrentPriorityLevel=function(){return Z},o.unstable_next=function(A){switch(Z){case 1:case 2:case 3:var z=3;break;default:z=Z}var Q=Z;Z=z;try{return A()}finally{Z=Q}},o.unstable_requestPaint=function(){te=!0},o.unstable_runWithPriority=function(A,z){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var Q=Z;Z=A;try{return z()}finally{Z=Q}},o.unstable_scheduleCallback=function(A,z,Q){var ne=o.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ne+Q:ne):Q=ne,A){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Q+ae,A={id:R++,callback:z,priorityLevel:A,startTime:Q,expirationTime:ae,sortIndex:-1},Q>ne?(A.sortIndex=Q,l(T,A),r(b)===null&&A===r(T)&&(W?(he(Et),Et=-1):W=!0,L(je,Q-ne))):(A.sortIndex=ae,l(b,A),B||K||(B=!0,Fe||(Fe=!0,we()))),A},o.unstable_shouldYield=gt,o.unstable_wrapCallback=function(A){var z=Z;return function(){var Q=Z;Z=z;try{return A.apply(this,arguments)}finally{Z=Q}}}})(od)),od}var Kp;function Av(){return Kp||(Kp=1,cd.exports=Tv()),cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function Cv(){if(Yp)return po;Yp=1;var o=Av(),l=Sg(),r=_v();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(m(e)!==e)throw Error(c(188))}function T(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return b(i),e;if(s===a)return b(i),t;s=s.sibling}throw Error(c(188))}if(n.return!==a.return)n=i,a=s;else{for(var d=!1,g=i.child;g;){if(g===n){d=!0,n=i,a=s;break}if(g===a){d=!0,a=i,n=s;break}g=g.sibling}if(!d){for(g=s.child;g;){if(g===n){d=!0,n=s,a=i;break}if(g===a){d=!0,a=s,n=i;break}g=g.sibling}if(!d)throw Error(c(189))}}if(n.alternate!==a)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function R(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=R(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,Z=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),me=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),Et=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Ve=Symbol.for("react.activity"),gt=Symbol.for("react.memo_cache_sentinel"),Ge=Symbol.iterator;function we(e){return e===null||typeof e!="object"?null:(e=Ge&&e[Ge]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ce:return"Profiler";case te:return"StrictMode";case je:return"Suspense";case Fe:return"SuspenseList";case Ve:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case me:return e.displayName||"Context";case he:return(e._context.displayName||"Context")+".Consumer";case re:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Et:return t=e.displayName||null,t!==null?t:Y(e.type)||"Memo";case be:t=e._payload,e=e._init;try{return Y(e(t))}catch{}}return null}var L=Array.isArray,A=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ne=[],ae=-1;function I(e){return{current:e}}function le(e){0>ae||(e.current=ne[ae],ne[ae]=null,ae--)}function $(e,t){ae++,ne[ae]=e.current,e.current=t}var Ee=I(null),ge=I(null),ve=I(null),Ye=I(null);function Pe(e,t){switch($(ve,t),$(ge,e),$(Ee,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?cp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=cp(t),e=op(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}le(Ee),$(Ee,e)}function rt(){le(Ee),le(ge),le(ve)}function Xe(e){e.memoizedState!==null&&$(Ye,e);var t=Ee.current,n=op(t,e.type);t!==n&&($(ge,e),$(Ee,n))}function ut(e){ge.current===e&&(le(Ee),le(ge)),Ye.current===e&&(le(Ye),ro._currentValue=Q)}var Ln,an;function Nn(e){if(Ln===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ln=t&&t[1]||"",an=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ln+e+an}var ln=!1;function da(e,t){if(!e||ln)return"";ln=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(O){var D=O}Reflect.construct(e,[],V)}else{try{V.call()}catch(O){D=O}e.call(V.prototype)}}else{try{throw Error()}catch(O){D=O}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(O){if(O&&D&&typeof O.stack=="string")return[O.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),d=s[0],g=s[1];if(d&&g){var x=d.split(`
`),U=g.split(`
`);for(i=a=0;a<x.length&&!x[a].includes("DetermineComponentFrameRoot");)a++;for(;i<U.length&&!U[i].includes("DetermineComponentFrameRoot");)i++;if(a===x.length||i===U.length)for(a=x.length-1,i=U.length-1;1<=a&&0<=i&&x[a]!==U[i];)i--;for(;1<=a&&0<=i;a--,i--)if(x[a]!==U[i]){if(a!==1||i!==1)do if(a--,i--,0>i||x[a]!==U[i]){var H=`
`+x[a].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=a&&0<=i);break}}}finally{ln=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Nn(n):""}function Fa(e,t){switch(e.tag){case 26:case 27:case 5:return Nn(e.type);case 16:return Nn("Lazy");case 13:return e.child!==t&&t!==null?Nn("Suspense Fallback"):Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return da(e.type,!1);case 11:return da(e.type.render,!1);case 1:return da(e.type,!0);case 31:return Nn("Activity");default:return""}}function dn(e){try{var t="",n=null;do t+=Fa(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Jn=Object.prototype.hasOwnProperty,ha=o.unstable_scheduleCallback,In=o.unstable_cancelCallback,Si=o.unstable_shouldYield,as=o.unstable_requestPaint,Nt=o.unstable_now,ma=o.unstable_getCurrentPriorityLevel,Ft=o.unstable_ImmediatePriority,Qe=o.unstable_UserBlockingPriority,Zt=o.unstable_NormalPriority,ft=o.unstable_LowPriority,k=o.unstable_IdlePriority,De=o.log,Tn=o.unstable_setDisableYieldValue,hn=null,Ut=null;function Rt(e){if(typeof De=="function"&&Tn(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(hn,e)}catch{}}var xt=Math.clz32?Math.clz32:Dl,Wa=Math.log,Oe=Math.LN2;function Dl(e){return e>>>=0,e===0?32:31-(Wa(e)/Oe|0)|0}var xe=256,Wt=262144,An=4194304;function sn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bt(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var g=a&134217727;return g!==0?(a=g&~s,a!==0?i=sn(a):(d&=g,d!==0?i=sn(d):n||(n=g&~e,n!==0&&(i=sn(n))))):(g=a&~s,g!==0?i=sn(g):d!==0?i=sn(d):n||(n=a&~e,n!==0&&(i=sn(n)))),i===0?0:t!==0&&t!==i&&(t&s)===0&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function pa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var e=An;return An<<=1,(An&62914560)===0&&(An=4194304),e}function qn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bt(e,t,n,a,i,s){var d=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var g=e.entanglements,x=e.expirationTimes,U=e.hiddenUpdates;for(n=d&~n;0<n;){var H=31-xt(n),V=1<<H;g[H]=0,x[H]=-1;var D=U[H];if(D!==null)for(U[H]=null,H=0;H<D.length;H++){var O=D[H];O!==null&&(O.lane&=-536870913)}n&=~V}a!==0&&ga(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(d&~t))}function ga(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-xt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function de(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-xt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function ya(e,t){var n=t&-t;return n=(n&42)!==0?1:Ne(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $n(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:Up(e.type))}function Fn(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}var Xt=Math.random().toString(36).slice(2),nt="__reactFiber$"+Xt,at="__reactProps$"+Xt,cn="__reactContainer$"+Xt,jn="__reactEvents$"+Xt,Wn="__reactListeners$"+Xt,Ol="__reactHandles$"+Xt,Ma="__reactResources$"+Xt,ue="__reactMarker$"+Xt;function w(e){delete e[nt],delete e[at],delete e[jn],delete e[Wn],delete e[Ol]}function J(e){var t=e[nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cn]||n[nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pp(e);e!==null;){if(n=e[nt])return n;e=pp(e)}return t}e=n,n=e.parentNode}return null}function oe(e){if(e=e[nt]||e[cn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ze(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function yt(e){var t=e[Ma];return t||(t=e[Ma]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ae(e){e[ue]=!0}var Dt=new Set,on={};function Qt(e,t){Kn(e,t),Kn(e+"Capture",t)}function Kn(e,t){for(on[e]=t,e=0;e<t.length;e++)Dt.add(t[e])}var wt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pa={},el={};function tc(e){return Jn.call(el,e)?!0:Jn.call(Pa,e)?!1:wt.test(e)?el[e]=!0:(Pa[e]=!0,!1)}function kl(e,t,n){if(tc(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function xi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function _t(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ls(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Co(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(d){n=""+d,s.call(this,d)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wi(e){if(!e._valueTracker){var t=ls(e)?"checked":"value";e._valueTracker=Co(e,t,""+e[t])}}function jo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ls(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nc=/[\n"\\]/g;function rn(e){return e.replace(nc,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ac(e,t,n,a,i,s,d,g){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Yt(t)):e.value!==""+Yt(t)&&(e.value=""+Yt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?_i(e,d,Yt(t)):n!=null?_i(e,d,Yt(n)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+Yt(g):e.removeAttribute("name")}function Bl(e,t,n,a,i,s,d,g){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){wi(e);return}n=n!=null?""+Yt(n):"",t=t!=null?""+Yt(t):n,g||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=g?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),wi(e)}function _i(e,t,n){t==="number"&&zl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function va(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Yt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function lc(e,t,n){if(t!=null&&(t=""+Yt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Yt(n):""}function ic(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(c(92));if(L(a)){if(1<a.length)throw Error(c(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Yt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),wi(e)}function tl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sc(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||_u.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function cc(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&sc(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&sc(e,s,t[s])}function oc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function is(e){return Eu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ba(){}var Ei=null;function Ni(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ll=null,Pn=null;function ss(e){var t=oe(e);if(t&&(e=t.stateNode)){var n=e[at]||null;e:switch(e=t.stateNode,t.type){case"input":if(ac(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+rn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[at]||null;if(!i)throw Error(c(90));ac(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&jo(a)}break e;case"textarea":lc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&va(e,!!n.multiple,t,!1)}}}var Hl=!1;function nl(e,t,n){if(Hl)return e(t,n);Hl=!0;try{var a=e(t);return a}finally{if(Hl=!1,(Ll!==null||Pn!==null)&&(Ar(),Ll&&(t=Ll,e=Pn,Pn=Ll=null,ss(t),e)))for(t=0;t<e.length;t++)ss(e[t])}}function ql(e,t){var n=e.stateNode;if(n===null)return null;var a=n[at]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rc=!1;if(lt)try{var Kl={};Object.defineProperty(Kl,"passive",{get:function(){rc=!0}}),window.addEventListener("test",Kl,Kl),window.removeEventListener("test",Kl,Kl)}catch{rc=!1}var ea=null,Ti=null,Sa=null;function uc(){if(Sa)return Sa;var e,t=Ti,n=t.length,a,i="value"in ea?ea.value:ea.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var d=n-e;for(a=1;a<=d&&t[n-a]===i[s-a];a++);return Sa=i.slice(e,1<a?1-a:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ua(){return!0}function cs(){return!1}function Pt(e){function t(n,a,i,s,d){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(s):s[g]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ua:cs,this.isPropagationStopped=cs,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),t}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Pt(Ra),ll=C({},Ra,{view:0,detail:0}),os=Pt(ll),Ci,rs,il,ji=C({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==il&&(il&&e.type==="mousemove"?(Ci=e.screenX-il.screenX,rs=e.screenY-il.screenY):rs=Ci=0,il=e),Ci)},movementY:function(e){return"movementY"in e?e.movementY:rs}}),fc=Pt(ji),dc=C({},ji,{dataTransfer:0}),us=Pt(dc),Da=C({},ll,{relatedTarget:0}),hc=Pt(Da),Mi=C({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=Pt(Mi),mc=C({},Ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uo=Pt(mc),Tu=C({},Ra,{data:0}),fs=Pt(Tu),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Au[e])?!!t[e]:!1}function Ui(){return Cu}var Ro=C({},ll,{key:function(e){if(e.key){var t=pc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ri=Pt(Ro),Do=C({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yl=Pt(Do),Oo=C({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),ju=Pt(Oo),yc=C({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),vc=Pt(yc),bc=C({},ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sc=Pt(bc),ko=C({},Ra,{newState:0,oldState:0}),sl=Pt(ko),xc=[9,13,27,32],ds=lt&&"CompositionEvent"in window,Oa=null;lt&&"documentMode"in document&&(Oa=document.documentMode);var hs=lt&&"TextEvent"in window&&!Oa,Di=lt&&(!ds||Oa&&8<Oa&&11>=Oa),ms=" ",Gl=!1;function cl(e,t){switch(e){case"keyup":return xc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ol=!1;function zo(e,t){switch(e){case"compositionend":return wc(t);case"keypress":return t.which!==32?null:(Gl=!0,ms);case"textInput":return e=t.data,e===ms&&Gl?null:e;default:return null}}function _c(e,t){if(ol)return e==="compositionend"||!ds&&cl(e,t)?(e=uc(),Sa=Ti=ea=null,ol=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Di&&t.locale!=="ko"?null:t.data;default:return null}}var ps={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ps[e.type]:t==="textarea"}function Bo(e,t,n,a){Ll?Pn?Pn.push(a):Pn=[a]:Ll=a,t=Or(t,"onChange"),0<t.length&&(n=new Ai("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Oi=null,rl=null;function Lo(e){tp(e,0)}function ul(e){var t=ze(e);if(jo(t))return e}function gs(e,t){if(e==="change")return t}var Ho=!1;if(lt){var Nc;if(lt){var ys="oninput"in document;if(!ys){var vs=document.createElement("div");vs.setAttribute("oninput","return;"),ys=typeof vs.oninput=="function"}Nc=ys}else Nc=!1;Ho=Nc&&(!document.documentMode||9<document.documentMode)}function Tc(){Oi&&(Oi.detachEvent("onpropertychange",qo),rl=Oi=null)}function qo(e){if(e.propertyName==="value"&&ul(rl)){var t=[];Bo(t,rl,e,Ni(e)),nl(Lo,t)}}function Ko(e,t,n){e==="focusin"?(Tc(),Oi=t,rl=n,Oi.attachEvent("onpropertychange",qo)):e==="focusout"&&Tc()}function Mu(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(rl)}function Ot(e,t){if(e==="click")return ul(t)}function ki(e,t){if(e==="input"||e==="change")return ul(t)}function Yo(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:Yo;function Zl(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Jn.call(t,i)||!un(e[i],t[i]))return!1}return!0}function Ac(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cc(e,t){var n=Ac(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ac(n)}}function Go(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Go(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=zl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zl(e.document)}return t}function bs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zi=lt&&"documentMode"in document&&11>=document.documentMode,ka=null,mn=null,Bi=null,Ss=!1;function za(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ss||ka==null||ka!==zl(a)||(a=ka,"selectionStart"in a&&bs(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Bi&&Zl(Bi,a)||(Bi=a,a=Or(mn,"onSelect"),0<a.length&&(t=new Ai("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ka)))}function Jt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pn={animationend:Jt("Animation","AnimationEnd"),animationiteration:Jt("Animation","AnimationIteration"),animationstart:Jt("Animation","AnimationStart"),transitionrun:Jt("Transition","TransitionRun"),transitionstart:Jt("Transition","TransitionStart"),transitioncancel:Jt("Transition","TransitionCancel"),transitionend:Jt("Transition","TransitionEnd")},Ba={},xs={};lt&&(xs=document.createElement("div").style,"AnimationEvent"in window||(delete pn.animationend.animation,delete pn.animationiteration.animation,delete pn.animationstart.animation),"TransitionEvent"in window||delete pn.transitionend.transition);function fl(e){if(Ba[e])return Ba[e];if(!pn[e])return e;var t=pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xs)return Ba[e]=t[n];return e}var Mc=fl("animationend"),Zo=fl("animationiteration"),Vo=fl("animationstart"),Vl=fl("transitionrun"),Xo=fl("transitionstart"),Uu=fl("transitioncancel"),Qo=fl("transitionend"),Jo=new Map,Uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uc.push("scrollEnd");function Tt(e,t){Jo.set(e,t),Qt(t,[e])}var Li=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fn=[],La=0,ws=0;function Hi(){for(var e=La,t=ws=La=0;t<e;){var n=fn[t];fn[t++]=null;var a=fn[t];fn[t++]=null;var i=fn[t];fn[t++]=null;var s=fn[t];if(fn[t++]=null,a!==null&&i!==null){var d=a.pending;d===null?i.next=i:(i.next=d.next,d.next=i),a.pending=i}s!==0&&Io(n,i,s)}}function Xl(e,t,n,a){fn[La++]=e,fn[La++]=t,fn[La++]=n,fn[La++]=a,ws|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Rc(e,t,n,a){return Xl(e,t,n,a),_s(e)}function dl(e,t){return Xl(e,null,null,t),_s(e)}function Io(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-xt(n),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),s):null}function _s(e){if(50<no)throw no=0,jf=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hl={};function $o(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,n,a){return new $o(e,t,n,a)}function Dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xa(e,t){var n=e.alternate;return n===null?(n=gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Oc(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qi(e,t,n,a,i,s){var d=0;if(a=e,typeof e=="function")Dc(e)&&(d=1);else if(typeof e=="string")d=rv(e,n,Ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ve:return e=gn(31,n,t,i),e.elementType=Ve,e.lanes=s,e;case W:return ta(n.children,i,s,t);case te:d=8,i|=24;break;case ce:return e=gn(12,n,t,i|2),e.elementType=ce,e.lanes=s,e;case je:return e=gn(13,n,t,i),e.elementType=je,e.lanes=s,e;case Fe:return e=gn(19,n,t,i),e.elementType=Fe,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case me:d=10;break e;case he:d=9;break e;case re:d=11;break e;case Et:d=14;break e;case be:d=16,a=null;break e}d=29,n=Error(c(130,e===null?"null":typeof e,"")),a=null}return t=gn(d,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function ta(e,t,n,a){return e=gn(7,e,a,t),e.lanes=n,e}function Es(e,t,n){return e=gn(6,e,null,t),e.lanes=n,e}function kc(e){var t=gn(18,null,null,0);return t.stateNode=e,t}function Ns(e,t,n){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Fo=new WeakMap;function yn(e,t){if(typeof e=="object"&&e!==null){var n=Fo.get(e);return n!==void 0?n:(t={value:e,source:t,stack:dn(t)},Fo.set(e,t),t)}return{value:e,source:t,stack:dn(t)}}var Ha=[],Ql=0,Ki=null,Yi=0,vn=[],Mn=0,na=null,aa=1,la="";function wa(e,t){Ha[Ql++]=Yi,Ha[Ql++]=Ki,Ki=e,Yi=t}function Wo(e,t,n){vn[Mn++]=aa,vn[Mn++]=la,vn[Mn++]=na,na=e;var a=aa;e=la;var i=32-xt(a)-1;a&=~(1<<i),n+=1;var s=32-xt(t)+i;if(30<s){var d=i-i%5;s=(a&(1<<d)-1).toString(32),a>>=d,i-=d,aa=1<<32-xt(t)+i|n<<i|a,la=s+e}else aa=1<<s|n<<i|a,la=e}function zc(e){e.return!==null&&(wa(e,1),Wo(e,1,0))}function Ts(e){for(;e===Ki;)Ki=Ha[--Ql],Ha[Ql]=null,Yi=Ha[--Ql],Ha[Ql]=null;for(;e===na;)na=vn[--Mn],vn[Mn]=null,la=vn[--Mn],vn[Mn]=null,aa=vn[--Mn],vn[Mn]=null}function Po(e,t){vn[Mn++]=aa,vn[Mn++]=la,vn[Mn++]=na,aa=t.id,la=t.overflow,na=e}var pt=null,dt=null,Me=!1,_a=null,At=!1,Gi=Error(c(519));function Ea(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(yn(t,e)),Gi}function er(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[nt]=e,t[at]=a,n){case"dialog":Le("cancel",t),Le("close",t);break;case"iframe":case"object":case"embed":Le("load",t);break;case"video":case"audio":for(n=0;n<lo.length;n++)Le(lo[n],t);break;case"source":Le("error",t);break;case"img":case"image":case"link":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"input":Le("invalid",t),Bl(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Le("invalid",t);break;case"textarea":Le("invalid",t),ic(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||ip(t.textContent,n)?(a.popover!=null&&(Le("beforetoggle",t),Le("toggle",t)),a.onScroll!=null&&Le("scroll",t),a.onScrollEnd!=null&&Le("scrollend",t),a.onClick!=null&&(t.onclick=ba),t=!0):t=!1,t||Ea(e,!0)}function Bc(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 31:case 13:At=!1;return;case 27:case 3:At=!0;return;default:pt=pt.return}}function Jl(e){if(e!==pt)return!1;if(!Me)return Bc(e),Me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Zf(e.type,e.memoizedProps)),n=!n),n&&dt&&Ea(e),Bc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));dt=mp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));dt=mp(e)}else t===27?(t=dt,oi(e.type)?(e=If,If=null,dt=e):dt=t):dt=pt?oa(e.stateNode.nextSibling):null;return!0}function ml(){dt=pt=null,Me=!1}function Lc(){var e=_a;return e!==null&&(On===null?On=e:On.push.apply(On,e),_a=null),e}function Il(e){_a===null?_a=[e]:_a.push(e)}var As=I(null),qa=null,ia=null;function Na(e,t,n){$(As,t._currentValue),t._currentValue=n}function sa(e){e._currentValue=As.current,le(As)}function Cs(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function js(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var d=i.child;s=s.firstContext;e:for(;s!==null;){var g=s;s=i;for(var x=0;x<t.length;x++)if(g.context===t[x]){s.lanes|=n,g=s.alternate,g!==null&&(g.lanes|=n),Cs(s.return,n,e),a||(d=null);break e}s=g.next}}else if(i.tag===18){if(d=i.return,d===null)throw Error(c(341));d.lanes|=n,s=d.alternate,s!==null&&(s.lanes|=n),Cs(d,n,e),d=null}else d=i.child;if(d!==null)d.return=i;else for(d=i;d!==null;){if(d===e){d=null;break}if(i=d.sibling,i!==null){i.return=d.return,d=i;break}d=d.return}i=d}}function pl(e,t,n,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if((i.flags&524288)!==0)s=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var d=i.alternate;if(d===null)throw Error(c(387));if(d=d.memoizedProps,d!==null){var g=i.type;un(i.pendingProps.value,d.value)||(e!==null?e.push(g):e=[g])}}else if(i===Ye.current){if(d=i.alternate,d===null)throw Error(c(387));d.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(ro):e=[ro])}i=i.return}e!==null&&js(t,e,n,a),t.flags|=262144}function Zi(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ka(e){qa=e,ia=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Lt(e){return p(qa,e)}function f(e,t){return qa===null&&Ka(e),p(e,t)}function p(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ia===null){if(e===null)throw Error(c(308));ia=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ia=ia.next=t;return n}var S=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},N=o.unstable_scheduleCallback,q=o.unstable_NormalPriority,F={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ie(){return{controller:new S,data:new Map,refCount:0}}function He(e){e.refCount--,e.refCount===0&&N(q,function(){e.controller.abort()})}var Ue=null,se=0,P=0,Je=null;function it(e,t){if(Ue===null){var n=Ue=[];se=0,P=kf(),Je={status:"pending",value:void 0,then:function(a){n.push(a)}}}return se++,t.then(Ze,Ze),t}function Ze(){if(--se===0&&Ue!==null){Je!==null&&(Je.status="fulfilled");var e=Ue;Ue=null,P=0,Je=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bn(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var It=A.S;A.S=function(e,t){jm=Nt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&it(e,t),It!==null&&It(e,t)};var Ya=I(null);function Ru(){var e=Ya.current;return e!==null?e:ht.pooledCache}function tr(e,t){t===null?$(Ya,Ya.current):$(Ya,t.pool)}function Qd(){var e=Ru();return e===null?null:{parent:F._currentValue,pool:e}}var Ms=Error(c(460)),Du=Error(c(474)),nr=Error(c(542)),ar={then:function(){}};function Jd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Id(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ba,ba),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fd(e),e;default:if(typeof t.status=="string")t.then(ba,ba);else{if(e=ht,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fd(e),e}throw Xi=t,Ms}}function Vi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Xi=n,Ms):n}}var Xi=null;function $d(){if(Xi===null)throw Error(c(459));var e=Xi;return Xi=null,e}function Fd(e){if(e===Ms||e===nr)throw Error(c(483))}var Us=null,Hc=0;function lr(e){var t=Hc;return Hc+=1,Us===null&&(Us=[]),Id(Us,e,t)}function qc(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ir(e,t){throw t.$$typeof===Z?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Wd(e){function t(j,E){if(e){var M=j.deletions;M===null?(j.deletions=[E],j.flags|=16):M.push(E)}}function n(j,E){if(!e)return null;for(;E!==null;)t(j,E),E=E.sibling;return null}function a(j){for(var E=new Map;j!==null;)j.key!==null?E.set(j.key,j):E.set(j.index,j),j=j.sibling;return E}function i(j,E){return j=xa(j,E),j.index=0,j.sibling=null,j}function s(j,E,M){return j.index=M,e?(M=j.alternate,M!==null?(M=M.index,M<E?(j.flags|=67108866,E):M):(j.flags|=67108866,E)):(j.flags|=1048576,E)}function d(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function g(j,E,M,G){return E===null||E.tag!==6?(E=Es(M,j.mode,G),E.return=j,E):(E=i(E,M),E.return=j,E)}function x(j,E,M,G){var ye=M.type;return ye===W?H(j,E,M.props.children,G,M.key):E!==null&&(E.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===be&&Vi(ye)===E.type)?(E=i(E,M.props),qc(E,M),E.return=j,E):(E=qi(M.type,M.key,M.props,null,j.mode,G),qc(E,M),E.return=j,E)}function U(j,E,M,G){return E===null||E.tag!==4||E.stateNode.containerInfo!==M.containerInfo||E.stateNode.implementation!==M.implementation?(E=Ns(M,j.mode,G),E.return=j,E):(E=i(E,M.children||[]),E.return=j,E)}function H(j,E,M,G,ye){return E===null||E.tag!==7?(E=ta(M,j.mode,G,ye),E.return=j,E):(E=i(E,M),E.return=j,E)}function V(j,E,M){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Es(""+E,j.mode,M),E.return=j,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case K:return M=qi(E.type,E.key,E.props,null,j.mode,M),qc(M,E),M.return=j,M;case B:return E=Ns(E,j.mode,M),E.return=j,E;case be:return E=Vi(E),V(j,E,M)}if(L(E)||we(E))return E=ta(E,j.mode,M,null),E.return=j,E;if(typeof E.then=="function")return V(j,lr(E),M);if(E.$$typeof===me)return V(j,f(j,E),M);ir(j,E)}return null}function D(j,E,M,G){var ye=E!==null?E.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ye!==null?null:g(j,E,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case K:return M.key===ye?x(j,E,M,G):null;case B:return M.key===ye?U(j,E,M,G):null;case be:return M=Vi(M),D(j,E,M,G)}if(L(M)||we(M))return ye!==null?null:H(j,E,M,G,null);if(typeof M.then=="function")return D(j,E,lr(M),G);if(M.$$typeof===me)return D(j,E,f(j,M),G);ir(j,M)}return null}function O(j,E,M,G,ye){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return j=j.get(M)||null,g(E,j,""+G,ye);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K:return j=j.get(G.key===null?M:G.key)||null,x(E,j,G,ye);case B:return j=j.get(G.key===null?M:G.key)||null,U(E,j,G,ye);case be:return G=Vi(G),O(j,E,M,G,ye)}if(L(G)||we(G))return j=j.get(M)||null,H(E,j,G,ye,null);if(typeof G.then=="function")return O(j,E,M,lr(G),ye);if(G.$$typeof===me)return O(j,E,M,f(E,G),ye);ir(E,G)}return null}function fe(j,E,M,G){for(var ye=null,Ie=null,pe=E,Ce=E=0,Ke=null;pe!==null&&Ce<M.length;Ce++){pe.index>Ce?(Ke=pe,pe=null):Ke=pe.sibling;var $e=D(j,pe,M[Ce],G);if($e===null){pe===null&&(pe=Ke);break}e&&pe&&$e.alternate===null&&t(j,pe),E=s($e,E,Ce),Ie===null?ye=$e:Ie.sibling=$e,Ie=$e,pe=Ke}if(Ce===M.length)return n(j,pe),Me&&wa(j,Ce),ye;if(pe===null){for(;Ce<M.length;Ce++)pe=V(j,M[Ce],G),pe!==null&&(E=s(pe,E,Ce),Ie===null?ye=pe:Ie.sibling=pe,Ie=pe);return Me&&wa(j,Ce),ye}for(pe=a(pe);Ce<M.length;Ce++)Ke=O(pe,j,Ce,M[Ce],G),Ke!==null&&(e&&Ke.alternate!==null&&pe.delete(Ke.key===null?Ce:Ke.key),E=s(Ke,E,Ce),Ie===null?ye=Ke:Ie.sibling=Ke,Ie=Ke);return e&&pe.forEach(function(hi){return t(j,hi)}),Me&&wa(j,Ce),ye}function Se(j,E,M,G){if(M==null)throw Error(c(151));for(var ye=null,Ie=null,pe=E,Ce=E=0,Ke=null,$e=M.next();pe!==null&&!$e.done;Ce++,$e=M.next()){pe.index>Ce?(Ke=pe,pe=null):Ke=pe.sibling;var hi=D(j,pe,$e.value,G);if(hi===null){pe===null&&(pe=Ke);break}e&&pe&&hi.alternate===null&&t(j,pe),E=s(hi,E,Ce),Ie===null?ye=hi:Ie.sibling=hi,Ie=hi,pe=Ke}if($e.done)return n(j,pe),Me&&wa(j,Ce),ye;if(pe===null){for(;!$e.done;Ce++,$e=M.next())$e=V(j,$e.value,G),$e!==null&&(E=s($e,E,Ce),Ie===null?ye=$e:Ie.sibling=$e,Ie=$e);return Me&&wa(j,Ce),ye}for(pe=a(pe);!$e.done;Ce++,$e=M.next())$e=O(pe,j,Ce,$e.value,G),$e!==null&&(e&&$e.alternate!==null&&pe.delete($e.key===null?Ce:$e.key),E=s($e,E,Ce),Ie===null?ye=$e:Ie.sibling=$e,Ie=$e);return e&&pe.forEach(function(Sv){return t(j,Sv)}),Me&&wa(j,Ce),ye}function ot(j,E,M,G){if(typeof M=="object"&&M!==null&&M.type===W&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case K:e:{for(var ye=M.key;E!==null;){if(E.key===ye){if(ye=M.type,ye===W){if(E.tag===7){n(j,E.sibling),G=i(E,M.props.children),G.return=j,j=G;break e}}else if(E.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===be&&Vi(ye)===E.type){n(j,E.sibling),G=i(E,M.props),qc(G,M),G.return=j,j=G;break e}n(j,E);break}else t(j,E);E=E.sibling}M.type===W?(G=ta(M.props.children,j.mode,G,M.key),G.return=j,j=G):(G=qi(M.type,M.key,M.props,null,j.mode,G),qc(G,M),G.return=j,j=G)}return d(j);case B:e:{for(ye=M.key;E!==null;){if(E.key===ye)if(E.tag===4&&E.stateNode.containerInfo===M.containerInfo&&E.stateNode.implementation===M.implementation){n(j,E.sibling),G=i(E,M.children||[]),G.return=j,j=G;break e}else{n(j,E);break}else t(j,E);E=E.sibling}G=Ns(M,j.mode,G),G.return=j,j=G}return d(j);case be:return M=Vi(M),ot(j,E,M,G)}if(L(M))return fe(j,E,M,G);if(we(M)){if(ye=we(M),typeof ye!="function")throw Error(c(150));return M=ye.call(M),Se(j,E,M,G)}if(typeof M.then=="function")return ot(j,E,lr(M),G);if(M.$$typeof===me)return ot(j,E,f(j,M),G);ir(j,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,E!==null&&E.tag===6?(n(j,E.sibling),G=i(E,M),G.return=j,j=G):(n(j,E),G=Es(M,j.mode,G),G.return=j,j=G),d(j)):n(j,E)}return function(j,E,M,G){try{Hc=0;var ye=ot(j,E,M,G);return Us=null,ye}catch(pe){if(pe===Ms||pe===nr)throw pe;var Ie=gn(29,pe,null,j.mode);return Ie.lanes=G,Ie.return=j,Ie}finally{}}}var Qi=Wd(!0),Pd=Wd(!1),$l=!1;function Ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ku(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wl(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(We&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=_s(e),Io(e,null,n),t}return Xl(e,a,t,n),_s(e)}function Kc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,de(e,n)}}function zu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=d:s=s.next=d,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Bu=!1;function Yc(){if(Bu){var e=Je;if(e!==null)throw e}}function Gc(e,t,n,a){Bu=!1;var i=e.updateQueue;$l=!1;var s=i.firstBaseUpdate,d=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var x=g,U=x.next;x.next=null,d===null?s=U:d.next=U,d=x;var H=e.alternate;H!==null&&(H=H.updateQueue,g=H.lastBaseUpdate,g!==d&&(g===null?H.firstBaseUpdate=U:g.next=U,H.lastBaseUpdate=x))}if(s!==null){var V=i.baseState;d=0,H=U=x=null,g=s;do{var D=g.lane&-536870913,O=D!==g.lane;if(O?(qe&D)===D:(a&D)===D){D!==0&&D===P&&(Bu=!0),H!==null&&(H=H.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var fe=e,Se=g;D=t;var ot=n;switch(Se.tag){case 1:if(fe=Se.payload,typeof fe=="function"){V=fe.call(ot,V,D);break e}V=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Se.payload,D=typeof fe=="function"?fe.call(ot,V,D):fe,D==null)break e;V=C({},V,D);break e;case 2:$l=!0}}D=g.callback,D!==null&&(e.flags|=64,O&&(e.flags|=8192),O=i.callbacks,O===null?i.callbacks=[D]:O.push(D))}else O={lane:D,tag:g.tag,payload:g.payload,callback:g.callback,next:null},H===null?(U=H=O,x=V):H=H.next=O,d|=D;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;O=g,g=O.next,O.next=null,i.lastBaseUpdate=O,i.shared.pending=null}}while(!0);H===null&&(x=V),i.baseState=x,i.firstBaseUpdate=U,i.lastBaseUpdate=H,s===null&&(i.shared.lanes=0),ai|=d,e.lanes=d,e.memoizedState=V}}function eh(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function th(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)eh(n[e],t)}var Rs=I(null),sr=I(0);function nh(e,t){e=El,$(sr,e),$(Rs,t),El=e|t.baseLanes}function Lu(){$(sr,El),$(Rs,Rs.current)}function Hu(){El=sr.current,le(Rs),le(sr)}var Yn=I(null),ca=null;function Pl(e){var t=e.alternate;$(kt,kt.current&1),$(Yn,e),ca===null&&(t===null||Rs.current!==null||t.memoizedState!==null)&&(ca=e)}function qu(e){$(kt,kt.current),$(Yn,e),ca===null&&(ca=e)}function ah(e){e.tag===22?($(kt,kt.current),$(Yn,e),ca===null&&(ca=e)):ei()}function ei(){$(kt,kt.current),$(Yn,Yn.current)}function Gn(e){le(Yn),ca===e&&(ca=null),le(kt)}var kt=I(0);function cr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Qf(n)||Jf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gl=0,Te=null,st=null,Ht=null,or=!1,Ds=!1,Ji=!1,rr=0,Zc=0,Os=null,uy=0;function Ct(){throw Error(c(321))}function Ku(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function Yu(e,t,n,a,i,s){return gl=s,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=e===null||e.memoizedState===null?qh:af,Ji=!1,s=n(a,i),Ji=!1,Ds&&(s=ih(t,n,a,i)),lh(e),s}function lh(e){A.H=Qc;var t=st!==null&&st.next!==null;if(gl=0,Ht=st=Te=null,or=!1,Zc=0,Os=null,t)throw Error(c(300));e===null||qt||(e=e.dependencies,e!==null&&Zi(e)&&(qt=!0))}function ih(e,t,n,a){Te=e;var i=0;do{if(Ds&&(Os=null),Zc=0,Ds=!1,25<=i)throw Error(c(301));if(i+=1,Ht=st=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}A.H=Kh,s=t(n,a)}while(Ds);return s}function fy(){var e=A.H,t=e.useState()[0];return t=typeof t.then=="function"?Vc(t):t,e=e.useState()[0],(st!==null?st.memoizedState:null)!==e&&(Te.flags|=1024),t}function Gu(){var e=rr!==0;return rr=0,e}function Zu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Vu(e){if(or){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}or=!1}gl=0,Ht=st=Te=null,Ds=!1,Zc=rr=0,Os=null}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Te.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function zt(){if(st===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=Ht===null?Te.memoizedState:Ht.next;if(t!==null)Ht=t,st=e;else{if(e===null)throw Te.alternate===null?Error(c(467)):Error(c(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ht===null?Te.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function ur(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vc(e){var t=Zc;return Zc+=1,Os===null&&(Os=[]),e=Id(Os,e,t),t=Te,(Ht===null?t.memoizedState:Ht.next)===null&&(t=t.alternate,A.H=t===null||t.memoizedState===null?qh:af),e}function fr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vc(e);if(e.$$typeof===me)return Lt(e)}throw Error(c(438,String(e)))}function Xu(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Te.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ur(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=gt;return t.index++,n}function yl(e,t){return typeof t=="function"?t(e):t}function dr(e){var t=zt();return Qu(t,st,e)}function Qu(e,t,n){var a=e.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var d=i.next;i.next=s.next,s.next=d}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var g=d=null,x=null,U=t,H=!1;do{var V=U.lane&-536870913;if(V!==U.lane?(qe&V)===V:(gl&V)===V){var D=U.revertLane;if(D===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),V===P&&(H=!0);else if((gl&D)===D){U=U.next,D===P&&(H=!0);continue}else V={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},x===null?(g=x=V,d=s):x=x.next=V,Te.lanes|=D,ai|=D;V=U.action,Ji&&n(s,V),s=U.hasEagerState?U.eagerState:n(s,V)}else D={lane:V,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},x===null?(g=x=D,d=s):x=x.next=D,Te.lanes|=V,ai|=V;U=U.next}while(U!==null&&U!==t);if(x===null?d=s:x.next=g,!un(s,e.memoizedState)&&(qt=!0,H&&(n=Je,n!==null)))throw n;e.memoizedState=s,e.baseState=d,e.baseQueue=x,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ju(e){var t=zt(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var d=i=i.next;do s=e(s,d.action),d=d.next;while(d!==i);un(s,t.memoizedState)||(qt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function sh(e,t,n){var a=Te,i=zt(),s=Me;if(s){if(n===void 0)throw Error(c(407));n=n()}else n=t();var d=!un((st||i).memoizedState,n);if(d&&(i.memoizedState=n,qt=!0),i=i.queue,Fu(rh.bind(null,a,i,e),[e]),i.getSnapshot!==t||d||Ht!==null&&Ht.memoizedState.tag&1){if(a.flags|=2048,ks(9,{destroy:void 0},oh.bind(null,a,i,n,t),null),ht===null)throw Error(c(349));s||(gl&127)!==0||ch(a,t,n)}return n}function ch(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=ur(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function oh(e,t,n,a){t.value=n,t.getSnapshot=a,uh(t)&&fh(e)}function rh(e,t,n){return n(function(){uh(t)&&fh(e)})}function uh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function fh(e){var t=dl(e,2);t!==null&&kn(t,e,2)}function Iu(e){var t=Sn();if(typeof e=="function"){var n=e;if(e=n(),Ji){Rt(!0);try{n()}finally{Rt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:e},t}function dh(e,t,n,a){return e.baseState=n,Qu(e,st,typeof a=="function"?a:yl)}function dy(e,t,n,a,i){if(pr(e))throw Error(c(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){s.listeners.push(d)}};A.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,hh(t,s)):(s.next=n.next,t.pending=n.next=s)}}function hh(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=A.T,d={};A.T=d;try{var g=n(i,a),x=A.S;x!==null&&x(d,g),mh(e,t,g)}catch(U){$u(e,t,U)}finally{s!==null&&d.types!==null&&(s.types=d.types),A.T=s}}else try{s=n(i,a),mh(e,t,s)}catch(U){$u(e,t,U)}}function mh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){ph(e,t,a)},function(a){return $u(e,t,a)}):ph(e,t,n)}function ph(e,t,n){t.status="fulfilled",t.value=n,gh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,hh(e,n)))}function $u(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,gh(t),t=t.next;while(t!==a)}e.action=null}function gh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yh(e,t){return t}function vh(e,t){if(Me){var n=ht.formState;if(n!==null){e:{var a=Te;if(Me){if(dt){t:{for(var i=dt,s=At;i.nodeType!==8;){if(!s){i=null;break t}if(i=oa(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){dt=oa(i.nextSibling),a=i.data==="F!";break e}}Ea(a)}a=!1}a&&(t=n[0])}}return n=Sn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:t},n.queue=a,n=Bh.bind(null,Te,a),a.dispatch=n,a=Iu(!1),s=nf.bind(null,Te,!1,a.queue),a=Sn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=dy.bind(null,Te,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function bh(e){var t=zt();return Sh(t,st,e)}function Sh(e,t,n){if(t=Qu(e,t,yh)[0],e=dr(yl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Vc(t)}catch(d){throw d===Ms?nr:d}else a=t;t=zt();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,ks(9,{destroy:void 0},hy.bind(null,i,n),null)),[a,s,e]}function hy(e,t){e.action=t}function xh(e){var t=zt(),n=st;if(n!==null)return Sh(t,n,e);zt(),t=t.memoizedState,n=zt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function ks(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Te.updateQueue,t===null&&(t=ur(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function wh(){return zt().memoizedState}function hr(e,t,n,a){var i=Sn();Te.flags|=e,i.memoizedState=ks(1|t,{destroy:void 0},n,a===void 0?null:a)}function mr(e,t,n,a){var i=zt();a=a===void 0?null:a;var s=i.memoizedState.inst;st!==null&&a!==null&&Ku(a,st.memoizedState.deps)?i.memoizedState=ks(t,s,n,a):(Te.flags|=e,i.memoizedState=ks(1|t,s,n,a))}function _h(e,t){hr(8390656,8,e,t)}function Fu(e,t){mr(2048,8,e,t)}function my(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=ur(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Eh(e){var t=zt().memoizedState;return my({ref:t,nextImpl:e}),function(){if((We&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function Nh(e,t){return mr(4,2,e,t)}function Th(e,t){return mr(4,4,e,t)}function Ah(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ch(e,t,n){n=n!=null?n.concat([e]):null,mr(4,4,Ah.bind(null,t,e),n)}function Wu(){}function jh(e,t){var n=zt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Ku(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Mh(e,t){var n=zt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Ku(t,a[1]))return a[0];if(a=e(),Ji){Rt(!0);try{e()}finally{Rt(!1)}}return n.memoizedState=[a,t],a}function Pu(e,t,n){return n===void 0||(gl&1073741824)!==0&&(qe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Um(),Te.lanes|=e,ai|=e,n)}function Uh(e,t,n,a){return un(n,t)?n:Rs.current!==null?(e=Pu(e,n,a),un(e,t)||(qt=!0),e):(gl&42)===0||(gl&1073741824)!==0&&(qe&261930)===0?(qt=!0,e.memoizedState=n):(e=Um(),Te.lanes|=e,ai|=e,t)}function Rh(e,t,n,a,i){var s=z.p;z.p=s!==0&&8>s?s:8;var d=A.T,g={};A.T=g,nf(e,!1,t,n);try{var x=i(),U=A.S;if(U!==null&&U(g,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var H=bn(x,a);Xc(e,t,H,Xn(e))}else Xc(e,t,a,Xn(e))}catch(V){Xc(e,t,{then:function(){},status:"rejected",reason:V},Xn())}finally{z.p=s,d!==null&&g.types!==null&&(d.types=g.types),A.T=d}}function py(){}function ef(e,t,n,a){if(e.tag!==5)throw Error(c(476));var i=Dh(e).queue;Rh(e,i,t,Q,n===null?py:function(){return Oh(e),n(a)})}function Dh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:Q},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Oh(e){var t=Dh(e);t.next===null&&(t=e.alternate.memoizedState),Xc(e,t.next.queue,{},Xn())}function tf(){return Lt(ro)}function kh(){return zt().memoizedState}function zh(){return zt().memoizedState}function gy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Xn();e=Fl(n);var a=Wl(t,e,n);a!==null&&(kn(a,t,n),Kc(a,t,n)),t={cache:ie()},e.payload=t;return}t=t.return}}function yy(e,t,n){var a=Xn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},pr(e)?Lh(t,n):(n=Rc(e,t,n,a),n!==null&&(kn(n,e,a),Hh(n,t,a)))}function Bh(e,t,n){var a=Xn();Xc(e,t,n,a)}function Xc(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(pr(e))Lh(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var d=t.lastRenderedState,g=s(d,n);if(i.hasEagerState=!0,i.eagerState=g,un(g,d))return Xl(e,t,i,0),ht===null&&Hi(),!1}catch{}finally{}if(n=Rc(e,t,i,a),n!==null)return kn(n,e,a),Hh(n,t,a),!0}return!1}function nf(e,t,n,a){if(a={lane:2,revertLane:kf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pr(e)){if(t)throw Error(c(479))}else t=Rc(e,n,a,2),t!==null&&kn(t,e,2)}function pr(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Lh(e,t){Ds=or=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hh(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,de(e,n)}}var Qc={readContext:Lt,use:fr,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};Qc.useEffectEvent=Ct;var qh={readContext:Lt,use:fr,useCallback:function(e,t){return Sn().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:_h,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,hr(4194308,4,Ah.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hr(4194308,4,e,t)},useInsertionEffect:function(e,t){hr(4,2,e,t)},useMemo:function(e,t){var n=Sn();t=t===void 0?null:t;var a=e();if(Ji){Rt(!0);try{e()}finally{Rt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Sn();if(n!==void 0){var i=n(t);if(Ji){Rt(!0);try{n(t)}finally{Rt(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=yy.bind(null,Te,e),[a.memoizedState,e]},useRef:function(e){var t=Sn();return e={current:e},t.memoizedState=e},useState:function(e){e=Iu(e);var t=e.queue,n=Bh.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wu,useDeferredValue:function(e,t){var n=Sn();return Pu(n,e,t)},useTransition:function(){var e=Iu(!1);return e=Rh.bind(null,Te,e.queue,!0,!1),Sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Te,i=Sn();if(Me){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),ht===null)throw Error(c(349));(qe&127)!==0||ch(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,_h(rh.bind(null,a,s,e),[e]),a.flags|=2048,ks(9,{destroy:void 0},oh.bind(null,a,s,n,t),null),n},useId:function(){var e=Sn(),t=ht.identifierPrefix;if(Me){var n=la,a=aa;n=(a&~(1<<32-xt(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=rr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=uy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tf,useFormState:vh,useActionState:vh,useOptimistic:function(e){var t=Sn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=nf.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Xu,useCacheRefresh:function(){return Sn().memoizedState=gy.bind(null,Te)},useEffectEvent:function(e){var t=Sn(),n={impl:e};return t.memoizedState=n,function(){if((We&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}},af={readContext:Lt,use:fr,useCallback:jh,useContext:Lt,useEffect:Fu,useImperativeHandle:Ch,useInsertionEffect:Nh,useLayoutEffect:Th,useMemo:Mh,useReducer:dr,useRef:wh,useState:function(){return dr(yl)},useDebugValue:Wu,useDeferredValue:function(e,t){var n=zt();return Uh(n,st.memoizedState,e,t)},useTransition:function(){var e=dr(yl)[0],t=zt().memoizedState;return[typeof e=="boolean"?e:Vc(e),t]},useSyncExternalStore:sh,useId:kh,useHostTransitionStatus:tf,useFormState:bh,useActionState:bh,useOptimistic:function(e,t){var n=zt();return dh(n,st,e,t)},useMemoCache:Xu,useCacheRefresh:zh};af.useEffectEvent=Eh;var Kh={readContext:Lt,use:fr,useCallback:jh,useContext:Lt,useEffect:Fu,useImperativeHandle:Ch,useInsertionEffect:Nh,useLayoutEffect:Th,useMemo:Mh,useReducer:Ju,useRef:wh,useState:function(){return Ju(yl)},useDebugValue:Wu,useDeferredValue:function(e,t){var n=zt();return st===null?Pu(n,e,t):Uh(n,st.memoizedState,e,t)},useTransition:function(){var e=Ju(yl)[0],t=zt().memoizedState;return[typeof e=="boolean"?e:Vc(e),t]},useSyncExternalStore:sh,useId:kh,useHostTransitionStatus:tf,useFormState:xh,useActionState:xh,useOptimistic:function(e,t){var n=zt();return st!==null?dh(n,st,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Xu,useCacheRefresh:zh};Kh.useEffectEvent=Eh;function lf(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:C({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sf={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Xn(),i=Fl(a);i.payload=t,n!=null&&(i.callback=n),t=Wl(e,i,a),t!==null&&(kn(t,e,a),Kc(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Xn(),i=Fl(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Wl(e,i,a),t!==null&&(kn(t,e,a),Kc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xn(),a=Fl(n);a.tag=2,t!=null&&(a.callback=t),t=Wl(e,a,n),t!==null&&(kn(t,e,n),Kc(t,e,n))}};function Yh(e,t,n,a,i,s,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,d):t.prototype&&t.prototype.isPureReactComponent?!Zl(n,a)||!Zl(i,s):!0}function Gh(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&sf.enqueueReplaceState(t,t.state,null)}function Ii(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=C({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Zh(e){Li(e)}function Vh(e){console.error(e)}function Xh(e){Li(e)}function gr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Qh(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function cf(e,t,n){return n=Fl(n),n.tag=3,n.payload={element:null},n.callback=function(){gr(e,t)},n}function Jh(e){return e=Fl(e),e.tag=3,e}function Ih(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){Qh(t,n,a)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Qh(t,n,a),typeof i!="function"&&(li===null?li=new Set([this]):li.add(this));var g=a.stack;this.componentDidCatch(a.value,{componentStack:g!==null?g:""})})}function vy(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&pl(t,n,i,!0),n=Yn.current,n!==null){switch(n.tag){case 31:case 13:return ca===null?Cr():n.alternate===null&&jt===0&&(jt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===ar?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Rf(e,a,i)),!1;case 22:return n.flags|=65536,a===ar?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Rf(e,a,i)),!1}throw Error(c(435,n.tag))}return Rf(e,a,i),Cr(),!1}if(Me)return t=Yn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Gi&&(e=Error(c(422),{cause:a}),Il(yn(e,n)))):(a!==Gi&&(t=Error(c(423),{cause:a}),Il(yn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=yn(a,n),i=cf(e.stateNode,a,i),zu(e,i),jt!==4&&(jt=2)),!1;var s=Error(c(520),{cause:a});if(s=yn(s,n),to===null?to=[s]:to.push(s),jt!==4&&(jt=2),t===null)return!0;a=yn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=cf(n.stateNode,a,e),zu(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(li===null||!li.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Jh(i),Ih(i,e,n,a),zu(n,i),!1}n=n.return}while(n!==null);return!1}var of=Error(c(461)),qt=!1;function en(e,t,n,a){t.child=e===null?Pd(t,null,n,a):Qi(t,e.child,n,a)}function $h(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var d={};for(var g in a)g!=="ref"&&(d[g]=a[g])}else d=a;return Ka(t),a=Yu(e,t,n,d,s,i),g=Gu(),e!==null&&!qt?(Zu(e,t,i),vl(e,t,i)):(Me&&g&&zc(t),t.flags|=1,en(e,t,a,i),t.child)}function Fh(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!Dc(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Wh(e,t,s,a,i)):(e=qi(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!gf(e,i)){var d=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zl,n(d,a)&&e.ref===t.ref)return vl(e,t,i)}return t.flags|=1,e=xa(s,a),e.ref=t.ref,e.return=t,t.child=e}function Wh(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(Zl(s,a)&&e.ref===t.ref)if(qt=!1,t.pendingProps=a=s,gf(e,i))(e.flags&131072)!==0&&(qt=!0);else return t.lanes=e.lanes,vl(e,t,i)}return rf(e,t,n,a,i)}function Ph(e,t,n,a){var i=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,t.child=null;return em(e,t,s,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&tr(t,s!==null?s.cachePool:null),s!==null?nh(t,s):Lu(),ah(t);else return a=t.lanes=536870912,em(e,t,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(tr(t,s.cachePool),nh(t,s),ei(),t.memoizedState=null):(e!==null&&tr(t,null),Lu(),ei());return en(e,t,i,n),t.child}function Jc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function em(e,t,n,a,i){var s=Ru();return s=s===null?null:{parent:F._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&tr(t,null),Lu(),ah(t),e!==null&&pl(e,t,a,!0),t.childLanes=i,null}function yr(e,t){return t=br({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function tm(e,t,n){return Qi(t,e.child,null,n),e=yr(t,t.pendingProps),e.flags|=2,Gn(t),t.memoizedState=null,e}function by(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Me){if(a.mode==="hidden")return e=yr(t,a),t.lanes=536870912,Jc(null,e);if(qu(t),(e=dt)?(e=hp(e,At),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:na!==null?{id:aa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},n=kc(e),n.return=t,t.child=n,pt=t,dt=null)):e=null,e===null)throw Ea(t);return t.lanes=536870912,null}return yr(t,a)}var s=e.memoizedState;if(s!==null){var d=s.dehydrated;if(qu(t),i)if(t.flags&256)t.flags&=-257,t=tm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(qt||pl(e,t,n,!1),i=(n&e.childLanes)!==0,qt||i){if(a=ht,a!==null&&(d=ya(a,n),d!==0&&d!==s.retryLane))throw s.retryLane=d,dl(e,d),kn(a,e,d),of;Cr(),t=tm(e,t,n)}else e=s.treeContext,dt=oa(d.nextSibling),pt=t,Me=!0,_a=null,At=!1,e!==null&&Po(t,e),t=yr(t,a),t.flags|=4096;return t}return e=xa(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function vr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function rf(e,t,n,a,i){return Ka(t),n=Yu(e,t,n,a,void 0,i),a=Gu(),e!==null&&!qt?(Zu(e,t,i),vl(e,t,i)):(Me&&a&&zc(t),t.flags|=1,en(e,t,n,i),t.child)}function nm(e,t,n,a,i,s){return Ka(t),t.updateQueue=null,n=ih(t,a,n,i),lh(e),a=Gu(),e!==null&&!qt?(Zu(e,t,s),vl(e,t,s)):(Me&&a&&zc(t),t.flags|=1,en(e,t,n,s),t.child)}function am(e,t,n,a,i){if(Ka(t),t.stateNode===null){var s=hl,d=n.contextType;typeof d=="object"&&d!==null&&(s=Lt(d)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=sf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},Ou(t),d=n.contextType,s.context=typeof d=="object"&&d!==null?Lt(d):hl,s.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(lf(t,n,d,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(d=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),d!==s.state&&sf.enqueueReplaceState(s,s.state,null),Gc(t,a,s,i),Yc(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var g=t.memoizedProps,x=Ii(n,g);s.props=x;var U=s.context,H=n.contextType;d=hl,typeof H=="object"&&H!==null&&(d=Lt(H));var V=n.getDerivedStateFromProps;H=typeof V=="function"||typeof s.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,H||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(g||U!==d)&&Gh(t,s,a,d),$l=!1;var D=t.memoizedState;s.state=D,Gc(t,a,s,i),Yc(),U=t.memoizedState,g||D!==U||$l?(typeof V=="function"&&(lf(t,n,V,a),U=t.memoizedState),(x=$l||Yh(t,n,x,a,D,U,d))?(H||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=U),s.props=a,s.state=U,s.context=d,a=x):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,ku(e,t),d=t.memoizedProps,H=Ii(n,d),s.props=H,V=t.pendingProps,D=s.context,U=n.contextType,x=hl,typeof U=="object"&&U!==null&&(x=Lt(U)),g=n.getDerivedStateFromProps,(U=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(d!==V||D!==x)&&Gh(t,s,a,x),$l=!1,D=t.memoizedState,s.state=D,Gc(t,a,s,i),Yc();var O=t.memoizedState;d!==V||D!==O||$l||e!==null&&e.dependencies!==null&&Zi(e.dependencies)?(typeof g=="function"&&(lf(t,n,g,a),O=t.memoizedState),(H=$l||Yh(t,n,H,a,D,O,x)||e!==null&&e.dependencies!==null&&Zi(e.dependencies))?(U||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,O,x),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,O,x)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=O),s.props=a,s.state=O,s.context=x,a=H):(typeof s.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,vr(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=Qi(t,e.child,null,i),t.child=Qi(t,null,n,i)):en(e,t,n,i),t.memoizedState=s.state,e=t.child):e=vl(e,t,i),e}function lm(e,t,n,a){return ml(),t.flags|=256,en(e,t,n,a),t.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ff(e){return{baseLanes:e,cachePool:Qd()}}function df(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Vn),e}function im(e,t,n){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,d;if((d=s)||(d=e!==null&&e.memoizedState===null?!1:(kt.current&2)!==0),d&&(i=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(i?Pl(t):ei(),(e=dt)?(e=hp(e,At),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:na!==null?{id:aa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},n=kc(e),n.return=t,t.child=n,pt=t,dt=null)):e=null,e===null)throw Ea(t);return Jf(e)?t.lanes=32:t.lanes=536870912,null}var g=a.children;return a=a.fallback,i?(ei(),i=t.mode,g=br({mode:"hidden",children:g},i),a=ta(a,i,n,null),g.return=t,a.return=t,g.sibling=a,t.child=g,a=t.child,a.memoizedState=ff(n),a.childLanes=df(e,d,n),t.memoizedState=uf,Jc(null,a)):(Pl(t),hf(t,g))}var x=e.memoizedState;if(x!==null&&(g=x.dehydrated,g!==null)){if(s)t.flags&256?(Pl(t),t.flags&=-257,t=mf(e,t,n)):t.memoizedState!==null?(ei(),t.child=e.child,t.flags|=128,t=null):(ei(),g=a.fallback,i=t.mode,a=br({mode:"visible",children:a.children},i),g=ta(g,i,n,null),g.flags|=2,a.return=t,g.return=t,a.sibling=g,t.child=a,Qi(t,e.child,null,n),a=t.child,a.memoizedState=ff(n),a.childLanes=df(e,d,n),t.memoizedState=uf,t=Jc(null,a));else if(Pl(t),Jf(g)){if(d=g.nextSibling&&g.nextSibling.dataset,d)var U=d.dgst;d=U,a=Error(c(419)),a.stack="",a.digest=d,Il({value:a,source:null,stack:null}),t=mf(e,t,n)}else if(qt||pl(e,t,n,!1),d=(n&e.childLanes)!==0,qt||d){if(d=ht,d!==null&&(a=ya(d,n),a!==0&&a!==x.retryLane))throw x.retryLane=a,dl(e,a),kn(d,e,a),of;Qf(g)||Cr(),t=mf(e,t,n)}else Qf(g)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,dt=oa(g.nextSibling),pt=t,Me=!0,_a=null,At=!1,e!==null&&Po(t,e),t=hf(t,a.children),t.flags|=4096);return t}return i?(ei(),g=a.fallback,i=t.mode,x=e.child,U=x.sibling,a=xa(x,{mode:"hidden",children:a.children}),a.subtreeFlags=x.subtreeFlags&65011712,U!==null?g=xa(U,g):(g=ta(g,i,n,null),g.flags|=2),g.return=t,a.return=t,a.sibling=g,t.child=a,Jc(null,a),a=t.child,g=e.child.memoizedState,g===null?g=ff(n):(i=g.cachePool,i!==null?(x=F._currentValue,i=i.parent!==x?{parent:x,pool:x}:i):i=Qd(),g={baseLanes:g.baseLanes|n,cachePool:i}),a.memoizedState=g,a.childLanes=df(e,d,n),t.memoizedState=uf,Jc(e.child,a)):(Pl(t),n=e.child,e=n.sibling,n=xa(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=n,t.memoizedState=null,n)}function hf(e,t){return t=br({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function br(e,t){return e=gn(22,e,null,t),e.lanes=0,e}function mf(e,t,n){return Qi(t,e.child,null,n),e=hf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sm(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Cs(e.return,t,n)}function pf(e,t,n,a,i,s){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:s}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=n,d.tailMode=i,d.treeForkCount=s)}function cm(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var d=kt.current,g=(d&2)!==0;if(g?(d=d&1|2,t.flags|=128):d&=1,$(kt,d),en(e,t,a,n),a=Me?Yi:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sm(e,n,t);else if(e.tag===19)sm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&cr(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),pf(t,!1,i,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&cr(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}pf(t,!0,n,null,s,a);break;case"together":pf(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function vl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ai|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(pl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=xa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Zi(e)))}function Sy(e,t,n){switch(t.tag){case 3:Pe(t,t.stateNode.containerInfo),Na(t,F,e.memoizedState.cache),ml();break;case 27:case 5:Xe(t);break;case 4:Pe(t,t.stateNode.containerInfo);break;case 10:Na(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,qu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Pl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?im(e,t,n):(Pl(t),e=vl(e,t,n),e!==null?e.sibling:null);Pl(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(pl(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return cm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$(kt,kt.current),a)break;return null;case 22:return t.lanes=0,Ph(e,t,n,t.pendingProps);case 24:Na(t,F,e.memoizedState.cache)}return vl(e,t,n)}function om(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)qt=!0;else{if(!gf(e,n)&&(t.flags&128)===0)return qt=!1,Sy(e,t,n);qt=(e.flags&131072)!==0}else qt=!1,Me&&(t.flags&1048576)!==0&&Wo(t,Yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Vi(t.elementType),t.type=e,typeof e=="function")Dc(e)?(a=Ii(e,a),t.tag=1,t=am(null,t,e,a,n)):(t.tag=0,t=rf(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===re){t.tag=11,t=$h(null,t,e,a,n);break e}else if(i===Et){t.tag=14,t=Fh(null,t,e,a,n);break e}}throw t=Y(e)||e,Error(c(306,t,""))}}return t;case 0:return rf(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Ii(a,t.pendingProps),am(e,t,a,i,n);case 3:e:{if(Pe(t,t.stateNode.containerInfo),e===null)throw Error(c(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,ku(e,t),Gc(t,a,null,n);var d=t.memoizedState;if(a=d.cache,Na(t,F,a),a!==s.cache&&js(t,[F],n,!0),Yc(),a=d.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=lm(e,t,a,n);break e}else if(a!==i){i=yn(Error(c(424)),t),Il(i),t=lm(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(dt=oa(e.firstChild),pt=t,Me=!0,_a=null,At=!0,n=Pd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ml(),a===i){t=vl(e,t,n);break e}en(e,t,a,n)}t=t.child}return t;case 26:return vr(e,t),e===null?(n=bp(t.type,null,t.pendingProps,null))?t.memoizedState=n:Me||(n=t.type,e=t.pendingProps,a=kr(ve.current).createElement(n),a[nt]=t,a[at]=e,tn(a,n,e),Ae(a),t.stateNode=a):t.memoizedState=bp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Xe(t),e===null&&Me&&(a=t.stateNode=gp(t.type,t.pendingProps,ve.current),pt=t,At=!0,i=dt,oi(t.type)?(If=i,dt=oa(a.firstChild)):dt=i),en(e,t,t.pendingProps.children,n),vr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((i=a=dt)&&(a=$y(a,t.type,t.pendingProps,At),a!==null?(t.stateNode=a,pt=t,dt=oa(a.firstChild),At=!1,i=!0):i=!1),i||Ea(t)),Xe(t),i=t.type,s=t.pendingProps,d=e!==null?e.memoizedProps:null,a=s.children,Zf(i,s)?a=null:d!==null&&Zf(i,d)&&(t.flags|=32),t.memoizedState!==null&&(i=Yu(e,t,fy,null,null,n),ro._currentValue=i),vr(e,t),en(e,t,a,n),t.child;case 6:return e===null&&Me&&((e=n=dt)&&(n=Fy(n,t.pendingProps,At),n!==null?(t.stateNode=n,pt=t,dt=null,e=!0):e=!1),e||Ea(t)),null;case 13:return im(e,t,n);case 4:return Pe(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Qi(t,null,a,n):en(e,t,a,n),t.child;case 11:return $h(e,t,t.type,t.pendingProps,n);case 7:return en(e,t,t.pendingProps,n),t.child;case 8:return en(e,t,t.pendingProps.children,n),t.child;case 12:return en(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Na(t,t.type,a.value),en(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Ka(t),i=Lt(i),a=a(i),t.flags|=1,en(e,t,a,n),t.child;case 14:return Fh(e,t,t.type,t.pendingProps,n);case 15:return Wh(e,t,t.type,t.pendingProps,n);case 19:return cm(e,t,n);case 31:return by(e,t,n);case 22:return Ph(e,t,n,t.pendingProps);case 24:return Ka(t),a=Lt(F),e===null?(i=Ru(),i===null&&(i=ht,s=ie(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},Ou(t),Na(t,F,i)):((e.lanes&n)!==0&&(ku(e,t),Gc(t,null,null,n),Yc()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Na(t,F,a)):(a=s.cache,Na(t,F,a),a!==i.cache&&js(t,[F],n,!0))),en(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function bl(e){e.flags|=4}function yf(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(km())e.flags|=8192;else throw Xi=ar,Du}else e.flags&=-16777217}function rm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ep(t))if(km())e.flags|=8192;else throw Xi=ar,Du}function Sr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Hn():536870912,e.lanes|=t,Hs|=t)}function Ic(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function xy(e,t,n){var a=t.pendingProps;switch(Ts(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return vt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),sa(F),rt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jl(t)?bl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lc())),vt(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(bl(t),s!==null?(vt(t),rm(t,s)):(vt(t),yf(t,i,null,a,n))):s?s!==e.memoizedState?(bl(t),vt(t),rm(t,s)):(vt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&bl(t),vt(t),yf(t,i,e,a,n)),null;case 27:if(ut(t),n=ve.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&bl(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return vt(t),null}e=Ee.current,Jl(t)?er(t):(e=gp(i,a,n),t.stateNode=e,bl(t))}return vt(t),null;case 5:if(ut(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&bl(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return vt(t),null}if(s=Ee.current,Jl(t))er(t);else{var d=kr(ve.current);switch(s){case 1:s=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=d.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?d.createElement("select",{is:a.is}):d.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?d.createElement(i,{is:a.is}):d.createElement(i)}}s[nt]=t,s[at]=a;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=s;e:switch(tn(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&bl(t)}}return vt(t),yf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&bl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(c(166));if(e=ve.current,Jl(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=pt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[nt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||ip(e.nodeValue,n)),e||Ea(t,!0)}else e=kr(e).createTextNode(a),e[nt]=t,t.stateNode=e}return vt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Jl(t),n!==null){if(e===null){if(!a)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[nt]=t}else ml(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;vt(t),e=!1}else n=Lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Gn(t),t):(Gn(t),null);if((t.flags&128)!==0)throw Error(c(558))}return vt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Jl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(c(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(c(317));i[nt]=t}else ml(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;vt(t),i=!1}else i=Lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Gn(t),t):(Gn(t),null)}return Gn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Sr(t,t.updateQueue),vt(t),null);case 4:return rt(),e===null&&Hf(t.stateNode.containerInfo),vt(t),null;case 10:return sa(t.type),vt(t),null;case 19:if(le(kt),a=t.memoizedState,a===null)return vt(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)Ic(a,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=cr(e),s!==null){for(t.flags|=128,Ic(a,!1),e=s.updateQueue,t.updateQueue=e,Sr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Oc(n,e),n=n.sibling;return $(kt,kt.current&1|2),Me&&wa(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Nt()>Nr&&(t.flags|=128,i=!0,Ic(a,!1),t.lanes=4194304)}else{if(!i)if(e=cr(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Sr(t,e),Ic(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Me)return vt(t),null}else 2*Nt()-a.renderingStartTime>Nr&&n!==536870912&&(t.flags|=128,i=!0,Ic(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Nt(),e.sibling=null,n=kt.current,$(kt,i?n&1|2:n&1),Me&&wa(t,a.treeForkCount),e):(vt(t),null);case 22:case 23:return Gn(t),Hu(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),n=t.updateQueue,n!==null&&Sr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&le(Ya),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),sa(F),vt(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function wy(e,t){switch(Ts(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(F),rt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ut(t),null;case 31:if(t.memoizedState!==null){if(Gn(t),t.alternate===null)throw Error(c(340));ml()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));ml()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(kt),null;case 4:return rt(),null;case 10:return sa(t.type),null;case 22:case 23:return Gn(t),Hu(),e!==null&&le(Ya),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sa(F),null;case 25:return null;default:return null}}function um(e,t){switch(Ts(t),t.tag){case 3:sa(F),rt();break;case 26:case 27:case 5:ut(t);break;case 4:rt();break;case 31:t.memoizedState!==null&&Gn(t);break;case 13:Gn(t);break;case 19:le(kt);break;case 10:sa(t.type);break;case 22:case 23:Gn(t),Hu(),e!==null&&le(Ya);break;case 24:sa(F)}}function $c(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,d=n.inst;a=s(),d.destroy=a}n=n.next}while(n!==i)}}catch(g){tt(t,t.return,g)}}function ti(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var d=a.inst,g=d.destroy;if(g!==void 0){d.destroy=void 0,i=t;var x=n,U=g;try{U()}catch(H){tt(i,x,H)}}}a=a.next}while(a!==s)}}catch(H){tt(t,t.return,H)}}function fm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{th(t,n)}catch(a){tt(e,e.return,a)}}}function dm(e,t,n){n.props=Ii(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){tt(e,t,a)}}function Fc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){tt(e,t,i)}}function Ga(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){tt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){tt(e,t,i)}else n.current=null}function hm(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){tt(e,e.return,i)}}function vf(e,t,n){try{var a=e.stateNode;Zy(a,e.type,n,t),a[at]=t}catch(i){tt(e,e.return,i)}}function mm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&oi(e.type)||e.tag===4}function bf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&oi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sf(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ba));else if(a!==4&&(a===27&&oi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Sf(e,t,n),e=e.sibling;e!==null;)Sf(e,t,n),e=e.sibling}function xr(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&oi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(xr(e,t,n),e=e.sibling;e!==null;)xr(e,t,n),e=e.sibling}function pm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);tn(t,a,n),t[nt]=e,t[at]=n}catch(s){tt(e,e.return,s)}}var Sl=!1,Kt=!1,xf=!1,gm=typeof WeakSet=="function"?WeakSet:Set,$t=null;function _y(e,t){if(e=e.containerInfo,Yf=Yr,e=jc(e),bs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var d=0,g=-1,x=-1,U=0,H=0,V=e,D=null;t:for(;;){for(var O;V!==n||i!==0&&V.nodeType!==3||(g=d+i),V!==s||a!==0&&V.nodeType!==3||(x=d+a),V.nodeType===3&&(d+=V.nodeValue.length),(O=V.firstChild)!==null;)D=V,V=O;for(;;){if(V===e)break t;if(D===n&&++U===i&&(g=d),D===s&&++H===a&&(x=d),(O=V.nextSibling)!==null)break;V=D,D=V.parentNode}V=O}n=g===-1||x===-1?null:{start:g,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gf={focusedElem:e,selectionRange:n},Yr=!1,$t=t;$t!==null;)if(t=$t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$t=e;else for(;$t!==null;){switch(t=$t,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var fe=Ii(n.type,i);e=a.getSnapshotBeforeUpdate(fe,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(Se){tt(n,n.return,Se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Xf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,$t=e;break}$t=t.return}}function ym(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:wl(e,n),a&4&&$c(5,n);break;case 1:if(wl(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(d){tt(n,n.return,d)}else{var i=Ii(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){tt(n,n.return,d)}}a&64&&fm(n),a&512&&Fc(n,n.return);break;case 3:if(wl(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{th(e,t)}catch(d){tt(n,n.return,d)}}break;case 27:t===null&&a&4&&pm(n);case 26:case 5:wl(e,n),t===null&&a&4&&hm(n),a&512&&Fc(n,n.return);break;case 12:wl(e,n);break;case 31:wl(e,n),a&4&&Sm(e,n);break;case 13:wl(e,n),a&4&&xm(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ry.bind(null,n),Wy(e,n))));break;case 22:if(a=n.memoizedState!==null||Sl,!a){t=t!==null&&t.memoizedState!==null||Kt,i=Sl;var s=Kt;Sl=a,(Kt=t)&&!s?_l(e,n,(n.subtreeFlags&8772)!==0):wl(e,n),Sl=i,Kt=s}break;case 30:break;default:wl(e,n)}}function vm(e){var t=e.alternate;t!==null&&(e.alternate=null,vm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&w(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var St=null,Un=!1;function xl(e,t,n){for(n=n.child;n!==null;)bm(e,t,n),n=n.sibling}function bm(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(hn,n)}catch{}switch(n.tag){case 26:Kt||Ga(n,t),xl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Kt||Ga(n,t);var a=St,i=Un;oi(n.type)&&(St=n.stateNode,Un=!1),xl(e,t,n),so(n.stateNode),St=a,Un=i;break;case 5:Kt||Ga(n,t);case 6:if(a=St,i=Un,St=null,xl(e,t,n),St=a,Un=i,St!==null)if(Un)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(n.stateNode)}catch(s){tt(n,t,s)}else try{St.removeChild(n.stateNode)}catch(s){tt(n,t,s)}break;case 18:St!==null&&(Un?(e=St,fp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Qs(e)):fp(St,n.stateNode));break;case 4:a=St,i=Un,St=n.stateNode.containerInfo,Un=!0,xl(e,t,n),St=a,Un=i;break;case 0:case 11:case 14:case 15:ti(2,n,t),Kt||ti(4,n,t),xl(e,t,n);break;case 1:Kt||(Ga(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&dm(n,t,a)),xl(e,t,n);break;case 21:xl(e,t,n);break;case 22:Kt=(a=Kt)||n.memoizedState!==null,xl(e,t,n),Kt=a;break;default:xl(e,t,n)}}function Sm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qs(e)}catch(n){tt(t,t.return,n)}}}function xm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qs(e)}catch(n){tt(t,t.return,n)}}function Ey(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new gm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new gm),t;default:throw Error(c(435,e.tag))}}function wr(e,t){var n=Ey(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=Dy.bind(null,e,a);a.then(i,i)}})}function Rn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 27:if(oi(g.type)){St=g.stateNode,Un=!1;break e}break;case 5:St=g.stateNode,Un=!1;break e;case 3:case 4:St=g.stateNode.containerInfo,Un=!0;break e}g=g.return}if(St===null)throw Error(c(160));bm(s,d,i),St=null,Un=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)wm(t,e),t=t.sibling}var Ta=null;function wm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rn(t,e),Dn(e),a&4&&(ti(3,e,e.return),$c(3,e),ti(5,e,e.return));break;case 1:Rn(t,e),Dn(e),a&512&&(Kt||n===null||Ga(n,n.return)),a&64&&Sl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Ta;if(Rn(t,e),Dn(e),a&512&&(Kt||n===null||Ga(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[ue]||s[nt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),tn(s,a,n),s[nt]=e,Ae(s),a=s;break e;case"link":var d=wp("link","href",i).get(a+(n.href||""));if(d){for(var g=0;g<d.length;g++)if(s=d[g],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(g,1);break t}}s=i.createElement(a),tn(s,a,n),i.head.appendChild(s);break;case"meta":if(d=wp("meta","content",i).get(a+(n.content||""))){for(g=0;g<d.length;g++)if(s=d[g],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(g,1);break t}}s=i.createElement(a),tn(s,a,n),i.head.appendChild(s);break;default:throw Error(c(468,a))}s[nt]=e,Ae(s),a=s}e.stateNode=a}else _p(i,e.type,e.stateNode);else e.stateNode=xp(i,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?_p(i,e.type,e.stateNode):xp(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&vf(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rn(t,e),Dn(e),a&512&&(Kt||n===null||Ga(n,n.return)),n!==null&&a&4&&vf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rn(t,e),Dn(e),a&512&&(Kt||n===null||Ga(n,n.return)),e.flags&32){i=e.stateNode;try{tl(i,"")}catch(fe){tt(e,e.return,fe)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,vf(e,i,n!==null?n.memoizedProps:i)),a&1024&&(xf=!0);break;case 6:if(Rn(t,e),Dn(e),a&4){if(e.stateNode===null)throw Error(c(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(fe){tt(e,e.return,fe)}}break;case 3:if(Lr=null,i=Ta,Ta=zr(t.containerInfo),Rn(t,e),Ta=i,Dn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Qs(t.containerInfo)}catch(fe){tt(e,e.return,fe)}xf&&(xf=!1,_m(e));break;case 4:a=Ta,Ta=zr(e.stateNode.containerInfo),Rn(t,e),Dn(e),Ta=a;break;case 12:Rn(t,e),Dn(e);break;case 31:Rn(t,e),Dn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,wr(e,a)));break;case 13:Rn(t,e),Dn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Er=Nt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,wr(e,a)));break;case 22:i=e.memoizedState!==null;var x=n!==null&&n.memoizedState!==null,U=Sl,H=Kt;if(Sl=U||i,Kt=H||x,Rn(t,e),Kt=H,Sl=U,Dn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||x||Sl||Kt||$i(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){x=n=t;try{if(s=x.stateNode,i)d=s.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=x.stateNode;var V=x.memoizedProps.style,D=V!=null&&V.hasOwnProperty("display")?V.display:null;g.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(fe){tt(x,x.return,fe)}}}else if(t.tag===6){if(n===null){x=t;try{x.stateNode.nodeValue=i?"":x.memoizedProps}catch(fe){tt(x,x.return,fe)}}}else if(t.tag===18){if(n===null){x=t;try{var O=x.stateNode;i?dp(O,!0):dp(x.stateNode,!1)}catch(fe){tt(x,x.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,wr(e,n))));break;case 19:Rn(t,e),Dn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,wr(e,a)));break;case 30:break;case 21:break;default:Rn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(mm(a)){n=a;break}a=a.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var i=n.stateNode,s=bf(e);xr(e,s,i);break;case 5:var d=n.stateNode;n.flags&32&&(tl(d,""),n.flags&=-33);var g=bf(e);xr(e,g,d);break;case 3:case 4:var x=n.stateNode.containerInfo,U=bf(e);Sf(e,U,x);break;default:throw Error(c(161))}}catch(H){tt(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _m(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_m(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ym(e,t.alternate,t),t=t.sibling}function $i(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ti(4,t,t.return),$i(t);break;case 1:Ga(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&dm(t,t.return,n),$i(t);break;case 27:so(t.stateNode);case 26:case 5:Ga(t,t.return),$i(t);break;case 22:t.memoizedState===null&&$i(t);break;case 30:$i(t);break;default:$i(t)}e=e.sibling}}function _l(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,d=s.flags;switch(s.tag){case 0:case 11:case 15:_l(i,s,n),$c(4,s);break;case 1:if(_l(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(U){tt(a,a.return,U)}if(a=s,i=a.updateQueue,i!==null){var g=a.stateNode;try{var x=i.shared.hiddenCallbacks;if(x!==null)for(i.shared.hiddenCallbacks=null,i=0;i<x.length;i++)eh(x[i],g)}catch(U){tt(a,a.return,U)}}n&&d&64&&fm(s),Fc(s,s.return);break;case 27:pm(s);case 26:case 5:_l(i,s,n),n&&a===null&&d&4&&hm(s),Fc(s,s.return);break;case 12:_l(i,s,n);break;case 31:_l(i,s,n),n&&d&4&&Sm(i,s);break;case 13:_l(i,s,n),n&&d&4&&xm(i,s);break;case 22:s.memoizedState===null&&_l(i,s,n),Fc(s,s.return);break;case 30:break;default:_l(i,s,n)}t=t.sibling}}function wf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&He(n))}function _f(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&He(e))}function Aa(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Em(e,t,n,a),t=t.sibling}function Em(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Aa(e,t,n,a),i&2048&&$c(9,t);break;case 1:Aa(e,t,n,a);break;case 3:Aa(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&He(e)));break;case 12:if(i&2048){Aa(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,d=s.id,g=s.onPostCommit;typeof g=="function"&&g(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){tt(t,t.return,x)}}else Aa(e,t,n,a);break;case 31:Aa(e,t,n,a);break;case 13:Aa(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,d=t.alternate,t.memoizedState!==null?s._visibility&2?Aa(e,t,n,a):Wc(e,t):s._visibility&2?Aa(e,t,n,a):(s._visibility|=2,zs(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&wf(d,t);break;case 24:Aa(e,t,n,a),i&2048&&_f(t.alternate,t);break;default:Aa(e,t,n,a)}}function zs(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,d=t,g=n,x=a,U=d.flags;switch(d.tag){case 0:case 11:case 15:zs(s,d,g,x,i),$c(8,d);break;case 23:break;case 22:var H=d.stateNode;d.memoizedState!==null?H._visibility&2?zs(s,d,g,x,i):Wc(s,d):(H._visibility|=2,zs(s,d,g,x,i)),i&&U&2048&&wf(d.alternate,d);break;case 24:zs(s,d,g,x,i),i&&U&2048&&_f(d.alternate,d);break;default:zs(s,d,g,x,i)}t=t.sibling}}function Wc(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Wc(n,a),i&2048&&wf(a.alternate,a);break;case 24:Wc(n,a),i&2048&&_f(a.alternate,a);break;default:Wc(n,a)}t=t.sibling}}var Pc=8192;function Bs(e,t,n){if(e.subtreeFlags&Pc)for(e=e.child;e!==null;)Nm(e,t,n),e=e.sibling}function Nm(e,t,n){switch(e.tag){case 26:Bs(e,t,n),e.flags&Pc&&e.memoizedState!==null&&uv(n,Ta,e.memoizedState,e.memoizedProps);break;case 5:Bs(e,t,n);break;case 3:case 4:var a=Ta;Ta=zr(e.stateNode.containerInfo),Bs(e,t,n),Ta=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Pc,Pc=16777216,Bs(e,t,n),Pc=a):Bs(e,t,n));break;default:Bs(e,t,n)}}function Tm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function eo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];$t=a,Cm(a,e)}Tm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Am(e),e=e.sibling}function Am(e){switch(e.tag){case 0:case 11:case 15:eo(e),e.flags&2048&&ti(9,e,e.return);break;case 3:eo(e);break;case 12:eo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,_r(e)):eo(e);break;default:eo(e)}}function _r(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];$t=a,Cm(a,e)}Tm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ti(8,t,t.return),_r(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,_r(t));break;default:_r(t)}e=e.sibling}}function Cm(e,t){for(;$t!==null;){var n=$t;switch(n.tag){case 0:case 11:case 15:ti(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:He(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,$t=a;else e:for(n=e;$t!==null;){a=$t;var i=a.sibling,s=a.return;if(vm(a),a===n){$t=null;break e}if(i!==null){i.return=s,$t=i;break e}$t=s}}}var Ny={getCacheForType:function(e){var t=Lt(F),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Lt(F).controller.signal}},Ty=typeof WeakMap=="function"?WeakMap:Map,We=0,ht=null,Be=null,qe=0,et=0,Zn=null,ni=!1,Ls=!1,Ef=!1,El=0,jt=0,ai=0,Fi=0,Nf=0,Vn=0,Hs=0,to=null,On=null,Tf=!1,Er=0,jm=0,Nr=1/0,Tr=null,li=null,Gt=0,ii=null,qs=null,Nl=0,Af=0,Cf=null,Mm=null,no=0,jf=null;function Xn(){return(We&2)!==0&&qe!==0?qe&-qe:A.T!==null?kf():$n()}function Um(){if(Vn===0)if((qe&536870912)===0||Me){var e=Wt;Wt<<=1,(Wt&3932160)===0&&(Wt=262144),Vn=e}else Vn=536870912;return e=Yn.current,e!==null&&(e.flags|=32),Vn}function kn(e,t,n){(e===ht&&(et===2||et===9)||e.cancelPendingCommit!==null)&&(Ks(e,0),si(e,qe,Vn,!1)),Cn(e,n),((We&2)===0||e!==ht)&&(e===ht&&((We&2)===0&&(Fi|=n),jt===4&&si(e,qe,Vn,!1)),Za(e))}function Rm(e,t,n){if((We&6)!==0)throw Error(c(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||pa(e,t),i=a?jy(e,t):Uf(e,t,!0),s=a;do{if(i===0){Ls&&!a&&si(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!Ay(n)){i=Uf(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var g=e;i=to;var x=g.current.memoizedState.isDehydrated;if(x&&(Ks(g,d).flags|=256),d=Uf(g,d,!1),d!==2){if(Ef&&!x){g.errorRecoveryDisabledLanes|=s,Fi|=s,i=4;break e}s=On,On=i,s!==null&&(On===null?On=s:On.push.apply(On,s))}i=d}if(s=!1,i!==2)continue}}if(i===1){Ks(e,0),si(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:si(a,t,Vn,!ni);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(i=Er+300-Nt(),10<i)){if(si(a,t,Vn,!ni),bt(a,0,!0)!==0)break e;Nl=t,a.timeoutHandle=rp(Dm.bind(null,a,n,On,Tr,Tf,t,Vn,Fi,Hs,ni,s,"Throttled",-0,0),i);break e}Dm(a,n,On,Tr,Tf,t,Vn,Fi,Hs,ni,s,null,-0,0)}}break}while(!0);Za(e)}function Dm(e,t,n,a,i,s,d,g,x,U,H,V,D,O){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},Nm(t,s,V);var fe=(s&62914560)===s?Er-Nt():(s&4194048)===s?jm-Nt():0;if(fe=fv(V,fe),fe!==null){Nl=s,e.cancelPendingCommit=fe(Km.bind(null,e,t,s,n,a,i,d,g,x,H,V,null,D,O)),si(e,s,d,!U);return}}Km(e,t,s,n,a,i,d,g,x)}function Ay(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!un(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function si(e,t,n,a){t&=~Nf,t&=~Fi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-xt(i),d=1<<s;a[s]=-1,i&=~d}n!==0&&ga(e,n,t)}function Ar(){return(We&6)===0?(ao(0),!1):!0}function Mf(){if(Be!==null){if(et===0)var e=Be.return;else e=Be,ia=qa=null,Vu(e),Us=null,Hc=0,e=Be;for(;e!==null;)um(e.alternate,e),e=e.return;Be=null}}function Ks(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Qy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Nl=0,Mf(),ht=e,Be=n=xa(e.current,null),qe=t,et=0,Zn=null,ni=!1,Ls=pa(e,t),Ef=!1,Hs=Vn=Nf=Fi=ai=jt=0,On=to=null,Tf=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-xt(a),s=1<<i;t|=e[i],a&=~s}return El=t,Hi(),n}function Om(e,t){Te=null,A.H=Qc,t===Ms||t===nr?(t=$d(),et=3):t===Du?(t=$d(),et=4):et=t===of?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Zn=t,Be===null&&(jt=1,gr(e,yn(t,e.current)))}function km(){var e=Yn.current;return e===null?!0:(qe&4194048)===qe?ca===null:(qe&62914560)===qe||(qe&536870912)!==0?e===ca:!1}function zm(){var e=A.H;return A.H=Qc,e===null?Qc:e}function Bm(){var e=A.A;return A.A=Ny,e}function Cr(){jt=4,ni||(qe&4194048)!==qe&&Yn.current!==null||(Ls=!0),(ai&134217727)===0&&(Fi&134217727)===0||ht===null||si(ht,qe,Vn,!1)}function Uf(e,t,n){var a=We;We|=2;var i=zm(),s=Bm();(ht!==e||qe!==t)&&(Tr=null,Ks(e,t)),t=!1;var d=jt;e:do try{if(et!==0&&Be!==null){var g=Be,x=Zn;switch(et){case 8:Mf(),d=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(t=!0);var U=et;if(et=0,Zn=null,Ys(e,g,x,U),n&&Ls){d=0;break e}break;default:U=et,et=0,Zn=null,Ys(e,g,x,U)}}Cy(),d=jt;break}catch(H){Om(e,H)}while(!0);return t&&e.shellSuspendCounter++,ia=qa=null,We=a,A.H=i,A.A=s,Be===null&&(ht=null,qe=0,Hi()),d}function Cy(){for(;Be!==null;)Lm(Be)}function jy(e,t){var n=We;We|=2;var a=zm(),i=Bm();ht!==e||qe!==t?(Tr=null,Nr=Nt()+500,Ks(e,t)):Ls=pa(e,t);e:do try{if(et!==0&&Be!==null){t=Be;var s=Zn;t:switch(et){case 1:et=0,Zn=null,Ys(e,t,s,1);break;case 2:case 9:if(Jd(s)){et=0,Zn=null,Hm(t);break}t=function(){et!==2&&et!==9||ht!==e||(et=7),Za(e)},s.then(t,t);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Jd(s)?(et=0,Zn=null,Hm(t)):(et=0,Zn=null,Ys(e,t,s,7));break;case 5:var d=null;switch(Be.tag){case 26:d=Be.memoizedState;case 5:case 27:var g=Be;if(d?Ep(d):g.stateNode.complete){et=0,Zn=null;var x=g.sibling;if(x!==null)Be=x;else{var U=g.return;U!==null?(Be=U,jr(U)):Be=null}break t}}et=0,Zn=null,Ys(e,t,s,5);break;case 6:et=0,Zn=null,Ys(e,t,s,6);break;case 8:Mf(),jt=6;break e;default:throw Error(c(462))}}My();break}catch(H){Om(e,H)}while(!0);return ia=qa=null,A.H=a,A.A=i,We=n,Be!==null?0:(ht=null,qe=0,Hi(),jt)}function My(){for(;Be!==null&&!Si();)Lm(Be)}function Lm(e){var t=om(e.alternate,e,El);e.memoizedProps=e.pendingProps,t===null?jr(e):Be=t}function Hm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=nm(n,t,t.pendingProps,t.type,void 0,qe);break;case 11:t=nm(n,t,t.pendingProps,t.type.render,t.ref,qe);break;case 5:Vu(t);default:um(n,t),t=Be=Oc(t,El),t=om(n,t,El)}e.memoizedProps=e.pendingProps,t===null?jr(e):Be=t}function Ys(e,t,n,a){ia=qa=null,Vu(t),Us=null,Hc=0;var i=t.return;try{if(vy(e,i,t,n,qe)){jt=1,gr(e,yn(n,e.current)),Be=null;return}}catch(s){if(i!==null)throw Be=i,s;jt=1,gr(e,yn(n,e.current)),Be=null;return}t.flags&32768?(Me||a===1?e=!0:Ls||(qe&536870912)!==0?e=!1:(ni=e=!0,(a===2||a===9||a===3||a===6)&&(a=Yn.current,a!==null&&a.tag===13&&(a.flags|=16384))),qm(t,e)):jr(t)}function jr(e){var t=e;do{if((t.flags&32768)!==0){qm(t,ni);return}e=t.return;var n=xy(t.alternate,t,El);if(n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);jt===0&&(jt=5)}function qm(e,t){do{var n=wy(e.alternate,e);if(n!==null){n.flags&=32767,Be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Be=e;return}Be=e=n}while(e!==null);jt=6,Be=null}function Km(e,t,n,a,i,s,d,g,x){e.cancelPendingCommit=null;do Mr();while(Gt!==0);if((We&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(s=t.lanes|t.childLanes,s|=ws,Bt(e,n,s,d,g,x),e===ht&&(Be=ht=null,qe=0),qs=t,ii=e,Nl=n,Af=s,Cf=i,Mm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Oy(Zt,function(){return Xm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=A.T,A.T=null,i=z.p,z.p=2,d=We,We|=4;try{_y(e,t,n)}finally{We=d,z.p=i,A.T=a}}Gt=1,Ym(),Gm(),Zm()}}function Ym(){if(Gt===1){Gt=0;var e=ii,t=qs,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=A.T,A.T=null;var a=z.p;z.p=2;var i=We;We|=4;try{wm(t,e);var s=Gf,d=jc(e.containerInfo),g=s.focusedElem,x=s.selectionRange;if(d!==g&&g&&g.ownerDocument&&Go(g.ownerDocument.documentElement,g)){if(x!==null&&bs(g)){var U=x.start,H=x.end;if(H===void 0&&(H=U),"selectionStart"in g)g.selectionStart=U,g.selectionEnd=Math.min(H,g.value.length);else{var V=g.ownerDocument||document,D=V&&V.defaultView||window;if(D.getSelection){var O=D.getSelection(),fe=g.textContent.length,Se=Math.min(x.start,fe),ot=x.end===void 0?Se:Math.min(x.end,fe);!O.extend&&Se>ot&&(d=ot,ot=Se,Se=d);var j=Cc(g,Se),E=Cc(g,ot);if(j&&E&&(O.rangeCount!==1||O.anchorNode!==j.node||O.anchorOffset!==j.offset||O.focusNode!==E.node||O.focusOffset!==E.offset)){var M=V.createRange();M.setStart(j.node,j.offset),O.removeAllRanges(),Se>ot?(O.addRange(M),O.extend(E.node,E.offset)):(M.setEnd(E.node,E.offset),O.addRange(M))}}}}for(V=[],O=g;O=O.parentNode;)O.nodeType===1&&V.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<V.length;g++){var G=V[g];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Yr=!!Yf,Gf=Yf=null}finally{We=i,z.p=a,A.T=n}}e.current=t,Gt=2}}function Gm(){if(Gt===2){Gt=0;var e=ii,t=qs,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=A.T,A.T=null;var a=z.p;z.p=2;var i=We;We|=4;try{ym(e,t.alternate,t)}finally{We=i,z.p=a,A.T=n}}Gt=3}}function Zm(){if(Gt===4||Gt===3){Gt=0,as();var e=ii,t=qs,n=Nl,a=Mm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Gt=5:(Gt=0,qs=ii=null,Vm(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(li=null),Vt(n),t=t.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(hn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=A.T,i=z.p,z.p=2,A.T=null;try{for(var s=e.onRecoverableError,d=0;d<a.length;d++){var g=a[d];s(g.value,{componentStack:g.stack})}}finally{A.T=t,z.p=i}}(Nl&3)!==0&&Mr(),Za(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===jf?no++:(no=0,jf=e):no=0,ao(0)}}function Vm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,He(t)))}function Mr(){return Ym(),Gm(),Zm(),Xm()}function Xm(){if(Gt!==5)return!1;var e=ii,t=Af;Af=0;var n=Vt(Nl),a=A.T,i=z.p;try{z.p=32>n?32:n,A.T=null,n=Cf,Cf=null;var s=ii,d=Nl;if(Gt=0,qs=ii=null,Nl=0,(We&6)!==0)throw Error(c(331));var g=We;if(We|=4,Am(s.current),Em(s,s.current,d,n),We=g,ao(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(hn,s)}catch{}return!0}finally{z.p=i,A.T=a,Vm(e,t)}}function Qm(e,t,n){t=yn(n,t),t=cf(e.stateNode,t,2),e=Wl(e,t,2),e!==null&&(Cn(e,2),Za(e))}function tt(e,t,n){if(e.tag===3)Qm(e,e,n);else for(;t!==null;){if(t.tag===3){Qm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(li===null||!li.has(a))){e=yn(n,e),n=Jh(2),a=Wl(t,n,2),a!==null&&(Ih(n,a,t,e),Cn(a,2),Za(a));break}}t=t.return}}function Rf(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Ty;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Ef=!0,i.add(n),e=Uy.bind(null,e,t,n),t.then(e,e))}function Uy(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ht===e&&(qe&n)===n&&(jt===4||jt===3&&(qe&62914560)===qe&&300>Nt()-Er?(We&2)===0&&Ks(e,0):Nf|=n,Hs===qe&&(Hs=0)),Za(e)}function Jm(e,t){t===0&&(t=Hn()),e=dl(e,t),e!==null&&(Cn(e,t),Za(e))}function Ry(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jm(e,n)}function Dy(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(c(314))}a!==null&&a.delete(t),Jm(e,n)}function Oy(e,t){return ha(e,t)}var Ur=null,Gs=null,Df=!1,Rr=!1,Of=!1,ci=0;function Za(e){e!==Gs&&e.next===null&&(Gs===null?Ur=Gs=e:Gs=Gs.next=e),Rr=!0,Df||(Df=!0,zy())}function ao(e,t){if(!Of&&Rr){Of=!0;do for(var n=!1,a=Ur;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var d=a.suspendedLanes,g=a.pingedLanes;s=(1<<31-xt(42|e)+1)-1,s&=i&~(d&~g),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Wm(a,s))}else s=qe,s=bt(a,a===ht?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||pa(a,s)||(n=!0,Wm(a,s));a=a.next}while(n);Of=!1}}function ky(){Im()}function Im(){Rr=Df=!1;var e=0;ci!==0&&Xy()&&(e=ci);for(var t=Nt(),n=null,a=Ur;a!==null;){var i=a.next,s=$m(a,t);s===0?(a.next=null,n===null?Ur=i:n.next=i,i===null&&(Gs=n)):(n=a,(e!==0||(s&3)!==0)&&(Rr=!0)),a=i}Gt!==0&&Gt!==5||ao(e),ci!==0&&(ci=0)}function $m(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var d=31-xt(s),g=1<<d,x=i[d];x===-1?((g&n)===0||(g&a)!==0)&&(i[d]=ke(g,t)):x<=t&&(e.expiredLanes|=g),s&=~g}if(t=ht,n=qe,n=bt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(et===2||et===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&In(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||pa(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&In(a),Vt(n)){case 2:case 8:n=Qe;break;case 32:n=Zt;break;case 268435456:n=k;break;default:n=Zt}return a=Fm.bind(null,e),n=ha(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&In(a),e.callbackPriority=2,e.callbackNode=null,2}function Fm(e,t){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Mr()&&e.callbackNode!==n)return null;var a=qe;return a=bt(e,e===ht?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Rm(e,a,t),$m(e,Nt()),e.callbackNode!=null&&e.callbackNode===n?Fm.bind(null,e):null)}function Wm(e,t){if(Mr())return null;Rm(e,t,!0)}function zy(){Jy(function(){(We&6)!==0?ha(Ft,ky):Im()})}function kf(){if(ci===0){var e=P;e===0&&(e=xe,xe<<=1,(xe&261888)===0&&(xe=256)),ci=e}return ci}function Pm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:is(""+e)}function ep(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function By(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var s=Pm((i[at]||null).action),d=a.submitter;d&&(t=(t=d[at]||null)?Pm(t.formAction):d.getAttribute("formAction"),t!==null&&(s=t,d=null));var g=new Ai("action","action",null,a,i);e.push({event:g,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ci!==0){var x=d?ep(i,d):new FormData(i);ef(n,{pending:!0,data:x,method:i.method,action:s},null,x)}}else typeof s=="function"&&(g.preventDefault(),x=d?ep(i,d):new FormData(i),ef(n,{pending:!0,data:x,method:i.method,action:s},s,x))},currentTarget:i}]})}}for(var zf=0;zf<Uc.length;zf++){var Bf=Uc[zf],Ly=Bf.toLowerCase(),Hy=Bf[0].toUpperCase()+Bf.slice(1);Tt(Ly,"on"+Hy)}Tt(Mc,"onAnimationEnd"),Tt(Zo,"onAnimationIteration"),Tt(Vo,"onAnimationStart"),Tt("dblclick","onDoubleClick"),Tt("focusin","onFocus"),Tt("focusout","onBlur"),Tt(Vl,"onTransitionRun"),Tt(Xo,"onTransitionStart"),Tt(Uu,"onTransitionCancel"),Tt(Qo,"onTransitionEnd"),Kn("onMouseEnter",["mouseout","mouseover"]),Kn("onMouseLeave",["mouseout","mouseover"]),Kn("onPointerEnter",["pointerout","pointerover"]),Kn("onPointerLeave",["pointerout","pointerover"]),Qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lo));function tp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var d=a.length-1;0<=d;d--){var g=a[d],x=g.instance,U=g.currentTarget;if(g=g.listener,x!==s&&i.isPropagationStopped())break e;s=g,i.currentTarget=U;try{s(i)}catch(H){Li(H)}i.currentTarget=null,s=x}else for(d=0;d<a.length;d++){if(g=a[d],x=g.instance,U=g.currentTarget,g=g.listener,x!==s&&i.isPropagationStopped())break e;s=g,i.currentTarget=U;try{s(i)}catch(H){Li(H)}i.currentTarget=null,s=x}}}}function Le(e,t){var n=t[jn];n===void 0&&(n=t[jn]=new Set);var a=e+"__bubble";n.has(a)||(np(t,e,2,!1),n.add(a))}function Lf(e,t,n){var a=0;t&&(a|=4),np(n,e,a,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Hf(e){if(!e[Dr]){e[Dr]=!0,Dt.forEach(function(n){n!=="selectionchange"&&(qy.has(n)||Lf(n,!1,e),Lf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dr]||(t[Dr]=!0,Lf("selectionchange",!1,t))}}function np(e,t,n,a){switch(Up(t)){case 2:var i=mv;break;case 8:i=pv;break;default:i=ed}n=i.bind(null,t,n,e),i=void 0,!rc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qf(e,t,n,a,i){var s=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var g=a.stateNode.containerInfo;if(g===i)break;if(d===4)for(d=a.return;d!==null;){var x=d.tag;if((x===3||x===4)&&d.stateNode.containerInfo===i)return;d=d.return}for(;g!==null;){if(d=J(g),d===null)return;if(x=d.tag,x===5||x===6||x===26||x===27){a=s=d;continue e}g=g.parentNode}}a=a.return}nl(function(){var U=s,H=Ni(n),V=[];e:{var D=Jo.get(e);if(D!==void 0){var O=Ai,fe=e;switch(e){case"keypress":if(al(n)===0)break e;case"keydown":case"keyup":O=Ri;break;case"focusin":fe="focus",O=hc;break;case"focusout":fe="blur",O=hc;break;case"beforeblur":case"afterblur":O=hc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=us;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=ju;break;case Mc:case Zo:case Vo:O=Nu;break;case Qo:O=vc;break;case"scroll":case"scrollend":O=os;break;case"wheel":O=Sc;break;case"copy":case"cut":case"paste":O=Uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Yl;break;case"toggle":case"beforetoggle":O=sl}var Se=(t&4)!==0,ot=!Se&&(e==="scroll"||e==="scrollend"),j=Se?D!==null?D+"Capture":null:D;Se=[];for(var E=U,M;E!==null;){var G=E;if(M=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||M===null||j===null||(G=ql(E,j),G!=null&&Se.push(io(E,G,M))),ot)break;E=E.return}0<Se.length&&(D=new O(D,fe,null,n,H),V.push({event:D,listeners:Se}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",D&&n!==Ei&&(fe=n.relatedTarget||n.fromElement)&&(J(fe)||fe[cn]))break e;if((O||D)&&(D=H.window===H?H:(D=H.ownerDocument)?D.defaultView||D.parentWindow:window,O?(fe=n.relatedTarget||n.toElement,O=U,fe=fe?J(fe):null,fe!==null&&(ot=m(fe),Se=fe.tag,fe!==ot||Se!==5&&Se!==27&&Se!==6)&&(fe=null)):(O=null,fe=U),O!==fe)){if(Se=fc,G="onMouseLeave",j="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(Se=Yl,G="onPointerLeave",j="onPointerEnter",E="pointer"),ot=O==null?D:ze(O),M=fe==null?D:ze(fe),D=new Se(G,E+"leave",O,n,H),D.target=ot,D.relatedTarget=M,G=null,J(H)===U&&(Se=new Se(j,E+"enter",fe,n,H),Se.target=M,Se.relatedTarget=ot,G=Se),ot=G,O&&fe)t:{for(Se=Ky,j=O,E=fe,M=0,G=j;G;G=Se(G))M++;G=0;for(var ye=E;ye;ye=Se(ye))G++;for(;0<M-G;)j=Se(j),M--;for(;0<G-M;)E=Se(E),G--;for(;M--;){if(j===E||E!==null&&j===E.alternate){Se=j;break t}j=Se(j),E=Se(E)}Se=null}else Se=null;O!==null&&ap(V,D,O,Se,!1),fe!==null&&ot!==null&&ap(V,ot,fe,Se,!0)}}e:{if(D=U?ze(U):window,O=D.nodeName&&D.nodeName.toLowerCase(),O==="select"||O==="input"&&D.type==="file")var Ie=gs;else if(Ec(D))if(Ho)Ie=ki;else{Ie=Mu;var pe=Ko}else O=D.nodeName,!O||O.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?U&&oc(U.elementType)&&(Ie=gs):Ie=Ot;if(Ie&&(Ie=Ie(e,U))){Bo(V,Ie,n,H);break e}pe&&pe(e,D,U),e==="focusout"&&U&&D.type==="number"&&U.memoizedProps.value!=null&&_i(D,"number",D.value)}switch(pe=U?ze(U):window,e){case"focusin":(Ec(pe)||pe.contentEditable==="true")&&(ka=pe,mn=U,Bi=null);break;case"focusout":Bi=mn=ka=null;break;case"mousedown":Ss=!0;break;case"contextmenu":case"mouseup":case"dragend":Ss=!1,za(V,n,H);break;case"selectionchange":if(zi)break;case"keydown":case"keyup":za(V,n,H)}var Ce;if(ds)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else ol?cl(e,n)&&(Ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ke="onCompositionStart");Ke&&(Di&&n.locale!=="ko"&&(ol||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&ol&&(Ce=uc()):(ea=H,Ti="value"in ea?ea.value:ea.textContent,ol=!0)),pe=Or(U,Ke),0<pe.length&&(Ke=new fs(Ke,e,null,n,H),V.push({event:Ke,listeners:pe}),Ce?Ke.data=Ce:(Ce=wc(n),Ce!==null&&(Ke.data=Ce)))),(Ce=hs?zo(e,n):_c(e,n))&&(Ke=Or(U,"onBeforeInput"),0<Ke.length&&(pe=new fs("onBeforeInput","beforeinput",null,n,H),V.push({event:pe,listeners:Ke}),pe.data=Ce)),By(V,e,U,n,H)}tp(V,t)})}function io(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Or(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=ql(e,n),i!=null&&a.unshift(io(e,i,s)),i=ql(e,t),i!=null&&a.push(io(e,i,s))),e.tag===3)return a;e=e.return}return[]}function Ky(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ap(e,t,n,a,i){for(var s=t._reactName,d=[];n!==null&&n!==a;){var g=n,x=g.alternate,U=g.stateNode;if(g=g.tag,x!==null&&x===a)break;g!==5&&g!==26&&g!==27||U===null||(x=U,i?(U=ql(n,s),U!=null&&d.unshift(io(n,U,x))):i||(U=ql(n,s),U!=null&&d.push(io(n,U,x)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var Yy=/\r\n?/g,Gy=/\u0000|\uFFFD/g;function lp(e){return(typeof e=="string"?e:""+e).replace(Yy,`
`).replace(Gy,"")}function ip(e,t){return t=lp(t),lp(e)===t}function ct(e,t,n,a,i,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||tl(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&tl(e,""+a);break;case"className":xi(e,"class",a);break;case"tabIndex":xi(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(e,n,a);break;case"style":cc(e,a,s);break;case"data":if(t!=="object"){xi(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=is(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ct(e,t,"name",i.name,i,null),ct(e,t,"formEncType",i.formEncType,i,null),ct(e,t,"formMethod",i.formMethod,i,null),ct(e,t,"formTarget",i.formTarget,i,null)):(ct(e,t,"encType",i.encType,i,null),ct(e,t,"method",i.method,i,null),ct(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=is(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=ba);break;case"onScroll":a!=null&&Le("scroll",e);break;case"onScrollEnd":a!=null&&Le("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=is(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Le("beforetoggle",e),Le("toggle",e),kl(e,"popover",a);break;case"xlinkActuate":_t(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":_t(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":_t(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":_t(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":_t(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":_t(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":_t(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":_t(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":_t(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":kl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Mo.get(n)||n,kl(e,n,a))}}function Kf(e,t,n,a,i,s){switch(n){case"style":cc(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof a=="string"?tl(e,a):(typeof a=="number"||typeof a=="bigint")&&tl(e,""+a);break;case"onScroll":a!=null&&Le("scroll",e);break;case"onScrollEnd":a!=null&&Le("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!on.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[at]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):kl(e,n,a)}}}function tn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",e),Le("load",e);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:ct(e,t,s,d,n,null)}}i&&ct(e,t,"srcSet",n.srcSet,n,null),a&&ct(e,t,"src",n.src,n,null);return;case"input":Le("invalid",e);var g=s=d=i=null,x=null,U=null;for(a in n)if(n.hasOwnProperty(a)){var H=n[a];if(H!=null)switch(a){case"name":i=H;break;case"type":d=H;break;case"checked":x=H;break;case"defaultChecked":U=H;break;case"value":s=H;break;case"defaultValue":g=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(c(137,t));break;default:ct(e,t,a,H,n,null)}}Bl(e,s,g,x,U,d,i,!1);return;case"select":Le("invalid",e),a=d=s=null;for(i in n)if(n.hasOwnProperty(i)&&(g=n[i],g!=null))switch(i){case"value":s=g;break;case"defaultValue":d=g;break;case"multiple":a=g;default:ct(e,t,i,g,n,null)}t=s,n=d,e.multiple=!!a,t!=null?va(e,!!a,t,!1):n!=null&&va(e,!!a,n,!0);return;case"textarea":Le("invalid",e),s=i=a=null;for(d in n)if(n.hasOwnProperty(d)&&(g=n[d],g!=null))switch(d){case"value":a=g;break;case"defaultValue":i=g;break;case"children":s=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(c(91));break;default:ct(e,t,d,g,n,null)}ic(e,a,i,s);return;case"option":for(x in n)if(n.hasOwnProperty(x)&&(a=n[x],a!=null))switch(x){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ct(e,t,x,a,n,null)}return;case"dialog":Le("beforetoggle",e),Le("toggle",e),Le("cancel",e),Le("close",e);break;case"iframe":case"object":Le("load",e);break;case"video":case"audio":for(a=0;a<lo.length;a++)Le(lo[a],e);break;case"image":Le("error",e),Le("load",e);break;case"details":Le("toggle",e);break;case"embed":case"source":case"link":Le("error",e),Le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in n)if(n.hasOwnProperty(U)&&(a=n[U],a!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:ct(e,t,U,a,n,null)}return;default:if(oc(t)){for(H in n)n.hasOwnProperty(H)&&(a=n[H],a!==void 0&&Kf(e,t,H,a,n,void 0));return}}for(g in n)n.hasOwnProperty(g)&&(a=n[g],a!=null&&ct(e,t,g,a,n,null))}function Zy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,d=null,g=null,x=null,U=null,H=null;for(O in n){var V=n[O];if(n.hasOwnProperty(O)&&V!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":x=V;default:a.hasOwnProperty(O)||ct(e,t,O,null,a,V)}}for(var D in a){var O=a[D];if(V=n[D],a.hasOwnProperty(D)&&(O!=null||V!=null))switch(D){case"type":s=O;break;case"name":i=O;break;case"checked":U=O;break;case"defaultChecked":H=O;break;case"value":d=O;break;case"defaultValue":g=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(c(137,t));break;default:O!==V&&ct(e,t,D,O,a,V)}}ac(e,d,g,x,U,H,s,i);return;case"select":O=d=g=D=null;for(s in n)if(x=n[s],n.hasOwnProperty(s)&&x!=null)switch(s){case"value":break;case"multiple":O=x;default:a.hasOwnProperty(s)||ct(e,t,s,null,a,x)}for(i in a)if(s=a[i],x=n[i],a.hasOwnProperty(i)&&(s!=null||x!=null))switch(i){case"value":D=s;break;case"defaultValue":g=s;break;case"multiple":d=s;default:s!==x&&ct(e,t,i,s,a,x)}t=g,n=d,a=O,D!=null?va(e,!!n,D,!1):!!a!=!!n&&(t!=null?va(e,!!n,t,!0):va(e,!!n,n?[]:"",!1));return;case"textarea":O=D=null;for(g in n)if(i=n[g],n.hasOwnProperty(g)&&i!=null&&!a.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:ct(e,t,g,null,a,i)}for(d in a)if(i=a[d],s=n[d],a.hasOwnProperty(d)&&(i!=null||s!=null))switch(d){case"value":D=i;break;case"defaultValue":O=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(c(91));break;default:i!==s&&ct(e,t,d,i,a,s)}lc(e,D,O);return;case"option":for(var fe in n)if(D=n[fe],n.hasOwnProperty(fe)&&D!=null&&!a.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:ct(e,t,fe,null,a,D)}for(x in a)if(D=a[x],O=n[x],a.hasOwnProperty(x)&&D!==O&&(D!=null||O!=null))switch(x){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:ct(e,t,x,D,a,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in n)D=n[Se],n.hasOwnProperty(Se)&&D!=null&&!a.hasOwnProperty(Se)&&ct(e,t,Se,null,a,D);for(U in a)if(D=a[U],O=n[U],a.hasOwnProperty(U)&&D!==O&&(D!=null||O!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(c(137,t));break;default:ct(e,t,U,D,a,O)}return;default:if(oc(t)){for(var ot in n)D=n[ot],n.hasOwnProperty(ot)&&D!==void 0&&!a.hasOwnProperty(ot)&&Kf(e,t,ot,void 0,a,D);for(H in a)D=a[H],O=n[H],!a.hasOwnProperty(H)||D===O||D===void 0&&O===void 0||Kf(e,t,H,D,a,O);return}}for(var j in n)D=n[j],n.hasOwnProperty(j)&&D!=null&&!a.hasOwnProperty(j)&&ct(e,t,j,null,a,D);for(V in a)D=a[V],O=n[V],!a.hasOwnProperty(V)||D===O||D==null&&O==null||ct(e,t,V,D,a,O)}function sp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],s=i.transferSize,d=i.initiatorType,g=i.duration;if(s&&g&&sp(d)){for(d=0,g=i.responseEnd,a+=1;a<n.length;a++){var x=n[a],U=x.startTime;if(U>g)break;var H=x.transferSize,V=x.initiatorType;H&&sp(V)&&(x=x.responseEnd,d+=H*(x<g?1:(g-U)/(x-U)))}if(--a,t+=8*(s+d)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yf=null,Gf=null;function kr(e){return e.nodeType===9?e:e.ownerDocument}function cp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function op(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vf=null;function Xy(){var e=window.event;return e&&e.type==="popstate"?e===Vf?!1:(Vf=e,!0):(Vf=null,!1)}var rp=typeof setTimeout=="function"?setTimeout:void 0,Qy=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,Jy=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(e){return up.resolve(null).then(e).catch(Iy)}:rp;function Iy(e){setTimeout(function(){throw e})}function oi(e){return e==="head"}function fp(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Qs(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")so(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,so(n);for(var s=n.firstChild;s;){var d=s.nextSibling,g=s.nodeName;s[ue]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=d}}else n==="body"&&so(e.ownerDocument.body);n=i}while(n);Qs(t)}function dp(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Xf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Xf(n),w(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function $y(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=oa(e.nextSibling),e===null)break}return null}function Fy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=oa(e.nextSibling),e===null))return null;return e}function hp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=oa(e.nextSibling),e===null))return null;return e}function Qf(e){return e.data==="$?"||e.data==="$~"}function Jf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Wy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function oa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var If=null;function mp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return oa(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function pp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function gp(e,t,n){switch(t=kr(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function so(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);w(e)}var ra=new Map,yp=new Set;function zr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tl=z.d;z.d={f:Py,r:ev,D:tv,C:nv,L:av,m:lv,X:sv,S:iv,M:cv};function Py(){var e=Tl.f(),t=Ar();return e||t}function ev(e){var t=oe(e);t!==null&&t.tag===5&&t.type==="form"?Oh(t):Tl.r(e)}var Zs=typeof document>"u"?null:document;function vp(e,t,n){var a=Zs;if(a&&typeof t=="string"&&t){var i=rn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),yp.has(i)||(yp.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),tn(t,"link",e),Ae(t),a.head.appendChild(t)))}}function tv(e){Tl.D(e),vp("dns-prefetch",e,null)}function nv(e,t){Tl.C(e,t),vp("preconnect",e,t)}function av(e,t,n){Tl.L(e,t,n);var a=Zs;if(a&&e&&t){var i='link[rel="preload"][as="'+rn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+rn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+rn(n.imageSizes)+'"]')):i+='[href="'+rn(e)+'"]';var s=i;switch(t){case"style":s=Vs(e);break;case"script":s=Xs(e)}ra.has(s)||(e=C({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ra.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(co(s))||t==="script"&&a.querySelector(oo(s))||(t=a.createElement("link"),tn(t,"link",e),Ae(t),a.head.appendChild(t)))}}function lv(e,t){Tl.m(e,t);var n=Zs;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+rn(a)+'"][href="'+rn(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Xs(e)}if(!ra.has(s)&&(e=C({rel:"modulepreload",href:e},t),ra.set(s,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(oo(s)))return}a=n.createElement("link"),tn(a,"link",e),Ae(a),n.head.appendChild(a)}}}function iv(e,t,n){Tl.S(e,t,n);var a=Zs;if(a&&e){var i=yt(a).hoistableStyles,s=Vs(e);t=t||"default";var d=i.get(s);if(!d){var g={loading:0,preload:null};if(d=a.querySelector(co(s)))g.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ra.get(s))&&$f(e,n);var x=d=a.createElement("link");Ae(x),tn(x,"link",e),x._p=new Promise(function(U,H){x.onload=U,x.onerror=H}),x.addEventListener("load",function(){g.loading|=1}),x.addEventListener("error",function(){g.loading|=2}),g.loading|=4,Br(d,t,a)}d={type:"stylesheet",instance:d,count:1,state:g},i.set(s,d)}}}function sv(e,t){Tl.X(e,t);var n=Zs;if(n&&e){var a=yt(n).hoistableScripts,i=Xs(e),s=a.get(i);s||(s=n.querySelector(oo(i)),s||(e=C({src:e,async:!0},t),(t=ra.get(i))&&Ff(e,t),s=n.createElement("script"),Ae(s),tn(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function cv(e,t){Tl.M(e,t);var n=Zs;if(n&&e){var a=yt(n).hoistableScripts,i=Xs(e),s=a.get(i);s||(s=n.querySelector(oo(i)),s||(e=C({src:e,async:!0,type:"module"},t),(t=ra.get(i))&&Ff(e,t),s=n.createElement("script"),Ae(s),tn(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function bp(e,t,n,a){var i=(i=ve.current)?zr(i):null;if(!i)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Vs(n.href),n=yt(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Vs(n.href);var s=yt(i).hoistableStyles,d=s.get(e);if(d||(i=i.ownerDocument||i,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,d),(s=i.querySelector(co(e)))&&!s._p&&(d.instance=s,d.state.loading=5),ra.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ra.set(e,n),s||ov(i,e,n,d.state))),t&&a===null)throw Error(c(528,""));return d}if(t&&a!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xs(n),n=yt(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Vs(e){return'href="'+rn(e)+'"'}function co(e){return'link[rel="stylesheet"]['+e+"]"}function Sp(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function ov(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),tn(t,"link",n),Ae(t),e.head.appendChild(t))}function Xs(e){return'[src="'+rn(e)+'"]'}function oo(e){return"script[async]"+e}function xp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+rn(n.href)+'"]');if(a)return t.instance=a,Ae(a),a;var i=C({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ae(a),tn(a,"style",i),Br(a,n.precedence,e),t.instance=a;case"stylesheet":i=Vs(n.href);var s=e.querySelector(co(i));if(s)return t.state.loading|=4,t.instance=s,Ae(s),s;a=Sp(n),(i=ra.get(i))&&$f(a,i),s=(e.ownerDocument||e).createElement("link"),Ae(s);var d=s;return d._p=new Promise(function(g,x){d.onload=g,d.onerror=x}),tn(s,"link",a),t.state.loading|=4,Br(s,n.precedence,e),t.instance=s;case"script":return s=Xs(n.src),(i=e.querySelector(oo(s)))?(t.instance=i,Ae(i),i):(a=n,(i=ra.get(s))&&(a=C({},n),Ff(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ae(i),tn(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Br(a,n.precedence,e));return t.instance}function Br(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,d=0;d<a.length;d++){var g=a[d];if(g.dataset.precedence===t)s=g;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function $f(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ff(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Lr=null;function wp(e,t,n){if(Lr===null){var a=new Map,i=Lr=new Map;i.set(n,a)}else i=Lr,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[ue]||s[nt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var d=s.getAttribute(t)||"";d=e+d;var g=a.get(d);g?g.push(s):a.set(d,[s])}}return a}function _p(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function rv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ep(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function uv(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=Vs(a.href),s=t.querySelector(co(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Hr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Ae(s);return}s=t.ownerDocument||t,a=Sp(a),(i=ra.get(i))&&$f(a,i),s=s.createElement("link"),Ae(s);var d=s;d._p=new Promise(function(g,x){d.onload=g,d.onerror=x}),tn(s,"link",a),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Hr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Wf=0;function fv(e,t){return e.stylesheets&&e.count===0&&Kr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Kr(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Wf===0&&(Wf=62500*Vy());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Kr(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Wf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Hr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qr=null;function Kr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qr=new Map,t.forEach(dv,e),qr=null,Hr.call(e))}function dv(e,t){if(!(t.state.loading&4)){var n=qr.get(e);if(n)var a=n.get(null);else{n=new Map,qr.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var d=i[s];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),a=d)}a&&n.set(null,a)}i=t.instance,d=i.getAttribute("data-precedence"),s=n.get(d)||a,s===a&&n.set(null,i),n.set(d,i),this.count++,a=Hr.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ro={$$typeof:me,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function hv(e,t,n,a,i,s,d,g,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Np(e,t,n,a,i,s,d,g,x,U,H,V){return e=new hv(e,t,n,d,x,U,H,V,g),t=1,s===!0&&(t|=24),s=gn(3,null,null,t),e.current=s,s.stateNode=e,t=ie(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},Ou(s),e}function Tp(e){return e?(e=hl,e):hl}function Ap(e,t,n,a,i,s){i=Tp(i),a.context===null?a.context=i:a.pendingContext=i,a=Fl(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=Wl(e,a,t),n!==null&&(kn(n,e,t),Kc(n,e,t))}function Cp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pf(e,t){Cp(e,t),(e=e.alternate)&&Cp(e,t)}function jp(e){if(e.tag===13||e.tag===31){var t=dl(e,67108864);t!==null&&kn(t,e,67108864),Pf(e,67108864)}}function Mp(e){if(e.tag===13||e.tag===31){var t=Xn();t=Ne(t);var n=dl(e,t);n!==null&&kn(n,e,t),Pf(e,t)}}var Yr=!0;function mv(e,t,n,a){var i=A.T;A.T=null;var s=z.p;try{z.p=2,ed(e,t,n,a)}finally{z.p=s,A.T=i}}function pv(e,t,n,a){var i=A.T;A.T=null;var s=z.p;try{z.p=8,ed(e,t,n,a)}finally{z.p=s,A.T=i}}function ed(e,t,n,a){if(Yr){var i=td(a);if(i===null)qf(e,t,a,Gr,n),Rp(e,a);else if(yv(i,e,t,n,a))a.stopPropagation();else if(Rp(e,a),t&4&&-1<gv.indexOf(e)){for(;i!==null;){var s=oe(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var d=sn(s.pendingLanes);if(d!==0){var g=s;for(g.pendingLanes|=2,g.entangledLanes|=2;d;){var x=1<<31-xt(d);g.entanglements[1]|=x,d&=~x}Za(s),(We&6)===0&&(Nr=Nt()+500,ao(0))}}break;case 31:case 13:g=dl(s,2),g!==null&&kn(g,s,2),Ar(),Pf(s,2)}if(s=td(a),s===null&&qf(e,t,a,Gr,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else qf(e,t,a,null,n)}}function td(e){return e=Ni(e),nd(e)}var Gr=null;function nd(e){if(Gr=null,e=J(e),e!==null){var t=m(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=y(t),e!==null)return e;e=null}else if(n===31){if(e=v(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gr=e,null}function Up(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case Ft:return 2;case Qe:return 8;case Zt:case ft:return 32;case k:return 268435456;default:return 32}default:return 32}}var ad=!1,ri=null,ui=null,fi=null,uo=new Map,fo=new Map,di=[],gv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rp(e,t){switch(e){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":uo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(t.pointerId)}}function ho(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=oe(t),t!==null&&jp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function yv(e,t,n,a,i){switch(t){case"focusin":return ri=ho(ri,e,t,n,a,i),!0;case"dragenter":return ui=ho(ui,e,t,n,a,i),!0;case"mouseover":return fi=ho(fi,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return uo.set(s,ho(uo.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,fo.set(s,ho(fo.get(s)||null,e,t,n,a,i)),!0}return!1}function Dp(e){var t=J(e.target);if(t!==null){var n=m(t);if(n!==null){if(t=n.tag,t===13){if(t=y(n),t!==null){e.blockedOn=t,Fn(e.priority,function(){Mp(n)});return}}else if(t===31){if(t=v(n),t!==null){e.blockedOn=t,Fn(e.priority,function(){Mp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=td(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Ei=a,n.target.dispatchEvent(a),Ei=null}else return t=oe(n),t!==null&&jp(t),e.blockedOn=n,!1;t.shift()}return!0}function Op(e,t,n){Zr(e)&&n.delete(t)}function vv(){ad=!1,ri!==null&&Zr(ri)&&(ri=null),ui!==null&&Zr(ui)&&(ui=null),fi!==null&&Zr(fi)&&(fi=null),uo.forEach(Op),fo.forEach(Op)}function Vr(e,t){e.blockedOn===t&&(e.blockedOn=null,ad||(ad=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,vv)))}var Xr=null;function kp(e){Xr!==e&&(Xr=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Xr===e&&(Xr=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(nd(a||n)===null)continue;break}var s=oe(n);s!==null&&(e.splice(t,3),t-=3,ef(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Qs(e){function t(x){return Vr(x,e)}ri!==null&&Vr(ri,e),ui!==null&&Vr(ui,e),fi!==null&&Vr(fi,e),uo.forEach(t),fo.forEach(t);for(var n=0;n<di.length;n++){var a=di[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<di.length&&(n=di[0],n.blockedOn===null);)Dp(n),n.blockedOn===null&&di.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],d=i[at]||null;if(typeof s=="function")d||kp(n);else if(d){var g=null;if(s&&s.hasAttribute("formAction")){if(i=s,d=s[at]||null)g=d.formAction;else if(nd(i)!==null)continue}else g=d.action;typeof g=="function"?n[a+1]=g:(n.splice(a,3),a-=3),kp(n)}}}function zp(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(d){return i=d})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function ld(e){this._internalRoot=e}Qr.prototype.render=ld.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,a=Xn();Ap(n,a,e,t,null,null)},Qr.prototype.unmount=ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ap(e.current,2,null,e,null,null),Ar(),t[cn]=null}};function Qr(e){this._internalRoot=e}Qr.prototype.unstable_scheduleHydration=function(e){if(e){var t=$n();e={blockedOn:null,target:e,priority:t};for(var n=0;n<di.length&&t!==0&&t<di[n].priority;n++);di.splice(n,0,e),n===0&&Dp(e)}};var Bp=l.version;if(Bp!=="19.2.4")throw Error(c(527,Bp,"19.2.4"));z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=T(t),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var bv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jr.isDisabled&&Jr.supportsFiber)try{hn=Jr.inject(bv),Ut=Jr}catch{}}return po.createRoot=function(e,t){if(!h(e))throw Error(c(299));var n=!1,a="",i=Zh,s=Vh,d=Xh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Np(e,1,!1,null,null,n,a,null,i,s,d,zp),e[cn]=t.current,Hf(e),new ld(t)},po.hydrateRoot=function(e,t,n){if(!h(e))throw Error(c(299));var a=!1,i="",s=Zh,d=Vh,g=Xh,x=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.formState!==void 0&&(x=n.formState)),t=Np(e,1,!0,t,n??null,a,i,x,s,d,g,zp),t.context=Tp(null),n=t.current,a=Xn(),a=Ne(a),i=Fl(a),i.callback=null,Wl(n,i,a),n=a,t.current.lanes=n,Cn(t,n),Za(t),e[cn]=t.current,Hf(e),new Qr(t)},po.version="19.2.4",po}var Gp;function jv(){if(Gp)return sd.exports;Gp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(l){console.error(l)}}return o(),sd.exports=Cv(),sd.exports}var Mv=jv();const Uv=xg(Mv);/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:wg,setPrototypeOf:Zp,isFrozen:Rv,getPrototypeOf:Dv,getOwnPropertyDescriptor:Ov}=Object;let{freeze:_n,seal:fa,create:wd}=Object,{apply:_d,construct:Ed}=typeof Reflect<"u"&&Reflect;_n||(_n=function(l){return l});fa||(fa=function(l){return l});_d||(_d=function(l,r){for(var c=arguments.length,h=new Array(c>2?c-2:0),m=2;m<c;m++)h[m-2]=arguments[m];return l.apply(r,h)});Ed||(Ed=function(l){for(var r=arguments.length,c=new Array(r>1?r-1:0),h=1;h<r;h++)c[h-1]=arguments[h];return new l(...c)});const Ir=En(Array.prototype.forEach),kv=En(Array.prototype.lastIndexOf),Vp=En(Array.prototype.pop),go=En(Array.prototype.push),zv=En(Array.prototype.splice),su=En(String.prototype.toLowerCase),rd=En(String.prototype.toString),ud=En(String.prototype.match),yo=En(String.prototype.replace),Bv=En(String.prototype.indexOf),Lv=En(String.prototype.trim),Ca=En(Object.prototype.hasOwnProperty),xn=En(RegExp.prototype.test),vo=Hv(TypeError);function En(o){return function(l){l instanceof RegExp&&(l.lastIndex=0);for(var r=arguments.length,c=new Array(r>1?r-1:0),h=1;h<r;h++)c[h-1]=arguments[h];return _d(o,l,c)}}function Hv(o){return function(){for(var l=arguments.length,r=new Array(l),c=0;c<l;c++)r[c]=arguments[c];return Ed(o,r)}}function Re(o,l){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:su;Zp&&Zp(o,null);let c=l.length;for(;c--;){let h=l[c];if(typeof h=="string"){const m=r(h);m!==h&&(Rv(l)||(l[c]=m),h=m)}o[h]=!0}return o}function qv(o){for(let l=0;l<o.length;l++)Ca(o,l)||(o[l]=null);return o}function Qa(o){const l=wd(null);for(const[r,c]of wg(o))Ca(o,r)&&(Array.isArray(c)?l[r]=qv(c):c&&typeof c=="object"&&c.constructor===Object?l[r]=Qa(c):l[r]=c);return l}function bo(o,l){for(;o!==null;){const c=Ov(o,l);if(c){if(c.get)return En(c.get);if(typeof c.value=="function")return En(c.value)}o=Dv(o)}function r(){return null}return r}const Xp=_n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),fd=_n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),dd=_n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Kv=_n(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),hd=_n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Yv=_n(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Qp=_n(["#text"]),Jp=_n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),md=_n(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ip=_n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$r=_n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Gv=fa(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Zv=fa(/<%[\w\W]*|[\w\W]*%>/gm),Vv=fa(/\$\{[\w\W]*/gm),Xv=fa(/^data-[\-\w.\u00B7-\uFFFF]+$/),Qv=fa(/^aria-[\-\w]+$/),_g=fa(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Jv=fa(/^(?:\w+script|data):/i),Iv=fa(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Eg=fa(/^html$/i),$v=fa(/^[a-z][.\w]*(-[.\w]+)+$/i);var $p=Object.freeze({__proto__:null,ARIA_ATTR:Qv,ATTR_WHITESPACE:Iv,CUSTOM_ELEMENT:$v,DATA_ATTR:Xv,DOCTYPE_NAME:Eg,ERB_EXPR:Zv,IS_ALLOWED_URI:_g,IS_SCRIPT_OR_DATA:Jv,MUSTACHE_EXPR:Gv,TMPLIT_EXPR:Vv});const So={element:1,text:3,progressingInstruction:7,comment:8,document:9},Fv=function(){return typeof window>"u"?null:window},Wv=function(l,r){if(typeof l!="object"||typeof l.createPolicy!="function")return null;let c=null;const h="data-tt-policy-suffix";r&&r.hasAttribute(h)&&(c=r.getAttribute(h));const m="dompurify"+(c?"#"+c:"");try{return l.createPolicy(m,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}},Fp=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ng(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fv();const l=ue=>Ng(ue);if(l.version="3.3.1",l.removed=[],!o||!o.document||o.document.nodeType!==So.document||!o.Element)return l.isSupported=!1,l;let{document:r}=o;const c=r,h=c.currentScript,{DocumentFragment:m,HTMLTemplateElement:y,Node:v,Element:b,NodeFilter:T,NamedNodeMap:R=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:C,DOMParser:Z,trustedTypes:K}=o,B=b.prototype,W=bo(B,"cloneNode"),te=bo(B,"remove"),ce=bo(B,"nextSibling"),he=bo(B,"childNodes"),me=bo(B,"parentNode");if(typeof y=="function"){const ue=r.createElement("template");ue.content&&ue.content.ownerDocument&&(r=ue.content.ownerDocument)}let re,je="";const{implementation:Fe,createNodeIterator:Et,createDocumentFragment:be,getElementsByTagName:Ve}=r,{importNode:gt}=c;let Ge=Fp();l.isSupported=typeof wg=="function"&&typeof me=="function"&&Fe&&Fe.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:we,ERB_EXPR:_e,TMPLIT_EXPR:Y,DATA_ATTR:L,ARIA_ATTR:A,IS_SCRIPT_OR_DATA:z,ATTR_WHITESPACE:Q,CUSTOM_ELEMENT:ne}=$p;let{IS_ALLOWED_URI:ae}=$p,I=null;const le=Re({},[...Xp,...fd,...dd,...hd,...Qp]);let $=null;const Ee=Re({},[...Jp,...md,...Ip,...$r]);let ge=Object.seal(wd(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,Ye=null;const Pe=Object.seal(wd(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let rt=!0,Xe=!0,ut=!1,Ln=!0,an=!1,Nn=!0,ln=!1,da=!1,Fa=!1,dn=!1,Jn=!1,ha=!1,In=!0,Si=!1;const as="user-content-";let Nt=!0,ma=!1,Ft={},Qe=null;const Zt=Re({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ft=null;const k=Re({},["audio","video","img","source","image","track"]);let De=null;const Tn=Re({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),hn="http://www.w3.org/1998/Math/MathML",Ut="http://www.w3.org/2000/svg",Rt="http://www.w3.org/1999/xhtml";let xt=Rt,Wa=!1,Oe=null;const Dl=Re({},[hn,Ut,Rt],rd);let xe=Re({},["mi","mo","mn","ms","mtext"]),Wt=Re({},["annotation-xml"]);const An=Re({},["title","style","font","a","script"]);let sn=null;const bt=["application/xhtml+xml","text/html"],pa="text/html";let ke=null,Hn=null;const qn=r.createElement("form"),Cn=function(w){return w instanceof RegExp||w instanceof Function},Bt=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Hn&&Hn===w)){if((!w||typeof w!="object")&&(w={}),w=Qa(w),sn=bt.indexOf(w.PARSER_MEDIA_TYPE)===-1?pa:w.PARSER_MEDIA_TYPE,ke=sn==="application/xhtml+xml"?rd:su,I=Ca(w,"ALLOWED_TAGS")?Re({},w.ALLOWED_TAGS,ke):le,$=Ca(w,"ALLOWED_ATTR")?Re({},w.ALLOWED_ATTR,ke):Ee,Oe=Ca(w,"ALLOWED_NAMESPACES")?Re({},w.ALLOWED_NAMESPACES,rd):Dl,De=Ca(w,"ADD_URI_SAFE_ATTR")?Re(Qa(Tn),w.ADD_URI_SAFE_ATTR,ke):Tn,ft=Ca(w,"ADD_DATA_URI_TAGS")?Re(Qa(k),w.ADD_DATA_URI_TAGS,ke):k,Qe=Ca(w,"FORBID_CONTENTS")?Re({},w.FORBID_CONTENTS,ke):Zt,ve=Ca(w,"FORBID_TAGS")?Re({},w.FORBID_TAGS,ke):Qa({}),Ye=Ca(w,"FORBID_ATTR")?Re({},w.FORBID_ATTR,ke):Qa({}),Ft=Ca(w,"USE_PROFILES")?w.USE_PROFILES:!1,rt=w.ALLOW_ARIA_ATTR!==!1,Xe=w.ALLOW_DATA_ATTR!==!1,ut=w.ALLOW_UNKNOWN_PROTOCOLS||!1,Ln=w.ALLOW_SELF_CLOSE_IN_ATTR!==!1,an=w.SAFE_FOR_TEMPLATES||!1,Nn=w.SAFE_FOR_XML!==!1,ln=w.WHOLE_DOCUMENT||!1,dn=w.RETURN_DOM||!1,Jn=w.RETURN_DOM_FRAGMENT||!1,ha=w.RETURN_TRUSTED_TYPE||!1,Fa=w.FORCE_BODY||!1,In=w.SANITIZE_DOM!==!1,Si=w.SANITIZE_NAMED_PROPS||!1,Nt=w.KEEP_CONTENT!==!1,ma=w.IN_PLACE||!1,ae=w.ALLOWED_URI_REGEXP||_g,xt=w.NAMESPACE||Rt,xe=w.MATHML_TEXT_INTEGRATION_POINTS||xe,Wt=w.HTML_INTEGRATION_POINTS||Wt,ge=w.CUSTOM_ELEMENT_HANDLING||{},w.CUSTOM_ELEMENT_HANDLING&&Cn(w.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ge.tagNameCheck=w.CUSTOM_ELEMENT_HANDLING.tagNameCheck),w.CUSTOM_ELEMENT_HANDLING&&Cn(w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ge.attributeNameCheck=w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),w.CUSTOM_ELEMENT_HANDLING&&typeof w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ge.allowCustomizedBuiltInElements=w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),an&&(Xe=!1),Jn&&(dn=!0),Ft&&(I=Re({},Qp),$=[],Ft.html===!0&&(Re(I,Xp),Re($,Jp)),Ft.svg===!0&&(Re(I,fd),Re($,md),Re($,$r)),Ft.svgFilters===!0&&(Re(I,dd),Re($,md),Re($,$r)),Ft.mathMl===!0&&(Re(I,hd),Re($,Ip),Re($,$r))),w.ADD_TAGS&&(typeof w.ADD_TAGS=="function"?Pe.tagCheck=w.ADD_TAGS:(I===le&&(I=Qa(I)),Re(I,w.ADD_TAGS,ke))),w.ADD_ATTR&&(typeof w.ADD_ATTR=="function"?Pe.attributeCheck=w.ADD_ATTR:($===Ee&&($=Qa($)),Re($,w.ADD_ATTR,ke))),w.ADD_URI_SAFE_ATTR&&Re(De,w.ADD_URI_SAFE_ATTR,ke),w.FORBID_CONTENTS&&(Qe===Zt&&(Qe=Qa(Qe)),Re(Qe,w.FORBID_CONTENTS,ke)),w.ADD_FORBID_CONTENTS&&(Qe===Zt&&(Qe=Qa(Qe)),Re(Qe,w.ADD_FORBID_CONTENTS,ke)),Nt&&(I["#text"]=!0),ln&&Re(I,["html","head","body"]),I.table&&(Re(I,["tbody"]),delete ve.tbody),w.TRUSTED_TYPES_POLICY){if(typeof w.TRUSTED_TYPES_POLICY.createHTML!="function")throw vo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof w.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw vo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');re=w.TRUSTED_TYPES_POLICY,je=re.createHTML("")}else re===void 0&&(re=Wv(K,h)),re!==null&&typeof je=="string"&&(je=re.createHTML(""));_n&&_n(w),Hn=w}},ga=Re({},[...fd,...dd,...Kv]),de=Re({},[...hd,...Yv]),ya=function(w){let J=me(w);(!J||!J.tagName)&&(J={namespaceURI:xt,tagName:"template"});const oe=su(w.tagName),ze=su(J.tagName);return Oe[w.namespaceURI]?w.namespaceURI===Ut?J.namespaceURI===Rt?oe==="svg":J.namespaceURI===hn?oe==="svg"&&(ze==="annotation-xml"||xe[ze]):!!ga[oe]:w.namespaceURI===hn?J.namespaceURI===Rt?oe==="math":J.namespaceURI===Ut?oe==="math"&&Wt[ze]:!!de[oe]:w.namespaceURI===Rt?J.namespaceURI===Ut&&!Wt[ze]||J.namespaceURI===hn&&!xe[ze]?!1:!de[oe]&&(An[oe]||!ga[oe]):!!(sn==="application/xhtml+xml"&&Oe[w.namespaceURI]):!1},Ne=function(w){go(l.removed,{element:w});try{me(w).removeChild(w)}catch{te(w)}},Vt=function(w,J){try{go(l.removed,{attribute:J.getAttributeNode(w),from:J})}catch{go(l.removed,{attribute:null,from:J})}if(J.removeAttribute(w),w==="is")if(dn||Jn)try{Ne(J)}catch{}else try{J.setAttribute(w,"")}catch{}},$n=function(w){let J=null,oe=null;if(Fa)w="<remove></remove>"+w;else{const Ae=ud(w,/^[\r\n\t ]+/);oe=Ae&&Ae[0]}sn==="application/xhtml+xml"&&xt===Rt&&(w='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+w+"</body></html>");const ze=re?re.createHTML(w):w;if(xt===Rt)try{J=new Z().parseFromString(ze,sn)}catch{}if(!J||!J.documentElement){J=Fe.createDocument(xt,"template",null);try{J.documentElement.innerHTML=Wa?je:ze}catch{}}const yt=J.body||J.documentElement;return w&&oe&&yt.insertBefore(r.createTextNode(oe),yt.childNodes[0]||null),xt===Rt?Ve.call(J,ln?"html":"body")[0]:ln?J.documentElement:yt},Fn=function(w){return Et.call(w.ownerDocument||w,w,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT|T.SHOW_PROCESSING_INSTRUCTION|T.SHOW_CDATA_SECTION,null)},Xt=function(w){return w instanceof C&&(typeof w.nodeName!="string"||typeof w.textContent!="string"||typeof w.removeChild!="function"||!(w.attributes instanceof R)||typeof w.removeAttribute!="function"||typeof w.setAttribute!="function"||typeof w.namespaceURI!="string"||typeof w.insertBefore!="function"||typeof w.hasChildNodes!="function")},nt=function(w){return typeof v=="function"&&w instanceof v};function at(ue,w,J){Ir(ue,oe=>{oe.call(l,w,J,Hn)})}const cn=function(w){let J=null;if(at(Ge.beforeSanitizeElements,w,null),Xt(w))return Ne(w),!0;const oe=ke(w.nodeName);if(at(Ge.uponSanitizeElement,w,{tagName:oe,allowedTags:I}),Nn&&w.hasChildNodes()&&!nt(w.firstElementChild)&&xn(/<[/\w!]/g,w.innerHTML)&&xn(/<[/\w!]/g,w.textContent)||w.nodeType===So.progressingInstruction||Nn&&w.nodeType===So.comment&&xn(/<[/\w]/g,w.data))return Ne(w),!0;if(!(Pe.tagCheck instanceof Function&&Pe.tagCheck(oe))&&(!I[oe]||ve[oe])){if(!ve[oe]&&Wn(oe)&&(ge.tagNameCheck instanceof RegExp&&xn(ge.tagNameCheck,oe)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(oe)))return!1;if(Nt&&!Qe[oe]){const ze=me(w)||w.parentNode,yt=he(w)||w.childNodes;if(yt&&ze){const Ae=yt.length;for(let Dt=Ae-1;Dt>=0;--Dt){const on=W(yt[Dt],!0);on.__removalCount=(w.__removalCount||0)+1,ze.insertBefore(on,ce(w))}}}return Ne(w),!0}return w instanceof b&&!ya(w)||(oe==="noscript"||oe==="noembed"||oe==="noframes")&&xn(/<\/no(script|embed|frames)/i,w.innerHTML)?(Ne(w),!0):(an&&w.nodeType===So.text&&(J=w.textContent,Ir([we,_e,Y],ze=>{J=yo(J,ze," ")}),w.textContent!==J&&(go(l.removed,{element:w.cloneNode()}),w.textContent=J)),at(Ge.afterSanitizeElements,w,null),!1)},jn=function(w,J,oe){if(In&&(J==="id"||J==="name")&&(oe in r||oe in qn))return!1;if(!(Xe&&!Ye[J]&&xn(L,J))){if(!(rt&&xn(A,J))){if(!(Pe.attributeCheck instanceof Function&&Pe.attributeCheck(J,w))){if(!$[J]||Ye[J]){if(!(Wn(w)&&(ge.tagNameCheck instanceof RegExp&&xn(ge.tagNameCheck,w)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(w))&&(ge.attributeNameCheck instanceof RegExp&&xn(ge.attributeNameCheck,J)||ge.attributeNameCheck instanceof Function&&ge.attributeNameCheck(J,w))||J==="is"&&ge.allowCustomizedBuiltInElements&&(ge.tagNameCheck instanceof RegExp&&xn(ge.tagNameCheck,oe)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(oe))))return!1}else if(!De[J]){if(!xn(ae,yo(oe,Q,""))){if(!((J==="src"||J==="xlink:href"||J==="href")&&w!=="script"&&Bv(oe,"data:")===0&&ft[w])){if(!(ut&&!xn(z,yo(oe,Q,"")))){if(oe)return!1}}}}}}}return!0},Wn=function(w){return w!=="annotation-xml"&&ud(w,ne)},Ol=function(w){at(Ge.beforeSanitizeAttributes,w,null);const{attributes:J}=w;if(!J||Xt(w))return;const oe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$,forceKeepAttr:void 0};let ze=J.length;for(;ze--;){const yt=J[ze],{name:Ae,namespaceURI:Dt,value:on}=yt,Qt=ke(Ae),Kn=on;let wt=Ae==="value"?Kn:Lv(Kn);if(oe.attrName=Qt,oe.attrValue=wt,oe.keepAttr=!0,oe.forceKeepAttr=void 0,at(Ge.uponSanitizeAttribute,w,oe),wt=oe.attrValue,Si&&(Qt==="id"||Qt==="name")&&(Vt(Ae,w),wt=as+wt),Nn&&xn(/((--!?|])>)|<\/(style|title|textarea)/i,wt)){Vt(Ae,w);continue}if(Qt==="attributename"&&ud(wt,"href")){Vt(Ae,w);continue}if(oe.forceKeepAttr)continue;if(!oe.keepAttr){Vt(Ae,w);continue}if(!Ln&&xn(/\/>/i,wt)){Vt(Ae,w);continue}an&&Ir([we,_e,Y],el=>{wt=yo(wt,el," ")});const Pa=ke(w.nodeName);if(!jn(Pa,Qt,wt)){Vt(Ae,w);continue}if(re&&typeof K=="object"&&typeof K.getAttributeType=="function"&&!Dt)switch(K.getAttributeType(Pa,Qt)){case"TrustedHTML":{wt=re.createHTML(wt);break}case"TrustedScriptURL":{wt=re.createScriptURL(wt);break}}if(wt!==Kn)try{Dt?w.setAttributeNS(Dt,Ae,wt):w.setAttribute(Ae,wt),Xt(w)?Ne(w):Vp(l.removed)}catch{Vt(Ae,w)}}at(Ge.afterSanitizeAttributes,w,null)},Ma=function ue(w){let J=null;const oe=Fn(w);for(at(Ge.beforeSanitizeShadowDOM,w,null);J=oe.nextNode();)at(Ge.uponSanitizeShadowNode,J,null),cn(J),Ol(J),J.content instanceof m&&ue(J.content);at(Ge.afterSanitizeShadowDOM,w,null)};return l.sanitize=function(ue){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=null,oe=null,ze=null,yt=null;if(Wa=!ue,Wa&&(ue="<!-->"),typeof ue!="string"&&!nt(ue))if(typeof ue.toString=="function"){if(ue=ue.toString(),typeof ue!="string")throw vo("dirty is not a string, aborting")}else throw vo("toString is not a function");if(!l.isSupported)return ue;if(da||Bt(w),l.removed=[],typeof ue=="string"&&(ma=!1),ma){if(ue.nodeName){const on=ke(ue.nodeName);if(!I[on]||ve[on])throw vo("root node is forbidden and cannot be sanitized in-place")}}else if(ue instanceof v)J=$n("<!---->"),oe=J.ownerDocument.importNode(ue,!0),oe.nodeType===So.element&&oe.nodeName==="BODY"||oe.nodeName==="HTML"?J=oe:J.appendChild(oe);else{if(!dn&&!an&&!ln&&ue.indexOf("<")===-1)return re&&ha?re.createHTML(ue):ue;if(J=$n(ue),!J)return dn?null:ha?je:""}J&&Fa&&Ne(J.firstChild);const Ae=Fn(ma?ue:J);for(;ze=Ae.nextNode();)cn(ze),Ol(ze),ze.content instanceof m&&Ma(ze.content);if(ma)return ue;if(dn){if(Jn)for(yt=be.call(J.ownerDocument);J.firstChild;)yt.appendChild(J.firstChild);else yt=J;return($.shadowroot||$.shadowrootmode)&&(yt=gt.call(c,yt,!0)),yt}let Dt=ln?J.outerHTML:J.innerHTML;return ln&&I["!doctype"]&&J.ownerDocument&&J.ownerDocument.doctype&&J.ownerDocument.doctype.name&&xn(Eg,J.ownerDocument.doctype.name)&&(Dt="<!DOCTYPE "+J.ownerDocument.doctype.name+`>
`+Dt),an&&Ir([we,_e,Y],on=>{Dt=yo(Dt,on," ")}),re&&ha?re.createHTML(Dt):Dt},l.setConfig=function(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Bt(ue),da=!0},l.clearConfig=function(){Hn=null,da=!1},l.isValidAttribute=function(ue,w,J){Hn||Bt({});const oe=ke(ue),ze=ke(w);return jn(oe,ze,J)},l.addHook=function(ue,w){typeof w=="function"&&go(Ge[ue],w)},l.removeHook=function(ue,w){if(w!==void 0){const J=kv(Ge[ue],w);return J===-1?void 0:zv(Ge[ue],J,1)[0]}return Vp(Ge[ue])},l.removeHooks=function(ue){Ge[ue]=[]},l.removeAllHooks=function(){Ge=Fp()},l}var Pv=Ng();const eb="modulepreload",tb=function(o){return"/"+o},Wp={},yu=function(l,r,c){let h=Promise.resolve();if(r&&r.length>0){let y=function(T){return Promise.all(T.map(R=>Promise.resolve(R).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),b=(v==null?void 0:v.nonce)||(v==null?void 0:v.getAttribute("nonce"));h=y(r.map(T=>{if(T=tb(T),T in Wp)return;Wp[T]=!0;const R=T.endsWith(".css"),C=R?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${C}`))return;const Z=document.createElement("link");if(Z.rel=R?"stylesheet":eb,R||(Z.as="script"),Z.crossOrigin="",Z.href=T,b&&Z.setAttribute("nonce",b),document.head.appendChild(Z),R)return new Promise((K,B)=>{Z.addEventListener("load",K),Z.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${T}`)))})}))}function m(y){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=y,window.dispatchEvent(v),!v.defaultPrevented)throw y}return h.then(y=>{for(const v of y||[])v.status==="rejected"&&m(v.reason);return l().catch(m)})};function nb(){if(typeof window<"u"){const o=localStorage.getItem("accord_server_url");if(o)return o;if(window.__ACCORD_SERVER_URL__)return window.__ACCORD_SERVER_URL__}return"http://localhost:8080"}async function ab(){if(typeof window>"u")return null;const o=window.location.origin;if(o.includes(":1420")||o.includes(":5173")||o.includes(":3000"))return null;try{const l=await fetch(`${o}/health`,{signal:AbortSignal.timeout(3e3)});if(l.ok){const r=await l.json();if(r&&(r.status==="healthy"||r.status==="ok"))return o}}catch{}return null}class lb{constructor(l){ee(this,"baseUrl");ee(this,"_tokenRefresher",null);ee(this,"_refreshingToken",null);this.baseUrl=(l||nb()).replace(/\/+$/,"")}getBaseUrl(){return this.baseUrl}setBaseUrl(l){this.baseUrl=l.replace(/\/+$/,""),localStorage.setItem("accord_server_url",l)}setTokenRefresher(l){this._tokenRefresher=l}async refreshToken(){return this._tokenRefresher?(this._refreshingToken||(this._refreshingToken=this._tokenRefresher().finally(()=>{this._refreshingToken=null})),this._refreshingToken):null}async request(l,r={},c=!1){const h=`${this.baseUrl}${l}`,m=await fetch(h,{headers:{"Content-Type":"application/json",...r.headers},...r});if(m.status===401&&!c&&this._tokenRefresher){const v=await this.refreshToken();if(v){const b=l.replace(/([?&])token=[^&]*/,`$1token=${encodeURIComponent(v)}`);return this.request(b,r,!0)}}const y=await m.json();if(!m.ok){const v=y;throw new Error(v.error||`HTTP ${m.status}`)}return y}async health(){return this.request("/health")}async register(l,r){return this.request("/register",{method:"POST",body:JSON.stringify({public_key:l,password:r})})}async login(l,r){return this.request("/auth",{method:"POST",body:JSON.stringify({public_key:l,password:r})})}async createNode(l,r,c){const h={name:l,description:c};return this.request(`/nodes?token=${encodeURIComponent(r)}`,{method:"POST",body:JSON.stringify(h)})}async getNodeInfo(l,r){const c=r?`/nodes/${l}?token=${encodeURIComponent(r)}`:`/nodes/${l}`;return this.request(c)}async joinNode(l,r){return this.request(`/nodes/${l}/join?token=${encodeURIComponent(r)}`,{method:"POST"})}async leaveNode(l,r){return this.request(`/nodes/${l}/leave?token=${encodeURIComponent(r)}`,{method:"POST"})}async getUserNodes(l){return this.request(`/nodes?token=${encodeURIComponent(l)}`)}async getNodeChannels(l,r){return this.request(`/nodes/${l}/channels?token=${encodeURIComponent(r)}`)}async getNodeMembers(l,r){const c=await this.request(`/nodes/${l}/members?token=${encodeURIComponent(r)}`);return c&&c.members&&Array.isArray(c.members)?c.members:Array.isArray(c)?c:[]}async getChannelMessages(l,r,c=50,h){let m=`/channels/${l}/messages?limit=${c}&token=${encodeURIComponent(r)}`;return h&&(m+=`&before=${encodeURIComponent(h)}`),this.request(m)}async uploadFile(l,r,c,h,m){const y=new FormData;y.append("file",r),h&&y.append("encrypted_filename",h);const v=new XMLHttpRequest;return new Promise((b,T)=>{v.upload.addEventListener("progress",R=>{R.lengthComputable&&m&&m(R.loaded,R.total)}),v.addEventListener("load",()=>{if(v.status>=200&&v.status<300)try{const R=JSON.parse(v.responseText);b(R)}catch{T(new Error("Invalid JSON response"))}else try{const R=JSON.parse(v.responseText);T(new Error(R.error||`HTTP ${v.status}`))}catch{T(new Error(`Upload failed with status ${v.status}`))}}),v.addEventListener("error",()=>{T(new Error("Upload failed"))}),v.open("POST",`${this.baseUrl}/channels/${l}/files?token=${encodeURIComponent(c)}`),v.send(y)})}async downloadFile(l,r){const c=await fetch(`${this.baseUrl}/files/${l}?token=${encodeURIComponent(r)}`);if(!c.ok){const h=await c.json();throw new Error(h.error||`HTTP ${c.status}`)}return c.arrayBuffer()}async getChannelFiles(l,r){return this.request(`/channels/${l}/files?token=${encodeURIComponent(r)}`)}async deleteFile(l,r){return this.request(`/files/${l}?token=${encodeURIComponent(r)}`,{method:"DELETE"})}async createChannel(l,r,c,h){const m={name:r,channel_type:c};return this.request(`/nodes/${l}/channels?token=${encodeURIComponent(h)}`,{method:"POST",body:JSON.stringify(m)})}async deleteChannel(l,r){return this.request(`/channels/${l}?token=${encodeURIComponent(r)}`,{method:"DELETE"})}async createInvite(l,r){return this.request(`/nodes/${l}/invites?token=${encodeURIComponent(r)}`,{method:"POST"})}async kickMember(l,r,c){return this.request(`/nodes/${l}/members/${r}?token=${encodeURIComponent(c)}`,{method:"DELETE"})}async getUserProfile(l,r){const c=r?`/users/${l}/profile?token=${encodeURIComponent(r)}`:`/users/${l}/profile`;return this.request(c)}async updateProfile(l,r){return this.request(`/users/me/profile?token=${encodeURIComponent(r)}`,{method:"PATCH",body:JSON.stringify(l)})}async joinNodeByInvite(l,r){return this.request(`/invites/${l}/join?token=${encodeURIComponent(r)}`,{method:"POST"})}async getNodeInvites(l,r){const c=await this.request(`/nodes/${l}/invites?token=${encodeURIComponent(r)}`);return c&&c.invites&&Array.isArray(c.invites)?c.invites:Array.isArray(c)?c:[]}async createInviteWithOptions(l,r,c,h){const m={};return c!==void 0&&(m.max_uses=c),h!==void 0&&(m.expires_hours=h),this.request(`/nodes/${l}/invites?token=${encodeURIComponent(r)}`,{method:"POST",body:Object.keys(m).length>0?JSON.stringify(m):void 0})}async revokeInvite(l,r,c){return this.request(`/nodes/${l}/invites/${r}?token=${encodeURIComponent(c)}`,{method:"DELETE"})}async searchMessages(l,r,c,h){let m=`/nodes/${l}/search?q=${encodeURIComponent(r)}&token=${encodeURIComponent(c)}`;return h&&(m+=`&channel=${encodeURIComponent(h)}`),this.request(m)}async editMessage(l,r,c){return this.request(`/messages/${l}`,{method:"PATCH",body:JSON.stringify({user_id:r,encrypted_data:c})})}async deleteMessage(l,r){return this.request(`/messages/${l}?token=${encodeURIComponent(r)}`,{method:"DELETE"})}async getMessageThread(l,r){return this.request(`/messages/${l}/thread?token=${encodeURIComponent(r)}`)}async getMessageReactions(l,r){return this.request(`/messages/${l}/reactions?token=${encodeURIComponent(r)}`)}async addReaction(l,r,c){return this.request(`/messages/${l}/reactions/${encodeURIComponent(r)}?token=${encodeURIComponent(c)}`,{method:"PUT"})}async removeReaction(l,r,c){return this.request(`/messages/${l}/reactions/${encodeURIComponent(r)}?token=${encodeURIComponent(c)}`,{method:"DELETE"})}async pinMessage(l,r){return this.request(`/messages/${l}/pin?token=${encodeURIComponent(r)}`,{method:"PUT"})}async unpinMessage(l,r){return this.request(`/messages/${l}/pin?token=${encodeURIComponent(r)}`,{method:"DELETE"})}async getPinnedMessages(l,r){return this.request(`/channels/${l}/pins?token=${encodeURIComponent(r)}`)}async createDmChannel(l,r){return this.request(`/dm/${l}?token=${encodeURIComponent(r)}`,{method:"POST"})}async getDmChannels(l){return this.request(`/dm?token=${encodeURIComponent(l)}`)}async getNodeAuditLog(l,r,c=50,h){const m=new URLSearchParams({token:r,limit:c.toString()});return h&&m.append("before",h),this.request(`/nodes/${l}/audit-log?${m.toString()}`)}async getRoles(l,r){const c=await this.request(`/nodes/${l}/roles?token=${encodeURIComponent(r)}`);return c&&Array.isArray(c.roles)?c.roles:Array.isArray(c)?c:[]}async createRole(l,r,c){return this.request(`/nodes/${l}/roles?token=${encodeURIComponent(r)}`,{method:"POST",body:JSON.stringify(c)})}async updateRole(l,r,c,h){return this.request(`/nodes/${l}/roles/${r}?token=${encodeURIComponent(c)}`,{method:"PUT",body:JSON.stringify(h)})}async deleteRole(l,r,c){return this.request(`/nodes/${l}/roles/${r}?token=${encodeURIComponent(c)}`,{method:"DELETE"})}async getMemberRoles(l,r,c){const h=await this.request(`/nodes/${l}/members/${r}/roles?token=${encodeURIComponent(c)}`);return h&&Array.isArray(h.roles)?h.roles:Array.isArray(h)?h:[]}async assignMemberRole(l,r,c,h){return this.request(`/nodes/${l}/members/${r}/roles/${c}?token=${encodeURIComponent(h)}`,{method:"PUT"})}async removeMemberRole(l,r,c,h){return this.request(`/nodes/${l}/members/${r}/roles/${c}?token=${encodeURIComponent(h)}`,{method:"DELETE"})}async importDiscordTemplate(l,r,c){return this.request(`/nodes/${l}/import-discord-template?token=${encodeURIComponent(c)}`,{method:"POST",body:JSON.stringify({template_code:r})})}async uploadNodeIcon(l,r,c){const h=new FormData;h.append("icon",r);const m=await fetch(`${this.baseUrl}/nodes/${l}/icon?token=${encodeURIComponent(c)}`,{method:"PUT",body:h});if(!m.ok){const y=await m.json();throw new Error(y.error||`HTTP ${m.status}`)}return m.json()}getNodeIconUrl(l){return`${this.baseUrl}/nodes/${l}/icon`}async uploadUserAvatar(l,r){const c=new FormData;c.append("avatar",l);const h=await fetch(`${this.baseUrl}/users/me/avatar?token=${encodeURIComponent(r)}`,{method:"PUT",body:c});if(!h.ok){const m=await h.json();throw new Error(m.error||`HTTP ${h.status}`)}return h.json()}getUserAvatarUrl(l){return`${this.baseUrl}/users/${l}/avatar`}async testConnection(){try{return await this.health(),!0}catch{return!1}}}function ib(o){return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function sb(o){let l=o.replace(/-/g,"+").replace(/_/g,"/");for(;l.length%4;)l+="=";return atob(l)}function cb(o,l){return`accord://${ib(o)}/${l}`}function Pp(o){const l=o.trim(),r=l.match(/^accord:\/\/([A-Za-z0-9_-]+)\/([^/?#]+)$/);if(r)try{const m=sb(r[1]);if(m.includes(".")||m.includes(":"))return{relayHost:m,relayUrl:`http://${m}`,inviteCode:r[2]}}catch{}const c=l.match(/^accord:\/\/([^/]+)\/invite\/([^/?#]+)/);if(c){const m=c[1];return{relayHost:m,relayUrl:`http://${m}`,inviteCode:c[2]}}const h=l.match(/^(https?):\/\/([^/]+)\/invite\/([^/?#]+)/);if(h){const m=h[1],y=h[2];return{relayHost:y,relayUrl:`${m}://${y}`,inviteCode:h[3]}}return null}function ob(o){return localStorage.getItem(`accord_token_${o}`)}function rb(o,l){localStorage.setItem(`accord_token_${o}`,l)}function ub(o){return localStorage.getItem(`accord_user_${o}`)}function fb(o,l){localStorage.setItem(`accord_user_${o}`,l)}const X=new lb;X.createNode.bind(X);X.getNodeInfo.bind(X);X.joinNode.bind(X);X.getUserNodes.bind(X);X.getNodeChannels.bind(X);X.getNodeMembers.bind(X);X.getChannelMessages.bind(X);X.createChannel.bind(X);X.deleteChannel.bind(X);X.createInvite.bind(X);X.kickMember.bind(X);X.getUserProfile.bind(X);X.updateProfile.bind(X);X.joinNodeByInvite.bind(X);X.getNodeInvites.bind(X);X.createInviteWithOptions.bind(X);X.revokeInvite.bind(X);X.testConnection.bind(X);X.searchMessages.bind(X);X.getMessageThread.bind(X);X.createDmChannel.bind(X);X.getDmChannels.bind(X);X.getNodeAuditLog.bind(X);class Js{constructor(l,r){ee(this,"ws",null);ee(this,"token");ee(this,"baseUrl");ee(this,"listeners",new Map);ee(this,"reconnectAttempts",0);ee(this,"maxReconnectAttempts",20);ee(this,"reconnectDelay",1e3);ee(this,"maxReconnectDelay",3e4);ee(this,"reconnectTimeout",null);ee(this,"isConnected",!1);ee(this,"isDestroyed",!1);ee(this,"pingInterval",null);ee(this,"connectionStatus","disconnected");ee(this,"messageQueue",[]);ee(this,"onlineHandler",null);ee(this,"offlineHandler",null);this.token=l;const c=r||typeof window<"u"&&window.__ACCORD_SERVER_URL__||"http://localhost:8080";this.baseUrl=String(c).replace(/^http/,"ws"),typeof window<"u"&&(this.onlineHandler=()=>{!this.isConnected&&!this.isDestroyed&&(this.reconnectAttempts=0,this.connect())},this.offlineHandler=()=>{this.setConnectionStatus("disconnected")},window.addEventListener("online",this.onlineHandler),window.addEventListener("offline",this.offlineHandler))}on(l,r){this.listeners.has(l)||this.listeners.set(l,new Set),this.listeners.get(l).add(r)}off(l,r){const c=this.listeners.get(l);c&&c.delete(r)}emit(l,r){const c=this.listeners.get(l);c&&c.forEach(h=>{try{h(r)}catch(m){console.error(`Error in ${l} listener:`,m)}})}setConnectionStatus(l){this.connectionStatus=l,this.emit("connection_status",{status:l,reconnectAttempt:this.reconnectAttempts,maxReconnectAttempts:this.maxReconnectAttempts})}getConnectionInfo(){return{status:this.connectionStatus,reconnectAttempt:this.reconnectAttempts,maxReconnectAttempts:this.maxReconnectAttempts}}retry(){this.isDestroyed=!1,this.reconnectAttempts=0,this.reconnectDelay=1e3,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.connect()}connect(){if(this.isDestroyed||this.ws&&this.ws.readyState===WebSocket.CONNECTING)return;const l=`${this.baseUrl}/ws?token=${encodeURIComponent(this.token)}`;try{this.ws=new WebSocket(l),this.setupEventHandlers()}catch(r){console.error("Failed to create WebSocket connection:",r),this.emit("error",new Error("Failed to create WebSocket connection")),this.scheduleReconnect()}}setupEventHandlers(){this.ws&&(this.ws.onopen=()=>{this.isConnected=!0,this.reconnectAttempts=0,this.reconnectDelay=1e3,this.startPingInterval(),this.flushMessageQueue(),this.setConnectionStatus("connected"),this.emit("connected")},this.ws.onmessage=l=>{try{const r=JSON.parse(l.data);if(r.type==="error"&&r.code==="auth_failed"){this.emit("auth_error"),this.isDestroyed=!0;return}this.emit("message",r),r.type&&this.emit(r.type,r)}catch(r){console.error("Error parsing WebSocket message:",r),this.emit("error",new Error("Invalid message format"))}},this.ws.onclose=l=>{if(this.isConnected=!1,this.stopPingInterval(),l.code===4401||l.code===4403){this.setConnectionStatus("disconnected"),this.emit("auth_error"),this.emit("disconnected");return}this.emit("disconnected"),!this.isDestroyed&&l.code!==1e3?(this.setConnectionStatus("reconnecting"),this.scheduleReconnect()):this.setConnectionStatus("disconnected")},this.ws.onerror=l=>{console.error("WebSocket error:",l),this.emit("error",new Error("WebSocket connection error"))})}scheduleReconnect(){if(this.isDestroyed||this.reconnectTimeout)return;if(typeof navigator<"u"&&!navigator.onLine){this.setConnectionStatus("disconnected");return}if(this.reconnectAttempts>=this.maxReconnectAttempts){console.error("Max reconnection attempts reached"),this.setConnectionStatus("disconnected"),this.emit("error",new Error("Max reconnection attempts reached"));return}this.reconnectAttempts++;const l=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),this.maxReconnectDelay);this.setConnectionStatus("reconnecting"),this.emit("reconnecting",{attempt:this.reconnectAttempts,maxAttempts:this.maxReconnectAttempts}),this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=null,this.connect()},l)}startPingInterval(){this.pingInterval=setInterval(()=>{this.isConnected&&this.ping()},3e4)}stopPingInterval(){this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}sendMessage(l){if(!this.isConnected||!this.ws){console.warn("WebSocket not connected, cannot send message");return}const r={message_type:l,message_id:this.generateId(),timestamp:Math.floor(Date.now()/1e3)};try{this.ws.send(JSON.stringify(r))}catch(c){console.error("Error sending WebSocket message:",c),this.emit("error",new Error("Failed to send message"))}}send(l){if(!this.isConnected||!this.ws){this.messageQueue.push(l);return}try{this.ws.send(l)}catch(r){console.error("Error sending WebSocket message:",r),this.messageQueue.push(l),this.emit("error",new Error("Failed to send message"))}}flushMessageQueue(){for(;this.messageQueue.length>0&&this.isConnected&&this.ws;){const l=this.messageQueue.shift();try{this.ws.send(l)}catch{this.messageQueue.unshift(l);break}}}getQueuedMessageCount(){return this.messageQueue.length}createNode(l,r){this.sendMessage({CreateNode:{name:l,description:r}})}joinNode(l){this.sendMessage({JoinNode:{node_id:l}})}leaveNode(l){this.sendMessage({LeaveNode:{node_id:l}})}getNodeInfo(l){this.sendMessage({GetNodeInfo:{node_id:l}})}createChannel(l,r){this.sendMessage({CreateChannel:{node_id:l,name:r}})}joinChannel(l){this.sendMessage({JoinChannel:{channel_id:l}})}leaveChannel(l){this.sendMessage({LeaveChannel:{channel_id:l}})}sendDirectMessage(l,r){this.sendMessage({DirectMessage:{to_user:l,encrypted_data:r}})}sendChannelMessage(l,r,c){this.sendMessage({ChannelMessage:{channel_id:l,encrypted_data:r,reply_to:c}})}sendEditMessage(l,r){this.sendMessage({EditMessage:{message_id:l,encrypted_data:r}})}sendDeleteMessage(l){this.sendMessage({DeleteMessage:{message_id:l}})}addReaction(l,r){this.sendMessage({AddReaction:{message_id:l,emoji:r}})}removeReaction(l,r){this.sendMessage({RemoveReaction:{message_id:l,emoji:r}})}pinMessage(l){this.sendMessage({PinMessage:{message_id:l}})}unpinMessage(l){this.sendMessage({UnpinMessage:{message_id:l}})}sendTypingStart(l){this.sendMessage({TypingStart:{channel_id:l}})}ping(){this.sendMessage("Ping")}pong(){this.sendMessage("Pong")}generateId(){var l;return((l=crypto.randomUUID)==null?void 0:l.call(crypto))??"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const c=Math.random()*16|0;return(r==="x"?c:c&3|8).toString(16)})}isSocketConnected(){return this.isConnected}disconnect(){this.isDestroyed=!0,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.stopPingInterval(),this.ws&&(this.ws.close(1e3,"Client disconnect"),this.ws=null),typeof window<"u"&&(this.onlineHandler&&window.removeEventListener("online",this.onlineHandler),this.offlineHandler&&window.removeEventListener("offline",this.offlineHandler)),this.messageQueue=[],this.listeners.clear()}}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rd(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function $a(o,l=""){if(!Number.isSafeInteger(o)||o<0){const r=l&&`"${l}" `;throw new Error(`${r}expected integer >= 0, got ${o}`)}}function Mt(o,l,r=""){const c=Rd(o),h=o==null?void 0:o.length,m=l!==void 0;if(!c||m&&h!==l){const y=r&&`"${r}" `,v=m?` of length ${l}`:"",b=c?`length=${h}`:`type=${typeof o}`;throw new Error(y+"expected Uint8Array"+v+", got "+b)}return o}function Dd(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash must wrapped by utils.createHasher");$a(o.outputLen),$a(o.blockLen)}function uu(o,l=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(l&&o.finished)throw new Error("Hash#digest() has already been called")}function db(o,l){Mt(o,void 0,"digestInto() output");const r=l.outputLen;if(o.length<r)throw new Error('"digestInto() output" expected to be of length >='+r)}function wo(...o){for(let l=0;l<o.length;l++)o[l].fill(0)}function cu(o){return new DataView(o.buffer,o.byteOffset,o.byteLength)}function Va(o,l){return o<<32-l|o>>>l}const Tg=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hb=Array.from({length:256},(o,l)=>l.toString(16).padStart(2,"0"));function vu(o){if(Mt(o),Tg)return o.toHex();let l="";for(let r=0;r<o.length;r++)l+=hb[o[r]];return l}const Al={_0:48,_9:57,A:65,F:70,a:97,f:102};function eg(o){if(o>=Al._0&&o<=Al._9)return o-Al._0;if(o>=Al.A&&o<=Al.F)return o-(Al.A-10);if(o>=Al.a&&o<=Al.f)return o-(Al.a-10)}function fu(o){if(typeof o!="string")throw new Error("hex string expected, got "+typeof o);if(Tg)return Uint8Array.fromHex(o);const l=o.length,r=l/2;if(l%2)throw new Error("hex string expected, got unpadded hex of length "+l);const c=new Uint8Array(r);for(let h=0,m=0;h<r;h++,m+=2){const y=eg(o.charCodeAt(m)),v=eg(o.charCodeAt(m+1));if(y===void 0||v===void 0){const b=o[m]+o[m+1];throw new Error('hex string expected, got non-hex character "'+b+'" at index '+m)}c[h]=y*16+v}return c}function mb(o){if(typeof o!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(o))}function tg(o,l=""){return typeof o=="string"?mb(o):Mt(o,void 0,l)}function vi(...o){let l=0;for(let c=0;c<o.length;c++){const h=o[c];Mt(h),l+=h.length}const r=new Uint8Array(l);for(let c=0,h=0;c<o.length;c++){const m=o[c];r.set(m,h),h+=m.length}return r}function pb(o,l){if(l!==void 0&&{}.toString.call(l)!=="[object Object]")throw new Error("options must be object or undefined");return Object.assign(o,l)}function gb(o,l={}){const r=(h,m)=>o(m).update(h).digest(),c=o(void 0);return r.outputLen=c.outputLen,r.blockLen=c.blockLen,r.create=h=>o(h),Object.assign(r,l),Object.freeze(r)}function Ag(o=32){const l=typeof globalThis=="object"?globalThis.crypto:null;if(typeof(l==null?void 0:l.getRandomValues)!="function")throw new Error("crypto.getRandomValues must be defined");return l.getRandomValues(new Uint8Array(o))}const yb=o=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,o])});function vb(o,l,r){return o&l^~o&r}function bb(o,l,r){return o&l^o&r^l&r}class Sb{constructor(l,r,c,h){ee(this,"blockLen");ee(this,"outputLen");ee(this,"padOffset");ee(this,"isLE");ee(this,"buffer");ee(this,"view");ee(this,"finished",!1);ee(this,"length",0);ee(this,"pos",0);ee(this,"destroyed",!1);this.blockLen=l,this.outputLen=r,this.padOffset=c,this.isLE=h,this.buffer=new Uint8Array(l),this.view=cu(this.buffer)}update(l){uu(this),Mt(l);const{view:r,buffer:c,blockLen:h}=this,m=l.length;for(let y=0;y<m;){const v=Math.min(h-this.pos,m-y);if(v===h){const b=cu(l);for(;h<=m-y;y+=h)this.process(b,y);continue}c.set(l.subarray(y,y+v),this.pos),this.pos+=v,y+=v,this.pos===h&&(this.process(r,0),this.pos=0)}return this.length+=l.length,this.roundClean(),this}digestInto(l){uu(this),db(l,this),this.finished=!0;const{buffer:r,view:c,blockLen:h,isLE:m}=this;let{pos:y}=this;r[y++]=128,wo(this.buffer.subarray(y)),this.padOffset>h-y&&(this.process(c,0),y=0);for(let C=y;C<h;C++)r[C]=0;c.setBigUint64(h-8,BigInt(this.length*8),m),this.process(c,0);const v=cu(l),b=this.outputLen;if(b%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const T=b/4,R=this.get();if(T>R.length)throw new Error("_sha2: outputLen bigger than state");for(let C=0;C<T;C++)v.setUint32(4*C,R[C],m)}digest(){const{buffer:l,outputLen:r}=this;this.digestInto(l);const c=l.slice(0,r);return this.destroy(),c}_cloneInto(l){l||(l=new this.constructor),l.set(...this.get());const{blockLen:r,buffer:c,length:h,finished:m,destroyed:y,pos:v}=this;return l.destroyed=y,l.finished=m,l.length=h,l.pos=v,h%r&&l.buffer.set(c),l}clone(){return this._cloneInto()}}const mi=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xb=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pi=new Uint32Array(64);class wb extends Sb{constructor(l){super(64,l,8,!1)}get(){const{A:l,B:r,C:c,D:h,E:m,F:y,G:v,H:b}=this;return[l,r,c,h,m,y,v,b]}set(l,r,c,h,m,y,v,b){this.A=l|0,this.B=r|0,this.C=c|0,this.D=h|0,this.E=m|0,this.F=y|0,this.G=v|0,this.H=b|0}process(l,r){for(let C=0;C<16;C++,r+=4)pi[C]=l.getUint32(r,!1);for(let C=16;C<64;C++){const Z=pi[C-15],K=pi[C-2],B=Va(Z,7)^Va(Z,18)^Z>>>3,W=Va(K,17)^Va(K,19)^K>>>10;pi[C]=W+pi[C-7]+B+pi[C-16]|0}let{A:c,B:h,C:m,D:y,E:v,F:b,G:T,H:R}=this;for(let C=0;C<64;C++){const Z=Va(v,6)^Va(v,11)^Va(v,25),K=R+Z+vb(v,b,T)+xb[C]+pi[C]|0,W=(Va(c,2)^Va(c,13)^Va(c,22))+bb(c,h,m)|0;R=T,T=b,b=v,v=y+K|0,y=m,m=h,h=c,c=K+W|0}c=c+this.A|0,h=h+this.B|0,m=m+this.C|0,y=y+this.D|0,v=v+this.E|0,b=b+this.F|0,T=T+this.G|0,R=R+this.H|0,this.set(c,h,m,y,v,b,T,R)}roundClean(){wo(pi)}destroy(){this.set(0,0,0,0,0,0,0,0),wo(this.buffer)}}class _b extends wb{constructor(){super(32);ee(this,"A",mi[0]|0);ee(this,"B",mi[1]|0);ee(this,"C",mi[2]|0);ee(this,"D",mi[3]|0);ee(this,"E",mi[4]|0);ee(this,"F",mi[5]|0);ee(this,"G",mi[6]|0);ee(this,"H",mi[7]|0)}}const Ps=gb(()=>new _b,yb(1));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Od=BigInt(0),Nd=BigInt(1);function du(o,l=""){if(typeof o!="boolean"){const r=l&&`"${l}" `;throw new Error(r+"expected boolean, got type="+typeof o)}return o}function Cg(o){if(typeof o=="bigint"){if(!ou(o))throw new Error("positive bigint expected, got "+o)}else $a(o);return o}function Fr(o){const l=Cg(o).toString(16);return l.length&1?"0"+l:l}function jg(o){if(typeof o!="string")throw new Error("hex string expected, got "+typeof o);return o===""?Od:BigInt("0x"+o)}function bu(o){return jg(vu(o))}function Mg(o){return jg(vu(Eb(Mt(o)).reverse()))}function kd(o,l){$a(l),o=Cg(o);const r=fu(o.toString(16).padStart(l*2,"0"));if(r.length!==l)throw new Error("number too large");return r}function Ug(o,l){return kd(o,l).reverse()}function Eb(o){return Uint8Array.from(o)}const ou=o=>typeof o=="bigint"&&Od<=o;function Nb(o,l,r){return ou(o)&&ou(l)&&ou(r)&&l<=o&&o<r}function Tb(o,l,r,c){if(!Nb(l,r,c))throw new Error("expected valid "+o+": "+r+" <= n < "+c+", got "+l)}function Ab(o){let l;for(l=0;o>Od;o>>=Nd,l+=1);return l}const zd=o=>(Nd<<BigInt(o))-Nd;function Cb(o,l,r){if($a(o,"hashLen"),$a(l,"qByteLen"),typeof r!="function")throw new Error("hmacFn must be a function");const c=te=>new Uint8Array(te),h=Uint8Array.of(),m=Uint8Array.of(0),y=Uint8Array.of(1),v=1e3;let b=c(o),T=c(o),R=0;const C=()=>{b.fill(1),T.fill(0),R=0},Z=(...te)=>r(T,vi(b,...te)),K=(te=h)=>{T=Z(m,te),b=Z(),te.length!==0&&(T=Z(y,te),b=Z())},B=()=>{if(R++>=v)throw new Error("drbg: tried max amount of iterations");let te=0;const ce=[];for(;te<l;){b=Z();const he=b.slice();ce.push(he),te+=b.length}return vi(...ce)};return(te,ce)=>{C(),K(te);let he;for(;!(he=ce(B()));)K();return C(),he}}function Bd(o,l={},r={}){if(!o||typeof o!="object")throw new Error("expected valid options object");function c(m,y,v){const b=o[m];if(v&&b===void 0)return;const T=typeof b;if(T!==y||b===null)throw new Error(`param "${m}" is invalid: expected ${y}, got ${T}`)}const h=(m,y)=>Object.entries(m).forEach(([v,b])=>c(v,b,y));h(l,!1),h(r,!0)}function ng(o){const l=new WeakMap;return(r,...c)=>{const h=l.get(r);if(h!==void 0)return h;const m=o(r,...c);return l.set(r,m),m}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qn=BigInt(0),wn=BigInt(1),Pi=BigInt(2),Rg=BigInt(3),Dg=BigInt(4),Og=BigInt(5),jb=BigInt(7),kg=BigInt(8),Mb=BigInt(9),zg=BigInt(16);function ja(o,l){const r=o%l;return r>=Qn?r:l+r}function ag(o,l){if(o===Qn)throw new Error("invert: expected non-zero number");if(l<=Qn)throw new Error("invert: expected positive modulus, got "+l);let r=ja(o,l),c=l,h=Qn,m=wn;for(;r!==Qn;){const v=c/r,b=c%r,T=h-m*v;c=r,r=b,h=m,m=T}if(c!==wn)throw new Error("invert: does not exist");return ja(h,l)}function Ld(o,l,r){if(!o.eql(o.sqr(l),r))throw new Error("Cannot find square root")}function Bg(o,l){const r=(o.ORDER+wn)/Dg,c=o.pow(l,r);return Ld(o,c,l),c}function Ub(o,l){const r=(o.ORDER-Og)/kg,c=o.mul(l,Pi),h=o.pow(c,r),m=o.mul(l,h),y=o.mul(o.mul(m,Pi),h),v=o.mul(m,o.sub(y,o.ONE));return Ld(o,v,l),v}function Rb(o){const l=Hd(o),r=Lg(o),c=r(l,l.neg(l.ONE)),h=r(l,c),m=r(l,l.neg(c)),y=(o+jb)/zg;return(v,b)=>{let T=v.pow(b,y),R=v.mul(T,c);const C=v.mul(T,h),Z=v.mul(T,m),K=v.eql(v.sqr(R),b),B=v.eql(v.sqr(C),b);T=v.cmov(T,R,K),R=v.cmov(Z,C,B);const W=v.eql(v.sqr(R),b),te=v.cmov(T,R,W);return Ld(v,te,b),te}}function Lg(o){if(o<Rg)throw new Error("sqrt is not defined for small field");let l=o-wn,r=0;for(;l%Pi===Qn;)l/=Pi,r++;let c=Pi;const h=Hd(o);for(;lg(h,c)===1;)if(c++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Bg;let m=h.pow(c,l);const y=(l+wn)/Pi;return function(b,T){if(b.is0(T))return T;if(lg(b,T)!==1)throw new Error("Cannot find square root");let R=r,C=b.mul(b.ONE,m),Z=b.pow(T,l),K=b.pow(T,y);for(;!b.eql(Z,b.ONE);){if(b.is0(Z))return b.ZERO;let B=1,W=b.sqr(Z);for(;!b.eql(W,b.ONE);)if(B++,W=b.sqr(W),B===R)throw new Error("Cannot find square root");const te=wn<<BigInt(R-B-1),ce=b.pow(C,te);R=B,C=b.sqr(ce),Z=b.mul(Z,C),K=b.mul(K,ce)}return K}}function Db(o){return o%Dg===Rg?Bg:o%kg===Og?Ub:o%zg===Mb?Rb(o):Lg(o)}const Ob=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kb(o){const l={ORDER:"bigint",BYTES:"number",BITS:"number"},r=Ob.reduce((c,h)=>(c[h]="function",c),l);return Bd(o,r),o}function zb(o,l,r){if(r<Qn)throw new Error("invalid exponent, negatives unsupported");if(r===Qn)return o.ONE;if(r===wn)return l;let c=o.ONE,h=l;for(;r>Qn;)r&wn&&(c=o.mul(c,h)),h=o.sqr(h),r>>=wn;return c}function Hg(o,l,r=!1){const c=new Array(l.length).fill(r?o.ZERO:void 0),h=l.reduce((y,v,b)=>o.is0(v)?y:(c[b]=y,o.mul(y,v)),o.ONE),m=o.inv(h);return l.reduceRight((y,v,b)=>o.is0(v)?y:(c[b]=o.mul(y,c[b]),o.mul(y,v)),m),c}function lg(o,l){const r=(o.ORDER-wn)/Pi,c=o.pow(l,r),h=o.eql(c,o.ONE),m=o.eql(c,o.ZERO),y=o.eql(c,o.neg(o.ONE));if(!h&&!m&&!y)throw new Error("invalid Legendre symbol result");return h?1:m?0:-1}function Bb(o,l){l!==void 0&&$a(l);const r=l!==void 0?l:o.toString(2).length,c=Math.ceil(r/8);return{nBitLength:r,nByteLength:c}}class Lb{constructor(l,r={}){ee(this,"ORDER");ee(this,"BITS");ee(this,"BYTES");ee(this,"isLE");ee(this,"ZERO",Qn);ee(this,"ONE",wn);ee(this,"_lengths");ee(this,"_sqrt");ee(this,"_mod");var y;if(l<=Qn)throw new Error("invalid field: expected ORDER > 0, got "+l);let c;this.isLE=!1,r!=null&&typeof r=="object"&&(typeof r.BITS=="number"&&(c=r.BITS),typeof r.sqrt=="function"&&(this.sqrt=r.sqrt),typeof r.isLE=="boolean"&&(this.isLE=r.isLE),r.allowedLengths&&(this._lengths=(y=r.allowedLengths)==null?void 0:y.slice()),typeof r.modFromBytes=="boolean"&&(this._mod=r.modFromBytes));const{nBitLength:h,nByteLength:m}=Bb(l,c);if(m>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");this.ORDER=l,this.BITS=h,this.BYTES=m,this._sqrt=void 0,Object.preventExtensions(this)}create(l){return ja(l,this.ORDER)}isValid(l){if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Qn<=l&&l<this.ORDER}is0(l){return l===Qn}isValidNot0(l){return!this.is0(l)&&this.isValid(l)}isOdd(l){return(l&wn)===wn}neg(l){return ja(-l,this.ORDER)}eql(l,r){return l===r}sqr(l){return ja(l*l,this.ORDER)}add(l,r){return ja(l+r,this.ORDER)}sub(l,r){return ja(l-r,this.ORDER)}mul(l,r){return ja(l*r,this.ORDER)}pow(l,r){return zb(this,l,r)}div(l,r){return ja(l*ag(r,this.ORDER),this.ORDER)}sqrN(l){return l*l}addN(l,r){return l+r}subN(l,r){return l-r}mulN(l,r){return l*r}inv(l){return ag(l,this.ORDER)}sqrt(l){return this._sqrt||(this._sqrt=Db(this.ORDER)),this._sqrt(this,l)}toBytes(l){return this.isLE?Ug(l,this.BYTES):kd(l,this.BYTES)}fromBytes(l,r=!1){Mt(l);const{_lengths:c,BYTES:h,isLE:m,ORDER:y,_mod:v}=this;if(c){if(!c.includes(l.length)||l.length>h)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+l.length);const T=new Uint8Array(h);T.set(l,m?0:T.length-l.length),l=T}if(l.length!==h)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+l.length);let b=m?Mg(l):bu(l);if(v&&(b=ja(b,y)),!r&&!this.isValid(b))throw new Error("invalid field element: outside of range 0..ORDER");return b}invertBatch(l){return Hg(this,l)}cmov(l,r,c){return c?r:l}}function Hd(o,l={}){return new Lb(o,l)}function qg(o){if(typeof o!="bigint")throw new Error("field order must be bigint");const l=o.toString(2).length;return Math.ceil(l/8)}function Kg(o){const l=qg(o);return l+Math.ceil(l/2)}function Hb(o,l,r=!1){Mt(o);const c=o.length,h=qg(l),m=Kg(l);if(c<16||c<m||c>1024)throw new Error("expected "+m+"-1024 bytes of input, got "+c);const y=r?Mg(o):bu(o),v=ja(y,l-wn)+wn;return r?Ug(v,h):kd(v,h)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ws=BigInt(0),es=BigInt(1);function hu(o,l){const r=l.negate();return o?r:l}function ig(o,l){const r=Hg(o.Fp,l.map(c=>c.Z));return l.map((c,h)=>o.fromAffine(c.toAffine(r[h])))}function Yg(o,l){if(!Number.isSafeInteger(o)||o<=0||o>l)throw new Error("invalid window size, expected [1.."+l+"], got W="+o)}function pd(o,l){Yg(o,l);const r=Math.ceil(l/o)+1,c=2**(o-1),h=2**o,m=zd(o),y=BigInt(o);return{windows:r,windowSize:c,mask:m,maxNumber:h,shiftBy:y}}function sg(o,l,r){const{windowSize:c,mask:h,maxNumber:m,shiftBy:y}=r;let v=Number(o&h),b=o>>y;v>c&&(v-=m,b+=es);const T=l*c,R=T+Math.abs(v)-1,C=v===0,Z=v<0,K=l%2!==0;return{nextN:b,offset:R,isZero:C,isNeg:Z,isNegF:K,offsetF:T}}const gd=new WeakMap,Gg=new WeakMap;function yd(o){return Gg.get(o)||1}function cg(o){if(o!==Ws)throw new Error("invalid wNAF")}class qb{constructor(l,r){ee(this,"BASE");ee(this,"ZERO");ee(this,"Fn");ee(this,"bits");this.BASE=l.BASE,this.ZERO=l.ZERO,this.Fn=l.Fn,this.bits=r}_unsafeLadder(l,r,c=this.ZERO){let h=l;for(;r>Ws;)r&es&&(c=c.add(h)),h=h.double(),r>>=es;return c}precomputeWindow(l,r){const{windows:c,windowSize:h}=pd(r,this.bits),m=[];let y=l,v=y;for(let b=0;b<c;b++){v=y,m.push(v);for(let T=1;T<h;T++)v=v.add(y),m.push(v);y=v.double()}return m}wNAF(l,r,c){if(!this.Fn.isValid(c))throw new Error("invalid scalar");let h=this.ZERO,m=this.BASE;const y=pd(l,this.bits);for(let v=0;v<y.windows;v++){const{nextN:b,offset:T,isZero:R,isNeg:C,isNegF:Z,offsetF:K}=sg(c,v,y);c=b,R?m=m.add(hu(Z,r[K])):h=h.add(hu(C,r[T]))}return cg(c),{p:h,f:m}}wNAFUnsafe(l,r,c,h=this.ZERO){const m=pd(l,this.bits);for(let y=0;y<m.windows&&c!==Ws;y++){const{nextN:v,offset:b,isZero:T,isNeg:R}=sg(c,y,m);if(c=v,!T){const C=r[b];h=h.add(R?C.negate():C)}}return cg(c),h}getPrecomputes(l,r,c){let h=gd.get(r);return h||(h=this.precomputeWindow(r,l),l!==1&&(typeof c=="function"&&(h=c(h)),gd.set(r,h))),h}cached(l,r,c){const h=yd(l);return this.wNAF(h,this.getPrecomputes(h,l,c),r)}unsafe(l,r,c,h){const m=yd(l);return m===1?this._unsafeLadder(l,r,h):this.wNAFUnsafe(m,this.getPrecomputes(m,l,c),r,h)}createCache(l,r){Yg(r,this.bits),Gg.set(l,r),gd.delete(l)}hasCache(l){return yd(l)!==1}}function Kb(o,l,r,c){let h=l,m=o.ZERO,y=o.ZERO;for(;r>Ws||c>Ws;)r&es&&(m=m.add(h)),c&es&&(y=y.add(h)),h=h.double(),r>>=es,c>>=es;return{p1:m,p2:y}}function og(o,l,r){if(l){if(l.ORDER!==o)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return kb(l),l}else return Hd(o,{isLE:r})}function Yb(o,l,r={},c){if(c===void 0&&(c=o==="edwards"),!l||typeof l!="object")throw new Error(`expected valid ${o} CURVE object`);for(const b of["p","n","h"]){const T=l[b];if(!(typeof T=="bigint"&&T>Ws))throw new Error(`CURVE.${b} must be positive bigint`)}const h=og(l.p,r.Fp,c),m=og(l.n,r.Fn,c),v=["Gx","Gy","a","b"];for(const b of v)if(!h.isValid(l[b]))throw new Error(`CURVE.${b} must be valid field element of CURVE.Fp`);return l=Object.freeze(Object.assign({},l)),{CURVE:l,Fp:h,Fn:m}}function Gb(o,l){return function(c){const h=o(c);return{secretKey:h,publicKey:l(h)}}}class Zg{constructor(l,r){ee(this,"oHash");ee(this,"iHash");ee(this,"blockLen");ee(this,"outputLen");ee(this,"finished",!1);ee(this,"destroyed",!1);if(Dd(l),Mt(r,void 0,"key"),this.iHash=l.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,h=new Uint8Array(c);h.set(r.length>c?l.create().update(r).digest():r);for(let m=0;m<h.length;m++)h[m]^=54;this.iHash.update(h),this.oHash=l.create();for(let m=0;m<h.length;m++)h[m]^=106;this.oHash.update(h),wo(h)}update(l){return uu(this),this.iHash.update(l),this}digestInto(l){uu(this),Mt(l,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(l),this.oHash.update(l),this.oHash.digestInto(l),this.destroy()}digest(){const l=new Uint8Array(this.oHash.outputLen);return this.digestInto(l),l}_cloneInto(l){l||(l=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:c,finished:h,destroyed:m,blockLen:y,outputLen:v}=this;return l=l,l.finished=h,l.destroyed=m,l.blockLen=y,l.outputLen=v,l.oHash=r._cloneInto(l.oHash),l.iHash=c._cloneInto(l.iHash),l}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const qd=(o,l,r)=>new Zg(o,l).update(r).digest();qd.create=(o,l)=>new Zg(o,l);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rg=(o,l)=>(o+(o>=0?l:-l)/Vg)/l;function Zb(o,l,r){const[[c,h],[m,y]]=l,v=rg(y*o,r),b=rg(-h*o,r);let T=o-v*c-b*m,R=-v*h-b*y;const C=T<jl,Z=R<jl;C&&(T=-T),Z&&(R=-R);const K=zd(Math.ceil(Ab(r)/2))+$s;if(T<jl||T>=K||R<jl||R>=K)throw new Error("splitScalar (endomorphism): failed, k="+o);return{k1neg:C,k1:T,k2neg:Z,k2:R}}function Td(o){if(!["compact","recovered","der"].includes(o))throw new Error('Signature format must be "compact", "recovered", or "der"');return o}function vd(o,l){const r={};for(let c of Object.keys(l))r[c]=o[c]===void 0?l[c]:o[c];return du(r.lowS,"lowS"),du(r.prehash,"prehash"),r.format!==void 0&&Td(r.format),r}class Vb extends Error{constructor(l=""){super(l)}}const yi={Err:Vb,_tlv:{encode:(o,l)=>{const{Err:r}=yi;if(o<0||o>256)throw new r("tlv.encode: wrong tag");if(l.length&1)throw new r("tlv.encode: unpadded data");const c=l.length/2,h=Fr(c);if(h.length/2&128)throw new r("tlv.encode: long form length too big");const m=c>127?Fr(h.length/2|128):"";return Fr(o)+m+h+l},decode(o,l){const{Err:r}=yi;let c=0;if(o<0||o>256)throw new r("tlv.encode: wrong tag");if(l.length<2||l[c++]!==o)throw new r("tlv.decode: wrong tlv");const h=l[c++],m=!!(h&128);let y=0;if(!m)y=h;else{const b=h&127;if(!b)throw new r("tlv.decode(long): indefinite length not supported");if(b>4)throw new r("tlv.decode(long): byte length is too big");const T=l.subarray(c,c+b);if(T.length!==b)throw new r("tlv.decode: length bytes not complete");if(T[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const R of T)y=y<<8|R;if(c+=b,y<128)throw new r("tlv.decode(long): not minimal encoding")}const v=l.subarray(c,c+y);if(v.length!==y)throw new r("tlv.decode: wrong value length");return{v,l:l.subarray(c+y)}}},_int:{encode(o){const{Err:l}=yi;if(o<jl)throw new l("integer: negative integers are not allowed");let r=Fr(o);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new l("unexpected DER parsing assertion: unpadded hex");return r},decode(o){const{Err:l}=yi;if(o[0]&128)throw new l("invalid signature integer: negative");if(o[0]===0&&!(o[1]&128))throw new l("invalid signature integer: unnecessary leading zero");return bu(o)}},toSig(o){const{Err:l,_int:r,_tlv:c}=yi,h=Mt(o,void 0,"signature"),{v:m,l:y}=c.decode(48,h);if(y.length)throw new l("invalid signature: left bytes after parsing");const{v,l:b}=c.decode(2,m),{v:T,l:R}=c.decode(2,b);if(R.length)throw new l("invalid signature: left bytes after parsing");return{r:r.decode(v),s:r.decode(T)}},hexFromSig(o){const{_tlv:l,_int:r}=yi,c=l.encode(2,r.encode(o.r)),h=l.encode(2,r.encode(o.s)),m=c+h;return l.encode(48,m)}},jl=BigInt(0),$s=BigInt(1),Vg=BigInt(2),Wr=BigInt(3),Xb=BigInt(4);function Qb(o,l={}){const r=Yb("weierstrass",o,l),{Fp:c,Fn:h}=r;let m=r.CURVE;const{h:y,n:v}=m;Bd(l,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object"});const{endo:b}=l;if(b&&(!c.is0(m.a)||typeof b.beta!="bigint"||!Array.isArray(b.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const T=Qg(c,h);function R(){if(!c.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function C(_e,Y,L){const{x:A,y:z}=Y.toAffine(),Q=c.toBytes(A);if(du(L,"isCompressed"),L){R();const ne=!c.isOdd(z);return vi(Xg(ne),Q)}else return vi(Uint8Array.of(4),Q,c.toBytes(z))}function Z(_e){Mt(_e,void 0,"Point");const{publicKey:Y,publicKeyUncompressed:L}=T,A=_e.length,z=_e[0],Q=_e.subarray(1);if(A===Y&&(z===2||z===3)){const ne=c.fromBytes(Q);if(!c.isValid(ne))throw new Error("bad point: is not on curve, wrong x");const ae=W(ne);let I;try{I=c.sqrt(ae)}catch(Ee){const ge=Ee instanceof Error?": "+Ee.message:"";throw new Error("bad point: is not on curve, sqrt error"+ge)}R();const le=c.isOdd(I);return(z&1)===1!==le&&(I=c.neg(I)),{x:ne,y:I}}else if(A===L&&z===4){const ne=c.BYTES,ae=c.fromBytes(Q.subarray(0,ne)),I=c.fromBytes(Q.subarray(ne,ne*2));if(!te(ae,I))throw new Error("bad point: is not on curve");return{x:ae,y:I}}else throw new Error(`bad point: got length ${A}, expected compressed=${Y} or uncompressed=${L}`)}const K=l.toBytes||C,B=l.fromBytes||Z;function W(_e){const Y=c.sqr(_e),L=c.mul(Y,_e);return c.add(c.add(L,c.mul(_e,m.a)),m.b)}function te(_e,Y){const L=c.sqr(Y),A=W(_e);return c.eql(L,A)}if(!te(m.Gx,m.Gy))throw new Error("bad curve params: generator point");const ce=c.mul(c.pow(m.a,Wr),Xb),he=c.mul(c.sqr(m.b),BigInt(27));if(c.is0(c.add(ce,he)))throw new Error("bad curve params: a or b");function me(_e,Y,L=!1){if(!c.isValid(Y)||L&&c.is0(Y))throw new Error(`bad point coordinate ${_e}`);return Y}function re(_e){if(!(_e instanceof Ve))throw new Error("Weierstrass Point expected")}function je(_e){if(!b||!b.basises)throw new Error("no endo");return Zb(_e,b.basises,h.ORDER)}const Fe=ng((_e,Y)=>{const{X:L,Y:A,Z:z}=_e;if(c.eql(z,c.ONE))return{x:L,y:A};const Q=_e.is0();Y==null&&(Y=Q?c.ONE:c.inv(z));const ne=c.mul(L,Y),ae=c.mul(A,Y),I=c.mul(z,Y);if(Q)return{x:c.ZERO,y:c.ZERO};if(!c.eql(I,c.ONE))throw new Error("invZ was invalid");return{x:ne,y:ae}}),Et=ng(_e=>{if(_e.is0()){if(l.allowInfinityPoint&&!c.is0(_e.Y))return;throw new Error("bad point: ZERO")}const{x:Y,y:L}=_e.toAffine();if(!c.isValid(Y)||!c.isValid(L))throw new Error("bad point: x or y not field elements");if(!te(Y,L))throw new Error("bad point: equation left != right");if(!_e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function be(_e,Y,L,A,z){return L=new Ve(c.mul(L.X,_e),L.Y,L.Z),Y=hu(A,Y),L=hu(z,L),Y.add(L)}const we=class we{constructor(Y,L,A){ee(this,"X");ee(this,"Y");ee(this,"Z");this.X=me("x",Y),this.Y=me("y",L,!0),this.Z=me("z",A),Object.freeze(this)}static CURVE(){return m}static fromAffine(Y){const{x:L,y:A}=Y||{};if(!Y||!c.isValid(L)||!c.isValid(A))throw new Error("invalid affine point");if(Y instanceof we)throw new Error("projective point not allowed");return c.is0(L)&&c.is0(A)?we.ZERO:new we(L,A,c.ONE)}static fromBytes(Y){const L=we.fromAffine(B(Mt(Y,void 0,"point")));return L.assertValidity(),L}static fromHex(Y){return we.fromBytes(fu(Y))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(Y=8,L=!0){return Ge.createCache(this,Y),L||this.multiply(Wr),this}assertValidity(){Et(this)}hasEvenY(){const{y:Y}=this.toAffine();if(!c.isOdd)throw new Error("Field doesn't support isOdd");return!c.isOdd(Y)}equals(Y){re(Y);const{X:L,Y:A,Z:z}=this,{X:Q,Y:ne,Z:ae}=Y,I=c.eql(c.mul(L,ae),c.mul(Q,z)),le=c.eql(c.mul(A,ae),c.mul(ne,z));return I&&le}negate(){return new we(this.X,c.neg(this.Y),this.Z)}double(){const{a:Y,b:L}=m,A=c.mul(L,Wr),{X:z,Y:Q,Z:ne}=this;let ae=c.ZERO,I=c.ZERO,le=c.ZERO,$=c.mul(z,z),Ee=c.mul(Q,Q),ge=c.mul(ne,ne),ve=c.mul(z,Q);return ve=c.add(ve,ve),le=c.mul(z,ne),le=c.add(le,le),ae=c.mul(Y,le),I=c.mul(A,ge),I=c.add(ae,I),ae=c.sub(Ee,I),I=c.add(Ee,I),I=c.mul(ae,I),ae=c.mul(ve,ae),le=c.mul(A,le),ge=c.mul(Y,ge),ve=c.sub($,ge),ve=c.mul(Y,ve),ve=c.add(ve,le),le=c.add($,$),$=c.add(le,$),$=c.add($,ge),$=c.mul($,ve),I=c.add(I,$),ge=c.mul(Q,ne),ge=c.add(ge,ge),$=c.mul(ge,ve),ae=c.sub(ae,$),le=c.mul(ge,Ee),le=c.add(le,le),le=c.add(le,le),new we(ae,I,le)}add(Y){re(Y);const{X:L,Y:A,Z:z}=this,{X:Q,Y:ne,Z:ae}=Y;let I=c.ZERO,le=c.ZERO,$=c.ZERO;const Ee=m.a,ge=c.mul(m.b,Wr);let ve=c.mul(L,Q),Ye=c.mul(A,ne),Pe=c.mul(z,ae),rt=c.add(L,A),Xe=c.add(Q,ne);rt=c.mul(rt,Xe),Xe=c.add(ve,Ye),rt=c.sub(rt,Xe),Xe=c.add(L,z);let ut=c.add(Q,ae);return Xe=c.mul(Xe,ut),ut=c.add(ve,Pe),Xe=c.sub(Xe,ut),ut=c.add(A,z),I=c.add(ne,ae),ut=c.mul(ut,I),I=c.add(Ye,Pe),ut=c.sub(ut,I),$=c.mul(Ee,Xe),I=c.mul(ge,Pe),$=c.add(I,$),I=c.sub(Ye,$),$=c.add(Ye,$),le=c.mul(I,$),Ye=c.add(ve,ve),Ye=c.add(Ye,ve),Pe=c.mul(Ee,Pe),Xe=c.mul(ge,Xe),Ye=c.add(Ye,Pe),Pe=c.sub(ve,Pe),Pe=c.mul(Ee,Pe),Xe=c.add(Xe,Pe),ve=c.mul(Ye,Xe),le=c.add(le,ve),ve=c.mul(ut,Xe),I=c.mul(rt,I),I=c.sub(I,ve),ve=c.mul(rt,Ye),$=c.mul(ut,$),$=c.add($,ve),new we(I,le,$)}subtract(Y){return this.add(Y.negate())}is0(){return this.equals(we.ZERO)}multiply(Y){const{endo:L}=l;if(!h.isValidNot0(Y))throw new Error("invalid scalar: out of range");let A,z;const Q=ne=>Ge.cached(this,ne,ae=>ig(we,ae));if(L){const{k1neg:ne,k1:ae,k2neg:I,k2:le}=je(Y),{p:$,f:Ee}=Q(ae),{p:ge,f:ve}=Q(le);z=Ee.add(ve),A=be(L.beta,$,ge,ne,I)}else{const{p:ne,f:ae}=Q(Y);A=ne,z=ae}return ig(we,[A,z])[0]}multiplyUnsafe(Y){const{endo:L}=l,A=this;if(!h.isValid(Y))throw new Error("invalid scalar: out of range");if(Y===jl||A.is0())return we.ZERO;if(Y===$s)return A;if(Ge.hasCache(this))return this.multiply(Y);if(L){const{k1neg:z,k1:Q,k2neg:ne,k2:ae}=je(Y),{p1:I,p2:le}=Kb(we,A,Q,ae);return be(L.beta,I,le,z,ne)}else return Ge.unsafe(A,Y)}toAffine(Y){return Fe(this,Y)}isTorsionFree(){const{isTorsionFree:Y}=l;return y===$s?!0:Y?Y(we,this):Ge.unsafe(this,v).is0()}clearCofactor(){const{clearCofactor:Y}=l;return y===$s?this:Y?Y(we,this):this.multiplyUnsafe(y)}isSmallOrder(){return this.multiplyUnsafe(y).is0()}toBytes(Y=!0){return du(Y,"isCompressed"),this.assertValidity(),K(we,this,Y)}toHex(Y=!0){return vu(this.toBytes(Y))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}};ee(we,"BASE",new we(m.Gx,m.Gy,c.ONE)),ee(we,"ZERO",new we(c.ZERO,c.ONE,c.ZERO)),ee(we,"Fp",c),ee(we,"Fn",h);let Ve=we;const gt=h.BITS,Ge=new qb(Ve,l.endo?Math.ceil(gt/2):gt);return Ve.BASE.precompute(8),Ve}function Xg(o){return Uint8Array.of(o?2:3)}function Qg(o,l){return{secretKey:l.BYTES,publicKey:1+o.BYTES,publicKeyUncompressed:1+2*o.BYTES,publicKeyHasPrefix:!0,signature:2*l.BYTES}}function Jb(o,l={}){const{Fn:r}=o,c=l.randomBytes||Ag,h=Object.assign(Qg(o.Fp,r),{seed:Kg(r.ORDER)});function m(K){try{const B=r.fromBytes(K);return r.isValidNot0(B)}catch{return!1}}function y(K,B){const{publicKey:W,publicKeyUncompressed:te}=h;try{const ce=K.length;return B===!0&&ce!==W||B===!1&&ce!==te?!1:!!o.fromBytes(K)}catch{return!1}}function v(K=c(h.seed)){return Hb(Mt(K,h.seed,"seed"),r.ORDER)}function b(K,B=!0){return o.BASE.multiply(r.fromBytes(K)).toBytes(B)}function T(K){const{secretKey:B,publicKey:W,publicKeyUncompressed:te}=h;if(!Rd(K)||"_lengths"in r&&r._lengths||B===W)return;const ce=Mt(K,void 0,"key").length;return ce===W||ce===te}function R(K,B,W=!0){if(T(K)===!0)throw new Error("first arg must be private key");if(T(B)===!1)throw new Error("second arg must be public key");const te=r.fromBytes(K);return o.fromBytes(B).multiply(te).toBytes(W)}const C={isValidSecretKey:m,isValidPublicKey:y,randomSecretKey:v},Z=Gb(v,b);return Object.freeze({getPublicKey:b,getSharedSecret:R,keygen:Z,Point:o,utils:C,lengths:h})}function Ib(o,l,r={}){Dd(l),Bd(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"}),r=Object.assign({},r);const c=r.randomBytes||Ag,h=r.hmac||((Y,L)=>qd(l,Y,L)),{Fp:m,Fn:y}=o,{ORDER:v,BITS:b}=y,{keygen:T,getPublicKey:R,getSharedSecret:C,utils:Z,lengths:K}=Jb(o,r),B={prehash:!0,lowS:typeof r.lowS=="boolean"?r.lowS:!0,format:"compact",extraEntropy:!1},W=v*Vg<m.ORDER;function te(Y){const L=v>>$s;return Y>L}function ce(Y,L){if(!y.isValidNot0(L))throw new Error(`invalid signature ${Y}: out of range 1..Point.Fn.ORDER`);return L}function he(){if(W)throw new Error('"recovered" sig type is not supported for cofactor >2 curves')}function me(Y,L){Td(L);const A=K.signature,z=L==="compact"?A:L==="recovered"?A+1:void 0;return Mt(Y,z)}class re{constructor(L,A,z){ee(this,"r");ee(this,"s");ee(this,"recovery");if(this.r=ce("r",L),this.s=ce("s",A),z!=null){if(he(),![0,1,2,3].includes(z))throw new Error("invalid recovery id");this.recovery=z}Object.freeze(this)}static fromBytes(L,A=B.format){me(L,A);let z;if(A==="der"){const{r:I,s:le}=yi.toSig(Mt(L));return new re(I,le)}A==="recovered"&&(z=L[0],A="compact",L=L.subarray(1));const Q=K.signature/2,ne=L.subarray(0,Q),ae=L.subarray(Q,Q*2);return new re(y.fromBytes(ne),y.fromBytes(ae),z)}static fromHex(L,A){return this.fromBytes(fu(L),A)}assertRecovery(){const{recovery:L}=this;if(L==null)throw new Error("invalid recovery id: must be present");return L}addRecoveryBit(L){return new re(this.r,this.s,L)}recoverPublicKey(L){const{r:A,s:z}=this,Q=this.assertRecovery(),ne=Q===2||Q===3?A+v:A;if(!m.isValid(ne))throw new Error("invalid recovery id: sig.r+curve.n != R.x");const ae=m.toBytes(ne),I=o.fromBytes(vi(Xg((Q&1)===0),ae)),le=y.inv(ne),$=Fe(Mt(L,void 0,"msgHash")),Ee=y.create(-$*le),ge=y.create(z*le),ve=o.BASE.multiplyUnsafe(Ee).add(I.multiplyUnsafe(ge));if(ve.is0())throw new Error("invalid recovery: point at infinify");return ve.assertValidity(),ve}hasHighS(){return te(this.s)}toBytes(L=B.format){if(Td(L),L==="der")return fu(yi.hexFromSig(this));const{r:A,s:z}=this,Q=y.toBytes(A),ne=y.toBytes(z);return L==="recovered"?(he(),vi(Uint8Array.of(this.assertRecovery()),Q,ne)):vi(Q,ne)}toHex(L){return vu(this.toBytes(L))}}const je=r.bits2int||function(L){if(L.length>8192)throw new Error("input is too large");const A=bu(L),z=L.length*8-b;return z>0?A>>BigInt(z):A},Fe=r.bits2int_modN||function(L){return y.create(je(L))},Et=zd(b);function be(Y){return Tb("num < 2^"+b,Y,jl,Et),y.toBytes(Y)}function Ve(Y,L){return Mt(Y,void 0,"message"),L?Mt(l(Y),void 0,"prehashed message"):Y}function gt(Y,L,A){const{lowS:z,prehash:Q,extraEntropy:ne}=vd(A,B);Y=Ve(Y,Q);const ae=Fe(Y),I=y.fromBytes(L);if(!y.isValidNot0(I))throw new Error("invalid private key");const le=[be(I),be(ae)];if(ne!=null&&ne!==!1){const ve=ne===!0?c(K.secretKey):ne;le.push(Mt(ve,void 0,"extraEntropy"))}const $=vi(...le),Ee=ae;function ge(ve){const Ye=je(ve);if(!y.isValidNot0(Ye))return;const Pe=y.inv(Ye),rt=o.BASE.multiply(Ye).toAffine(),Xe=y.create(rt.x);if(Xe===jl)return;const ut=y.create(Pe*y.create(Ee+Xe*I));if(ut===jl)return;let Ln=(rt.x===Xe?0:2)|Number(rt.y&$s),an=ut;return z&&te(ut)&&(an=y.neg(ut),Ln^=1),new re(Xe,an,W?void 0:Ln)}return{seed:$,k2sig:ge}}function Ge(Y,L,A={}){const{seed:z,k2sig:Q}=gt(Y,L,A);return Cb(l.outputLen,y.BYTES,h)(z,Q).toBytes(A.format)}function we(Y,L,A,z={}){const{lowS:Q,prehash:ne,format:ae}=vd(z,B);if(A=Mt(A,void 0,"publicKey"),L=Ve(L,ne),!Rd(Y)){const I=Y instanceof re?", use sig.toBytes()":"";throw new Error("verify expects Uint8Array signature"+I)}me(Y,ae);try{const I=re.fromBytes(Y,ae),le=o.fromBytes(A);if(Q&&I.hasHighS())return!1;const{r:$,s:Ee}=I,ge=Fe(L),ve=y.inv(Ee),Ye=y.create(ge*ve),Pe=y.create($*ve),rt=o.BASE.multiplyUnsafe(Ye).add(le.multiplyUnsafe(Pe));return rt.is0()?!1:y.create(rt.x)===$}catch{return!1}}function _e(Y,L,A={}){const{prehash:z}=vd(A,B);return L=Ve(L,z),re.fromBytes(Y,"recovered").recoverPublicKey(L).toBytes()}return Object.freeze({keygen:T,getPublicKey:R,getSharedSecret:C,utils:Z,lengths:K,Point:o,sign:Ge,verify:we,recoverPublicKey:_e,Signature:re,hash:l})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $b={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Fb=Qb($b),To=Ib(Fb,Ps);function Wb(o,l,r,c){Dd(o);const h=pb({dkLen:32,asyncTick:10},c),{c:m,dkLen:y,asyncTick:v}=h;if($a(m,"c"),$a(y,"dkLen"),$a(v,"asyncTick"),m<1)throw new Error("iterations (c) must be >= 1");const b=tg(l,"password"),T=tg(r,"salt"),R=new Uint8Array(y),C=qd.create(o,b),Z=C._cloneInto().update(T);return{c:m,dkLen:y,asyncTick:v,DK:R,PRF:C,PRFSalt:Z}}function Pb(o,l,r,c,h){return o.destroy(),l.destroy(),c&&c.destroy(),wo(h),r}function e0(o,l,r,c){const{c:h,dkLen:m,DK:y,PRF:v,PRFSalt:b}=Wb(o,l,r,c);let T;const R=new Uint8Array(4),C=cu(R),Z=new Uint8Array(v.outputLen);for(let K=1,B=0;B<m;K++,B+=v.outputLen){const W=y.subarray(B,B+v.outputLen);C.setInt32(0,K,!1),(T=b._cloneInto(T)).update(R).digestInto(Z),W.set(Z.subarray(0,W.length));for(let te=1;te<h;te++){v._cloneInto(T).update(Z).digestInto(Z);for(let ce=0;ce<W.length;ce++)W[ce]^=Z[ce]}}return Pb(v,b,y,T,Z)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function t0(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function zn(o,l,r=""){const c=t0(o),h=o==null?void 0:o.length,m=l!==void 0;if(!c||m&&h!==l){const y=r&&`"${r}" `,v=m?` of length ${l}`:"",b=c?`length=${h}`:`type=${typeof o}`;throw new Error(y+"expected Uint8Array"+v+", got "+b)}return o}function mu(o,l=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(l&&o.finished)throw new Error("Hash#digest() has already been called")}function Jg(o,l){zn(o,void 0,"output");const r=l.outputLen;if(o.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function n0(o){return new Uint8Array(o.buffer,o.byteOffset,o.byteLength)}function Ml(o){return new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4))}function Ul(...o){for(let l=0;l<o.length;l++)o[l].fill(0)}function Su(o){return new DataView(o.buffer,o.byteOffset,o.byteLength)}const a0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function l0(o,l){if(o.length!==l.length)return!1;let r=0;for(let c=0;c<o.length;c++)r|=o[c]^l[c];return r===0}const i0=(o,l)=>{function r(c,...h){if(zn(c,void 0,"key"),!a0)throw new Error("Non little-endian hardware is not yet supported");if(o.nonceLength!==void 0){const R=h[0];zn(R,o.varSizeNonce?void 0:o.nonceLength,"nonce")}const m=o.tagLength;m&&h[1]!==void 0&&zn(h[1],void 0,"AAD");const y=l(c,...h),v=(R,C)=>{if(C!==void 0){if(R!==2)throw new Error("cipher output not supported");zn(C,void 0,"output")}};let b=!1;return{encrypt(R,C){if(b)throw new Error("cannot encrypt() twice with same key + nonce");return b=!0,zn(R),v(y.encrypt.length,C),y.encrypt(R,C)},decrypt(R,C){if(zn(R),m&&R.length<m)throw new Error('"ciphertext" expected length bigger than tagLength='+m);return v(y.decrypt.length,C),y.decrypt(R,C)}}}return Object.assign(r,o),r};function s0(o,l,r=!0){if(l===void 0)return new Uint8Array(o);if(l.length!==o)throw new Error('"output" expected Uint8Array of length '+o+", got: "+l.length);if(r&&!pu(l))throw new Error("invalid output, must be aligned");return l}function c0(o,l,r){const c=new Uint8Array(16),h=Su(c);return h.setBigUint64(0,BigInt(l),r),h.setBigUint64(8,BigInt(o),r),c}function pu(o){return o.byteOffset%4===0}function ts(o){return Uint8Array.from(o)}const Cl=16,Kd=new Uint8Array(16),Ja=Ml(Kd),o0=225,r0=(o,l,r,c)=>{const h=c&1;return{s3:r<<31|c>>>1,s2:l<<31|r>>>1,s1:o<<31|l>>>1,s0:o>>>1^o0<<24&-(h&1)}},ua=o=>(o>>>0&255)<<24|(o>>>8&255)<<16|(o>>>16&255)<<8|o>>>24&255|0;function u0(o){o.reverse();const l=o[15]&1;let r=0;for(let c=0;c<o.length;c++){const h=o[c];o[c]=h>>>1|r,r=(h&1)<<7}return o[0]^=-l&225,o}const f0=o=>o>64*1024?8:o>1024?4:2;class Ig{constructor(l,r){ee(this,"blockLen",Cl);ee(this,"outputLen",Cl);ee(this,"s0",0);ee(this,"s1",0);ee(this,"s2",0);ee(this,"s3",0);ee(this,"finished",!1);ee(this,"t");ee(this,"W");ee(this,"windowSize");zn(l,16,"key"),l=ts(l);const c=Su(l);let h=c.getUint32(0,!1),m=c.getUint32(4,!1),y=c.getUint32(8,!1),v=c.getUint32(12,!1);const b=[];for(let B=0;B<128;B++)b.push({s0:ua(h),s1:ua(m),s2:ua(y),s3:ua(v)}),{s0:h,s1:m,s2:y,s3:v}=r0(h,m,y,v);const T=f0(r||1024);if(![1,2,4,8].includes(T))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=T;const C=128/T,Z=this.windowSize=2**T,K=[];for(let B=0;B<C;B++)for(let W=0;W<Z;W++){let te=0,ce=0,he=0,me=0;for(let re=0;re<T;re++){if(!(W>>>T-re-1&1))continue;const{s0:Fe,s1:Et,s2:be,s3:Ve}=b[T*B+re];te^=Fe,ce^=Et,he^=be,me^=Ve}K.push({s0:te,s1:ce,s2:he,s3:me})}this.t=K}_updateBlock(l,r,c,h){l^=this.s0,r^=this.s1,c^=this.s2,h^=this.s3;const{W:m,t:y,windowSize:v}=this;let b=0,T=0,R=0,C=0;const Z=(1<<m)-1;let K=0;for(const B of[l,r,c,h])for(let W=0;W<4;W++){const te=B>>>8*W&255;for(let ce=8/m-1;ce>=0;ce--){const he=te>>>m*ce&Z,{s0:me,s1:re,s2:je,s3:Fe}=y[K*v+he];b^=me,T^=re,R^=je,C^=Fe,K+=1}}this.s0=b,this.s1=T,this.s2=R,this.s3=C}update(l){mu(this),zn(l),l=ts(l);const r=Ml(l),c=Math.floor(l.length/Cl),h=l.length%Cl;for(let m=0;m<c;m++)this._updateBlock(r[m*4+0],r[m*4+1],r[m*4+2],r[m*4+3]);return h&&(Kd.set(l.subarray(c*Cl)),this._updateBlock(Ja[0],Ja[1],Ja[2],Ja[3]),Ul(Ja)),this}destroy(){const{t:l}=this;for(const r of l)r.s0=0,r.s1=0,r.s2=0,r.s3=0}digestInto(l){mu(this),Jg(l,this),this.finished=!0;const{s0:r,s1:c,s2:h,s3:m}=this,y=Ml(l);return y[0]=r,y[1]=c,y[2]=h,y[3]=m,l}digest(){const l=new Uint8Array(Cl);return this.digestInto(l),this.destroy(),l}}class d0 extends Ig{constructor(l,r){zn(l);const c=u0(ts(l));super(c,r),Ul(c)}update(l){mu(this),zn(l),l=ts(l);const r=Ml(l),c=l.length%Cl,h=Math.floor(l.length/Cl);for(let m=0;m<h;m++)this._updateBlock(ua(r[m*4+3]),ua(r[m*4+2]),ua(r[m*4+1]),ua(r[m*4+0]));return c&&(Kd.set(l.subarray(h*Cl)),this._updateBlock(ua(Ja[3]),ua(Ja[2]),ua(Ja[1]),ua(Ja[0])),Ul(Ja)),this}digestInto(l){mu(this),Jg(l,this),this.finished=!0;const{s0:r,s1:c,s2:h,s3:m}=this,y=Ml(l);return y[0]=r,y[1]=c,y[2]=h,y[3]=m,l.reverse()}}function $g(o){const l=(c,h)=>o(h,c.length).update(c).digest(),r=o(new Uint8Array(16),0);return l.outputLen=r.outputLen,l.blockLen=r.blockLen,l.create=(c,h)=>o(c,h),l}const ug=$g((o,l)=>new Ig(o,l));$g((o,l)=>new d0(o,l));const Ad=16,h0=4,Pr=new Uint8Array(Ad),m0=283;function p0(o){if(![16,24,32].includes(o.length))throw new Error('"aes key" expected Uint8Array of length 16/24/32, got length='+o.length)}function Yd(o){return o<<1^m0&-(o>>7)}function fg(o,l){let r=0;for(;l>0;l>>=1)r^=o&-(l&1),o=Yd(o);return r}const g0=(()=>{const o=new Uint8Array(256);for(let r=0,c=1;r<256;r++,c^=Yd(c))o[r]=c;const l=new Uint8Array(256);l[0]=99;for(let r=0;r<255;r++){let c=o[255-r];c|=c<<8,l[o[r]]=(c^c>>4^c>>5^c>>6^c>>7^99)&255}return Ul(o),l})(),y0=o=>o<<24|o>>>8,bd=o=>o<<8|o>>>24;function v0(o,l){if(o.length!==256)throw new Error("Wrong sbox length");const r=new Uint32Array(256).map((T,R)=>l(o[R])),c=r.map(bd),h=c.map(bd),m=h.map(bd),y=new Uint32Array(256*256),v=new Uint32Array(256*256),b=new Uint16Array(256*256);for(let T=0;T<256;T++)for(let R=0;R<256;R++){const C=T*256+R;y[C]=r[T]^c[R],v[C]=h[T]^m[R],b[C]=o[T]<<8|o[R]}return{sbox:o,sbox2:b,T0:r,T1:c,T2:h,T3:m,T01:y,T23:v}}const Fg=v0(g0,o=>fg(o,3)<<24|o<<16|o<<8|fg(o,2)),b0=(()=>{const o=new Uint8Array(16);for(let l=0,r=1;l<16;l++,r=Yd(r))o[l]=r;return o})();function S0(o){zn(o);const l=o.length;p0(o);const{sbox2:r}=Fg,c=[];pu(o)||c.push(o=ts(o));const h=Ml(o),m=h.length,y=b=>xo(r,b,b,b,b),v=new Uint32Array(l+28);v.set(h);for(let b=m;b<v.length;b++){let T=v[b-1];b%m===0?T=y(y0(T))^b0[b/m-1]:m>6&&b%m===4&&(T=y(T)),v[b]=v[b-m]^T}return Ul(...c),v}function eu(o,l,r,c,h,m){return o[r<<8&65280|c>>>8&255]^l[h>>>8&65280|m>>>24&255]}function xo(o,l,r,c,h){return o[l&255|r&65280]|o[c>>>16&255|h>>>16&65280]<<16}function dg(o,l,r,c,h){const{sbox2:m,T01:y,T23:v}=Fg;let b=0;l^=o[b++],r^=o[b++],c^=o[b++],h^=o[b++];const T=o.length/4-2;for(let B=0;B<T;B++){const W=o[b++]^eu(y,v,l,r,c,h),te=o[b++]^eu(y,v,r,c,h,l),ce=o[b++]^eu(y,v,c,h,l,r),he=o[b++]^eu(y,v,h,l,r,c);l=W,r=te,c=ce,h=he}const R=o[b++]^xo(m,l,r,c,h),C=o[b++]^xo(m,r,c,h,l),Z=o[b++]^xo(m,c,h,l,r),K=o[b++]^xo(m,h,l,r,c);return{s0:R,s1:C,s2:Z,s3:K}}function tu(o,l,r,c,h){zn(r,Ad,"nonce"),zn(c),h=s0(c.length,h);const m=r,y=Ml(m),v=Su(m),b=Ml(c),T=Ml(h),R=l?0:12,C=c.length;let Z=v.getUint32(R,l),{s0:K,s1:B,s2:W,s3:te}=dg(o,y[0],y[1],y[2],y[3]);for(let he=0;he+4<=b.length;he+=4)T[he+0]=b[he+0]^K,T[he+1]=b[he+1]^B,T[he+2]=b[he+2]^W,T[he+3]=b[he+3]^te,Z=Z+1>>>0,v.setUint32(R,Z,l),{s0:K,s1:B,s2:W,s3:te}=dg(o,y[0],y[1],y[2],y[3]);const ce=Ad*Math.floor(b.length/h0);if(ce<C){const he=new Uint32Array([K,B,W,te]),me=n0(he);for(let re=ce,je=0;re<C;re++,je++)h[re]=c[re]^me[je];Ul(he)}return h}function x0(o,l,r,c,h){const m=h?h.length:0,y=o.create(r,c.length+m);h&&y.update(h);const v=c0(8*c.length,8*m,l);y.update(c),y.update(v);const b=y.digest();return Ul(v),b}const ec=i0({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(l,r,c){if(r.length<8)throw new Error("aes/gcm: invalid nonce length");const h=16;function m(v,b,T){const R=x0(ug,!1,v,T,c);for(let C=0;C<b.length;C++)R[C]^=b[C];return R}function y(){const v=S0(l),b=Pr.slice(),T=Pr.slice();if(tu(v,!1,T,T,b),r.length===12)T.set(r);else{const C=Pr.slice();Su(C).setBigUint64(8,BigInt(r.length*8),!1);const K=ug.create(b).update(r).update(C);K.digestInto(T),K.destroy()}const R=tu(v,!1,T,Pr);return{xk:v,authKey:b,counter:T,tagMask:R}}return{encrypt(v){const{xk:b,authKey:T,counter:R,tagMask:C}=y(),Z=new Uint8Array(v.length+h),K=[b,T,R,C];pu(v)||K.push(v=ts(v)),tu(b,!1,R,v,Z.subarray(0,v.length));const B=m(T,C,Z.subarray(0,Z.length-h));return K.push(B),Z.set(B,v.length),Ul(...K),Z},decrypt(v){const{xk:b,authKey:T,counter:R,tagMask:C}=y(),Z=[b,T,C,R];pu(v)||Z.push(v=ts(v));const K=v.subarray(0,-h),B=v.subarray(-h),W=m(T,C,K);if(Z.push(W),!l0(W,B))throw new Error("aes/gcm: invalid ghash tag");const te=tu(b,!1,R,K);return Ul(...Z),te}}}),Wg=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];function _o(o){const l=new Uint8Array(o);return crypto.getRandomValues(l),l}function w0(o){const l=o?`_${o.slice(0,16)}`:"";return{PRIVATE_KEY:`accord_private_key${l}`,PUBLIC_KEY:`accord_public_key${l}`,CHANNEL_KEYS:`accord_channel_keys${l}`}}let Pg;function Xa(o){Pg=o}function Ao(o){return w0(o||Pg)}const Rl={PRIVATE_KEY:"accord_private_key",PUBLIC_KEY:"accord_public_key",CHANNEL_KEYS:"accord_channel_keys"},Eo={name:"ECDH",namedCurve:"P-256"},_0={name:"AES-GCM",length:256},Bn=typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u";function E0(){return!0}async function gi(o){const l=new TextEncoder().encode(o);if(Bn){const c=await crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(c)).map(h=>h.toString(16).padStart(2,"0")).join("")}const r=Ps(l);return Array.from(r).map(c=>c.toString(16).padStart(2,"0")).join("")}function ns(o){const l=String.fromCharCode.apply(null,Array.from(new Uint8Array(o)));return btoa(l)}function No(o){const l=atob(o),r=new ArrayBuffer(l.length),c=new Uint8Array(r);for(let h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return r}function Gd(o){return ns(o.buffer.slice(o.byteOffset,o.byteOffset+o.byteLength))}function N0(o){return new Uint8Array(No(o))}async function ey(o,l){const r=new TextEncoder,c=await window.crypto.subtle.importKey("raw",r.encode(o),"PBKDF2",!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:l,iterations:1e5,hash:"SHA-256"},c,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}function ty(o,l){const r=new TextEncoder;return e0(Ps,r.encode(o),l,{c:1e5,dkLen:32})}async function ny(o,l){const r=_o(16),c=_o(12);if(Bn){const b=await ey(l,r),T=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:c},b,o),R=new Uint8Array(r.length+c.length+T.byteLength);return R.set(r,0),R.set(c,r.length),R.set(new Uint8Array(T),r.length+c.length),ns(R.buffer)}const h=ty(l,r),y=ec(h,c).encrypt(new Uint8Array(o)),v=new Uint8Array(r.length+c.length+y.length);return v.set(r,0),v.set(c,r.length),v.set(y,r.length+c.length),Gd(v)}async function ay(o,l){const r=new Uint8Array(No(o)),c=r.slice(0,16),h=r.slice(16,28),m=r.slice(28);if(Bn){const T=await ey(l,c);return window.crypto.subtle.decrypt({name:"AES-GCM",iv:h},T,m)}const y=ty(l,c),b=ec(y,h).decrypt(m);return b.buffer.slice(b.byteOffset,b.byteOffset+b.byteLength)}function ly(){return`accord-key-wrap:${localStorage.getItem("accord_token")||""}`}async function Sd(){return Bn?await window.crypto.subtle.generateKey(Eo,!0,["deriveKey","deriveBits"]):T0()}function T0(){const o=_o(32),l=To.getPublicKey(o,!1),r=xu(l),c=wu(o,l);return{privateKey:{_nobleRaw:o,_noblePkcs8:c},publicKey:{_nobleRaw:l,_nobleSpki:r},_privateKeyRaw:o,_publicKeyRaw:r}}const Fs=new Uint8Array([48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7]);function xu(o){const l=new Uint8Array(3+o.length);l[0]=3,l[1]=1+o.length,l[2]=0,l.set(o,3);const r=Fs.length+l.length,c=new Uint8Array(2+r);return c[0]=48,c[1]=r,c.set(Fs,2),c.set(l,2+Fs.length),c}function wu(o,l){const r=A0(o,l),c=new Uint8Array([2,1,0]),h=new Uint8Array(2+r.length);h[0]=4,h[1]=r.length,h.set(r,2);const m=c.length+Fs.length+h.length,y=new Uint8Array(2+m);y[0]=48,y[1]=m;let v=2;return y.set(c,v),v+=c.length,y.set(Fs,v),v+=Fs.length,y.set(h,v),y}function A0(o,l){const r=new Uint8Array([2,1,1]),c=new Uint8Array([4,32,...o]),h=new Uint8Array([3,1+l.length,0,...l]),m=new Uint8Array([161,h.length,...h]),y=r.length+c.length+m.length,v=new Uint8Array(2+y);v[0]=48,v[1]=y;let b=2;return v.set(r,b),b+=r.length,v.set(c,b),b+=c.length,v.set(m,b),v}function Zd(o){for(let l=0;l<o.length-33;l++)if(o[l]===4&&o[l+1]===32){const r=o.slice(l+2,l+34);try{return To.getPublicKey(r,!1),r}catch{continue}}throw new Error("Could not extract P-256 private key from PKCS8")}async function Wi(o){if(Bn&&!o._nobleSpki){const r=await window.crypto.subtle.exportKey("spki",o);return ns(r)}const l=o._nobleSpki;if(!l)throw new Error("Cannot export noble public key: missing SPKI data");return Gd(l)}async function nu(o,l){let r,c;if(Bn&&!o.privateKey._nobleRaw)r=await window.crypto.subtle.exportKey("pkcs8",o.privateKey),c=await window.crypto.subtle.exportKey("spki",o.publicKey);else{const v=o.privateKey._noblePkcs8,b=o.publicKey._nobleSpki;r=v.buffer.slice(v.byteOffset,v.byteOffset+v.byteLength),c=b.buffer.slice(b.byteOffset,b.byteOffset+b.byteLength)}const h=ly(),m=await ny(r,h),y=Ao(l);localStorage.setItem(y.PRIVATE_KEY,m),localStorage.setItem(y.PUBLIC_KEY,ns(c))}async function au(o){try{const l=Ao(o);let r=localStorage.getItem(l.PRIVATE_KEY),c=localStorage.getItem(l.PUBLIC_KEY);if((!r||!c)&&(r=localStorage.getItem(Rl.PRIVATE_KEY),c=localStorage.getItem(Rl.PUBLIC_KEY)),!r||!c)return null;let h;try{const R=ly();h=await ay(r,R)}catch{h=No(r)}const m=No(c);if(Bn){const R=await window.crypto.subtle.importKey("pkcs8",h,Eo,!0,["deriveKey","deriveBits"]),C=await window.crypto.subtle.importKey("spki",m,Eo,!0,[]);return{privateKey:R,publicKey:C}}const y=Zd(new Uint8Array(h)),v=To.getPublicKey(y,!1),b=xu(v),T=wu(y,v);return{privateKey:{_nobleRaw:y,_noblePkcs8:T},publicKey:{_nobleRaw:v,_nobleSpki:b}}}catch(l){return console.warn("Failed to load keys from storage (may be password-encrypted):",l),null}}async function C0(o){const l=new TextEncoder,r=localStorage.getItem("accord_token")||"",c=localStorage.getItem(Rl.PRIVATE_KEY)||"",h=`${o}:${r}:${c.slice(0,32)}`,m=l.encode(h);if(Bn){const y=await window.crypto.subtle.digest("SHA-256",m);return window.crypto.subtle.importKey("raw",y,_0,!1,["encrypt","decrypt"])}return Ps(m)}async function j0(o,l){return C0(l)}const ru=new Map;async function Ia(o,l){if(ru.has(l))return ru.get(l);const r=await j0(o,l);return ru.set(l,r),r}function M0(){ru.clear()}async function Cd(o,l){const r=new TextEncoder().encode(l),c=_o(12);if(Bn&&o instanceof CryptoKey){const b=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:c},o,r),T=new Uint8Array(c.length+b.byteLength);return T.set(c),T.set(new Uint8Array(b),c.length),ns(T.buffer)}const h=o instanceof Uint8Array?o:new Uint8Array(0),y=ec(h,c).encrypt(r),v=new Uint8Array(c.length+y.length);return v.set(c),v.set(y,c.length),Gd(v)}async function jd(o,l){const r=N0(l),c=r.slice(0,12),h=r.slice(12);if(Bn&&o instanceof CryptoKey){const b=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:c},o,h);return new TextDecoder().decode(b)}const m=o instanceof Uint8Array?o:new Uint8Array(0),v=ec(m,c).decrypt(h);return new TextDecoder().decode(v)}async function iy(o,l){const r=_o(12);if(Bn&&o instanceof CryptoKey){const v=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},o,l),b=new Uint8Array(r.length+v.byteLength);return b.set(r),b.set(new Uint8Array(v),r.length),b.buffer}const c=o instanceof Uint8Array?o:new Uint8Array(0),m=ec(c,r).encrypt(new Uint8Array(l)),y=new Uint8Array(r.length+m.length);return y.set(r),y.set(m,r.length),y.buffer.slice(y.byteOffset,y.byteOffset+y.byteLength)}async function Md(o,l){const r=new Uint8Array(l),c=r.slice(0,12),h=r.slice(12);if(Bn&&o instanceof CryptoKey)return window.crypto.subtle.decrypt({name:"AES-GCM",iv:c},o,h);const m=o instanceof Uint8Array?o:new Uint8Array(0),v=ec(m,c).decrypt(h);return v.buffer.slice(v.byteOffset,v.byteOffset+v.byteLength)}async function sy(o,l){return Cd(o,l)}async function Ud(o,l){return jd(o,l)}function U0(o){if(o.length!==32)throw new Error("Expected 32 bytes of entropy");const r=Ps(o)[0];let c="";for(const m of o)c+=m.toString(2).padStart(8,"0");c+=r.toString(2).padStart(8,"0");const h=[];for(let m=0;m<24;m++){const y=parseInt(c.slice(m*11,(m+1)*11),2);h.push(Wg[y])}return h.join(" ")}function R0(o){const l=o.trim().toLowerCase().split(/\s+/);if(l.length!==24)throw new Error("Expected 24 words");let r="";for(const b of l){const T=Wg.indexOf(b);if(T===-1)throw new Error(`Unknown word: "${b}"`);r+=T.toString(2).padStart(11,"0")}const c=r.slice(0,256),h=r.slice(256,264),m=new Uint8Array(32);for(let b=0;b<32;b++)m[b]=parseInt(c.slice(b*8,(b+1)*8),2);const v=Ps(m)[0].toString(2).padStart(8,"0");if(h!==v)throw new Error("Invalid mnemonic checksum");return m}async function D0(o){if(o.privateKey._nobleRaw)return o.privateKey._nobleRaw;const l=await window.crypto.subtle.exportKey("pkcs8",o.privateKey);return Zd(new Uint8Array(l))}async function hg(o){const l=await D0(o);return U0(l)}function O0(o){const l=R0(o),r=To.getPublicKey(l,!1),c=xu(r),h=wu(l,r);return{privateKey:{_nobleRaw:l,_noblePkcs8:h},publicKey:{_nobleRaw:r,_nobleSpki:c}}}async function lu(o,l,r){let c,h;if(Bn&&!o.privateKey._nobleRaw)c=await window.crypto.subtle.exportKey("pkcs8",o.privateKey),h=await window.crypto.subtle.exportKey("spki",o.publicKey);else{const b=o.privateKey._noblePkcs8,T=o.publicKey._nobleSpki;c=b.buffer.slice(b.byteOffset,b.byteOffset+b.byteLength),h=T.buffer.slice(T.byteOffset,T.byteOffset+T.byteLength)}const m=`accord-key-wrap:${l}`,y=await ny(c,m),v=Ao(r);localStorage.setItem(v.PRIVATE_KEY,y),localStorage.setItem(v.PUBLIC_KEY,ns(h)),localStorage.setItem(Rl.PRIVATE_KEY,y),localStorage.setItem(Rl.PUBLIC_KEY,ns(h))}async function mg(o,l){const r=Ao(l);let c=localStorage.getItem(r.PRIVATE_KEY),h=localStorage.getItem(r.PUBLIC_KEY);(!c||!h)&&(c=localStorage.getItem(Rl.PRIVATE_KEY),h=localStorage.getItem(Rl.PUBLIC_KEY));try{if(!c||!h)return null;const m=`accord-key-wrap:${o}`,y=await ay(c,m),v=No(h);if(Bn){const Z=await window.crypto.subtle.importKey("pkcs8",y,Eo,!0,["deriveKey","deriveBits"]),K=await window.crypto.subtle.importKey("spki",v,Eo,!0,[]);return{privateKey:Z,publicKey:K}}const b=Zd(new Uint8Array(y)),T=To.getPublicKey(b,!1),R=xu(T),C=wu(b,T);return{privateKey:{_nobleRaw:b,_noblePkcs8:C},publicKey:{_nobleRaw:T,_nobleSpki:R}}}catch{return null}}function pg(o){const l=Ao(o);return!!localStorage.getItem(l.PUBLIC_KEY)||!!localStorage.getItem(Rl.PUBLIC_KEY)}function xd(){return localStorage.getItem(Rl.PUBLIC_KEY)}const Vd="accord_token",Xd="accord_token_expiry",k0=1440*60*1e3;function Is(o,l=k0){const r=Date.now()+l;localStorage.setItem(Vd,o),localStorage.setItem(Xd,r.toString())}function z0(){const o=localStorage.getItem(Vd),l=localStorage.getItem(Xd);if(!o)return null;if(l){const r=parseInt(l,10);if(Date.now()>r)return cy(),null}return o}function cy(){localStorage.removeItem(Vd),localStorage.removeItem(Xd)}const B0=({channelId:o,token:l,keyPair:r,encryptionEnabled:c})=>{const h=_.useRef(null),[m,y]=_.useState({isUploading:!1,progress:null,fileName:""}),v=()=>{var R;(R=h.current)==null||R.click()},b=_.useCallback(async R=>{y({isUploading:!0,progress:{loaded:0,total:R.size,percentage:0},fileName:R.name});try{let C=R,Z;if(c&&r)try{const K=await Ia(r.privateKey,o),B=await R.arrayBuffer(),W=await iy(K,B);Z=await sy(K,R.name),C=new File([W],"encrypted_file",{type:"application/octet-stream"})}catch(K){console.warn("Failed to encrypt file, uploading plaintext:",K)}await X.uploadFile(o,C,l,Z,(K,B)=>{const W=Math.round(K/B*100);y(te=>({...te,progress:{loaded:K,total:B,percentage:W}}))}),y({isUploading:!1,progress:null,fileName:""}),h.current&&(h.current.value="")}catch(C){console.error("File upload failed:",C),alert(`File upload failed: ${C instanceof Error?C.message:"Unknown error"}`),y({isUploading:!1,progress:null,fileName:""})}},[o,l,r,c]),T=async R=>{var Z;const C=(Z=R.target.files)==null?void 0:Z[0];C&&await b(C)};return u.jsxs("div",{className:"file-upload-wrapper",children:[u.jsx("input",{ref:h,type:"file",onChange:T,style:{display:"none"},disabled:m.isUploading}),u.jsx("button",{onClick:v,disabled:m.isUploading,className:"file-upload-btn",title:"Attach file",children:""}),m.isUploading&&m.progress&&u.jsxs("div",{className:"file-upload-progress",children:[u.jsxs("div",{className:"file-upload-progress-name",children:["Uploading ",m.fileName]}),u.jsx("div",{className:"file-upload-progress-bar-track",children:u.jsx("div",{className:"file-upload-progress-bar-fill",style:{width:`${m.progress.percentage}%`}})}),u.jsxs("div",{className:"file-upload-progress-text",children:[m.progress.percentage,"% (",gu(m.progress.loaded)," / ",gu(m.progress.total),")"]})]})]})},L0=({channelId:o,token:l,keyPair:r,encryptionEnabled:c,children:h})=>{const[m,y]=_.useState(!1),[v,b]=_.useState({isUploading:!1,progress:null,fileName:""}),T=_.useRef(0),R=_.useCallback(B=>{B.preventDefault(),B.stopPropagation(),T.current++,B.dataTransfer.items&&B.dataTransfer.items.length>0&&y(!0)},[]),C=_.useCallback(B=>{B.preventDefault(),B.stopPropagation(),T.current--,T.current===0&&y(!1)},[]),Z=_.useCallback(B=>{B.preventDefault(),B.stopPropagation()},[]),K=_.useCallback(async B=>{B.preventDefault(),B.stopPropagation(),y(!1),T.current=0;const W=B.dataTransfer.files;if(!W||W.length===0)return;const te=W[0];b({isUploading:!0,progress:{loaded:0,total:te.size,percentage:0},fileName:te.name});try{let ce=te,he;if(c&&r)try{const me=await Ia(r.privateKey,o),re=await te.arrayBuffer(),je=await iy(me,re);he=await sy(me,te.name),ce=new File([je],"encrypted_file",{type:"application/octet-stream"})}catch(me){console.warn("Failed to encrypt file, uploading plaintext:",me)}await X.uploadFile(o,ce,l,he,(me,re)=>{const je=Math.round(me/re*100);b(Fe=>({...Fe,progress:{loaded:me,total:re,percentage:je}}))}),b({isUploading:!1,progress:null,fileName:""})}catch(ce){console.error("File upload failed:",ce),alert(`File upload failed: ${ce instanceof Error?ce.message:"Unknown error"}`),b({isUploading:!1,progress:null,fileName:""})}},[o,l,r,c]);return u.jsxs("div",{className:"file-drop-zone",onDragEnter:R,onDragLeave:C,onDragOver:Z,onDrop:K,children:[h,m&&u.jsx("div",{className:"file-drop-overlay",children:u.jsxs("div",{className:"file-drop-overlay-content",children:[u.jsx("span",{className:"file-drop-icon",children:""}),u.jsx("span",{children:"Drop file to upload"})]})}),v.isUploading&&v.progress&&u.jsxs("div",{className:"file-drop-upload-toast",children:[u.jsxs("div",{className:"file-upload-progress-name",children:["Uploading ",v.fileName]}),u.jsx("div",{className:"file-upload-progress-bar-track",children:u.jsx("div",{className:"file-upload-progress-bar-fill",style:{width:`${v.progress.percentage}%`}})}),u.jsxs("div",{className:"file-upload-progress-text",children:[v.progress.percentage,"%"]})]})]})},H0=({file:o,token:l,channelId:r,keyPair:c,encryptionEnabled:h})=>{const[m,y]=_.useState(o.encrypted_filename),[v,b]=_.useState(null),[T,R]=_.useState(!1);_.useEffect(()=>{let K=!1;return(async()=>{let W=o.encrypted_filename;if(h&&c)try{const te=await Ia(c.privateKey,r);W=await Ud(te,o.encrypted_filename)}catch{}if(!K&&(y(W),K0(W)))try{const te=await X.downloadFile(o.id,l);let ce=te;if(h&&c)try{const he=await Ia(c.privateKey,r);ce=await Md(he,te)}catch{}if(!K){const he=new Blob([ce]);b(URL.createObjectURL(he))}}catch{}})(),()=>{K=!0}},[o.id,o.encrypted_filename,r,l,c,h]),_.useEffect(()=>()=>{v&&URL.revokeObjectURL(v)},[v]);const C=async()=>{R(!0);try{const K=await X.downloadFile(o.id,l);let B=K,W=m;if(h&&c)try{const me=await Ia(c.privateKey,r);B=await Md(me,K),W=await Ud(me,o.encrypted_filename)}catch{}const te=new Blob([B]),ce=URL.createObjectURL(te),he=document.createElement("a");he.href=ce,he.download=W,document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(ce)}catch(K){console.error("Download failed:",K),alert(`Download failed: ${K instanceof Error?K.message:"Unknown error"}`)}finally{R(!1)}},Z=oy(m);return u.jsxs("div",{className:"file-attachment",children:[v&&u.jsx("div",{className:"file-attachment-image-preview",children:u.jsx("img",{src:v,alt:m,onClick:C})}),u.jsxs("div",{className:"file-attachment-info",children:[u.jsx("span",{className:"file-attachment-icon",children:Z}),u.jsxs("div",{className:"file-attachment-details",children:[u.jsx("span",{className:"file-attachment-name",title:m,children:m}),u.jsx("span",{className:"file-attachment-size",children:gu(o.file_size_bytes)})]}),u.jsx("button",{className:"file-attachment-download",onClick:C,disabled:T,title:"Download",children:T?"":""})]})]})},q0=({channelId:o,token:l,keyPair:r,encryptionEnabled:c})=>{const[h,m]=_.useState([]),[y,v]=_.useState(!1),[b,T]=_.useState(!1),R=_.useCallback(async()=>{if(b){v(!0);try{const B=await X.getChannelFiles(o,l);m(B)}catch(B){console.error("Failed to load files:",B)}finally{v(!1)}}},[o,l,b]);_.useEffect(()=>{R()},[R]);const C=async B=>{try{const W=await X.downloadFile(B.id,l);let te=W,ce=B.encrypted_filename;if(c&&r)try{const je=await Ia(r.privateKey,o);te=await Md(je,W),ce=await Ud(je,B.encrypted_filename)}catch(je){console.warn("Failed to decrypt file, using encrypted data:",je)}const he=new Blob([te]),me=URL.createObjectURL(he),re=document.createElement("a");re.href=me,re.download=ce,document.body.appendChild(re),re.click(),document.body.removeChild(re),URL.revokeObjectURL(me)}catch(W){console.error("File download failed:",W),alert(`File download failed: ${W instanceof Error?W.message:"Unknown error"}`)}},Z=async B=>{if(confirm(`Are you sure you want to delete "${B.encrypted_filename}"?`))try{await X.deleteFile(B.id,l),await R()}catch(W){console.error("File deletion failed:",W),alert(`File deletion failed: ${W instanceof Error?W.message:"Unknown error"}`)}},K=B=>{const W=new Date(B*1e3);return W.toLocaleDateString()+" "+W.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return u.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[u.jsx("button",{onClick:()=>T(!b),className:"file-list-toggle-btn",title:"Show files",children:""}),b&&u.jsxs("div",{className:"file-list-panel",children:[u.jsxs("div",{className:"file-list-header",children:[u.jsx("div",{className:"file-list-title",children:"Channel Files"}),u.jsx("button",{className:"file-list-close",onClick:()=>T(!1),children:""})]}),y?u.jsx("div",{className:"file-list-empty",children:"Loading files..."}):h.length===0?u.jsx("div",{className:"file-list-empty",children:"No files uploaded yet"}):u.jsx("div",{className:"file-list-items",children:h.map(B=>u.jsxs("div",{className:"file-list-item",children:[u.jsx("div",{className:"file-list-item-icon",children:oy(B.encrypted_filename)}),u.jsxs("div",{className:"file-list-item-info",children:[u.jsx("div",{className:"file-list-item-name",children:B.encrypted_filename}),u.jsxs("div",{className:"file-list-item-meta",children:[gu(B.file_size_bytes),"  ",K(B.created_at)]})]}),u.jsxs("div",{className:"file-list-item-actions",children:[u.jsx("button",{onClick:()=>C(B),className:"file-list-item-download",title:"Download",children:""}),u.jsx("button",{onClick:()=>Z(B),className:"file-list-item-delete",title:"Delete",children:""})]})]},B.id))})]})]})};function gu(o){if(o===0)return"0 B";const l=1024,r=["B","KB","MB","GB"],c=Math.floor(Math.log(o)/Math.log(l));return parseFloat((o/Math.pow(l,c)).toFixed(1))+" "+r[c]}function K0(o){var r;const l=((r=o.split(".").pop())==null?void 0:r.toLowerCase())||"";return["jpg","jpeg","png","gif","webp","svg","bmp"].includes(l)}function oy(o){var r;const l=((r=o.split(".").pop())==null?void 0:r.toLowerCase())||"";return["jpg","jpeg","png","gif","webp","svg","bmp"].includes(l)?"":["mp4","webm","mov","avi"].includes(l)?"":["mp3","wav","ogg","flac","aac"].includes(l)?"":["pdf"].includes(l)?"":["zip","tar","gz","rar","7z"].includes(l)?"":["doc","docx","txt","md","rtf"].includes(l)?"":["xls","xlsx","csv"].includes(l)?"":["js","ts","py","rs","go","c","cpp","h","java"].includes(l)?"":["json","yaml","yml","toml","xml"].includes(l)?"":""}const Y0=[{name:"Smileys",emojis:["","","","","","","","","","","",""]},{name:"Reactions",emojis:["","","","","","","","","","","",""]},{name:"Objects",emojis:["","","","","","","","","","","",""]}],G0=({isOpen:o,onToggle:l,onSelect:r,onClose:c})=>{const h=_.useRef(null);return _.useEffect(()=>{if(!o)return;const m=y=>{h.current&&!h.current.contains(y.target)&&c()};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[o,c]),u.jsxs("div",{className:"emoji-picker-wrapper",ref:h,children:[u.jsx("button",{className:"emoji-picker-toggle",onClick:l,title:"Emoji picker",type:"button",children:""}),o&&u.jsx("div",{className:"emoji-picker-popup",children:Y0.map(m=>u.jsxs("div",{className:"emoji-picker-category",children:[u.jsx("div",{className:"emoji-picker-category-label",children:m.name}),u.jsx("div",{className:"emoji-picker-grid",children:m.emojis.map(y=>u.jsx("button",{className:"emoji-picker-item",onClick:()=>r(y),type:"button",children:y},y))})]},m.name))})]})},Z0=({isVisible:o,onClose:l,nodeId:r,channels:c,token:h,onNavigateToMessage:m})=>{const[y,v]=_.useState(""),[b,T]=_.useState(""),[R,C]=_.useState([]),[Z,K]=_.useState(!1),[B,W]=_.useState(""),[te,ce]=_.useState(""),he=_.useRef(null),me=_.useRef(void 0);_.useEffect(()=>{o&&he.current&&he.current.focus()},[o]);const re=_.useCallback(async(be,Ve)=>{if(!r||!h||!be.trim()){C([]),ce("");return}K(!0),W("");try{const gt=await X.searchMessages(r,be.trim(),h,Ve||void 0);C(gt.results),ce(gt.note||"")}catch(gt){W(gt instanceof Error?gt.message:"Search failed"),C([]),ce("")}finally{K(!1)}},[r,h]),je=_.useCallback(be=>{v(be),me.current&&window.clearTimeout(me.current),me.current=window.setTimeout(()=>{re(be,b)},300)},[re,b]),Fe=_.useCallback(be=>{T(be),y.trim()&&re(y,be)},[y,re]),Et=be=>{m(be.channel_id,be.message_id),l()};return _.useEffect(()=>{const be=Ve=>{Ve.key==="Escape"&&o&&l()};if(o)return document.addEventListener("keydown",be),()=>{document.removeEventListener("keydown",be)}},[o,l]),_.useEffect(()=>()=>{me.current&&window.clearTimeout(me.current)},[]),o?u.jsxs("div",{className:"search-overlay",children:[u.jsx("div",{className:"search-overlay-backdrop",onClick:l}),u.jsxs("div",{className:"search-overlay-content",children:[u.jsxs("div",{className:"search-overlay-header",children:[u.jsx("h3",{children:"Search Messages"}),u.jsx("button",{className:"search-overlay-close",onClick:l,children:""})]}),u.jsxs("div",{className:"search-overlay-body",children:[u.jsxs("div",{className:"search-controls",children:[u.jsxs("div",{className:"search-input-container",children:[u.jsx("input",{ref:he,type:"text",placeholder:"Search messages...",value:y,onChange:be=>je(be.target.value),className:"search-input"}),Z&&u.jsx("div",{className:"search-loading",children:""})]}),u.jsx("div",{className:"search-filter",children:u.jsxs("select",{value:b,onChange:be=>Fe(be.target.value),className:"channel-filter-select",children:[u.jsx("option",{value:"",children:"All channels"}),c.map(be=>u.jsxs("option",{value:be.id,children:["#",be.name]},be.id))]})})]}),te&&u.jsxs("div",{className:"search-note",children:[" ",te]}),B&&u.jsxs("div",{className:"search-error",children:[" ",B]}),u.jsxs("div",{className:"search-results",children:[R.length===0&&y.trim()&&!Z&&!B&&u.jsxs("div",{className:"search-no-results",children:['No messages found for "',y,'"']}),R.map(be=>{var Ve;return u.jsxs("div",{className:"search-result",onClick:()=>Et(be),children:[u.jsxs("div",{className:"search-result-header",children:[u.jsx("span",{className:"search-result-sender",children:((Ve=be.sender_public_key_hash)==null?void 0:Ve.slice(0,16))||"Unknown"}),u.jsxs("span",{className:"search-result-channel",children:["#",be.channel_name]}),u.jsx("span",{className:"search-result-time",children:new Date(be.timestamp).toLocaleString()})]}),u.jsx("div",{className:"search-result-snippet",children:"Click to view message"})]},be.message_id)})]})]}),u.jsx("div",{className:"search-overlay-footer",children:u.jsx("div",{className:"search-encryption-note",children:" Content search requires client-side decryption"})})]})]}):null};class V0{constructor(){ee(this,"preferences");ee(this,"unreads",{});ee(this,"currentUsername","");ee(this,"windowFocused",!0);ee(this,"activeChannelId",null);ee(this,"audioContext",null);this.preferences=this.loadPreferences(),this.setupWindowFocusHandlers(),this.requestNotificationPermission(),this.initAudioContext()}loadPreferences(){const l=localStorage.getItem("accord_notification_preferences");return l?JSON.parse(l):{enabled:!0,mode:"all",sounds:!0}}savePreferences(){localStorage.setItem("accord_notification_preferences",JSON.stringify(this.preferences))}loadUnreads(){const l=localStorage.getItem("accord_unreads");return l?JSON.parse(l):{}}saveUnreads(){localStorage.setItem("accord_unreads",JSON.stringify(this.unreads))}setupWindowFocusHandlers(){window.addEventListener("focus",()=>{this.windowFocused=!0}),window.addEventListener("blur",()=>{this.windowFocused=!1}),this.windowFocused=document.hasFocus()}async requestNotificationPermission(){"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()}initAudioContext(){(typeof AudioContext<"u"||typeof window.webkitAudioContext<"u")&&(this.audioContext=new(AudioContext||window.webkitAudioContext))}setActiveChannel(l){this.activeChannelId=l}setCurrentUsername(l){this.currentUsername=l,this.unreads=this.loadUnreads()}getPreferences(){return{...this.preferences}}updatePreferences(l){this.preferences={...this.preferences,...l},this.savePreferences()}getNodeUnreads(l){const r=this.unreads[l];return r?{totalUnreads:r.totalUnreads,totalMentions:r.totalMentions}:{totalUnreads:0,totalMentions:0}}getChannelUnreads(l,r){const c=this.unreads[l];return!c||!c.channels[r]?{lastReadMessageId:null,count:0,mentions:0,lastMessageTimestamp:0}:c.channels[r]}markChannelAsRead(l,r,c){this.unreads[l]||(this.unreads[l]={totalUnreads:0,totalMentions:0,channels:{}}),this.unreads[l].channels[r]||(this.unreads[l].channels[r]={lastReadMessageId:null,count:0,mentions:0,lastMessageTimestamp:0});const h=this.unreads[l].channels[r];this.unreads[l].totalUnreads-=h.count,this.unreads[l].totalMentions-=h.mentions,h.count=0,h.mentions=0,c&&(h.lastReadMessageId=c,h.lastMessageTimestamp=Date.now()),this.unreads[l].totalUnreads=Math.max(0,this.unreads[l].totalUnreads),this.unreads[l].totalMentions=Math.max(0,this.unreads[l].totalMentions),this.saveUnreads()}addMessage(l,r,c){if(c.author===this.currentUsername)return;this.unreads[l]||(this.unreads[l]={totalUnreads:0,totalMentions:0,channels:{}}),this.unreads[l].channels[r]||(this.unreads[l].channels[r]={lastReadMessageId:null,count:0,mentions:0,lastMessageTimestamp:0});const h=this.unreads[l].channels[r];if(!h.lastReadMessageId||c.timestamp>h.lastMessageTimestamp){const y=this.containsMention(c.content);h.count++,this.unreads[l].totalUnreads++,y&&(h.mentions++,this.unreads[l].totalMentions++),h.lastMessageTimestamp=Math.max(h.lastMessageTimestamp,c.timestamp),this.saveUnreads(),this.handleMessageNotification(c,r,y)}}containsMention(l){if(!this.currentUsername)return!1;const r=l.toLowerCase(),c=this.currentUsername.toLowerCase();return r.includes(`@${c}`)||r.includes("@everyone")}highlightMentions(l){if(!this.currentUsername)return l;const r=window.DOMPurify;let h=r?r.sanitize(l,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}):this.escapeHtml(l);const m=this.escapeRegExp(this.currentUsername),y=new RegExp(`(@${m})`,"gi");h=h.replace(y,'<span class="mention">$1</span>');const v=new RegExp("(@everyone)","gi");return h=h.replace(v,'<span class="mention mention-everyone">$1</span>'),h}escapeHtml(l){const r=document.createElement("div");return r.textContent=l,r.innerHTML}escapeRegExp(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}handleMessageNotification(l,r,c){if(!this.preferences.enabled||this.windowFocused&&this.activeChannelId===r)return;(this.preferences.mode==="all"||this.preferences.mode==="mentions"&&c)&&(this.showDesktopNotification(l,r,c),this.preferences.sounds&&this.playNotificationSound())}showDesktopNotification(l,r,c){if("Notification"in window&&Notification.permission==="granted"){const h=c?`${l.author} mentioned you`:`${l.author}`,m=l.content.length>100?l.content.substring(0,100)+"...":l.content,y=new Notification(h,{body:m,icon:"/favicon.ico",badge:"/favicon.ico",tag:r});setTimeout(()=>{y.close()},5e3),y.onclick=()=>{window.focus(),y.close()}}}playNotificationSound(){if(this.audioContext)try{const l=this.audioContext.createOscillator(),r=this.audioContext.createGain();l.connect(r),r.connect(this.audioContext.destination),l.frequency.setValueAtTime(800,this.audioContext.currentTime),l.frequency.setValueAtTime(600,this.audioContext.currentTime+.1),r.gain.setValueAtTime(0,this.audioContext.currentTime),r.gain.linearRampToValueAtTime(.1,this.audioContext.currentTime+.01),r.gain.exponentialRampToValueAtTime(.001,this.audioContext.currentTime+.2),l.start(this.audioContext.currentTime),l.stop(this.audioContext.currentTime+.2)}catch(l){console.warn("Failed to play notification sound:",l)}}getAllUnreads(){return{...this.unreads}}clearAllUnreads(){this.unreads={},this.saveUnreads()}clearNodeUnreads(l){delete this.unreads[l],this.saveUnreads()}}const nn=new V0;function iu(){return u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:[u.jsx("div",{style:{width:24,height:24,border:"3px solid rgba(255,255,255,0.2)",borderTopColor:"#7289da",borderRadius:"50%",animation:"spin 0.6s linear infinite"}}),u.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}const gg="4b22a3e0f60fe32ccea16a131d315442e3f7303bb7ad1c72e2350bea25e7d19c",aS="0.1.0",ry=[],X0=new Set(ry.filter(o=>o.revoked).map(o=>o.hash)),Q0=new Set(ry.filter(o=>!o.revoked).map(o=>o.hash));function yg(o){return!o||o==="dev"?"unknown":X0.has(o)?"revoked":Q0.has(o)?"verified":"unknown"}function vg(o,l){const r=yg(o),c=yg(l);return r==="revoked"||c==="revoked"?"revoked":r==="verified"&&c==="verified"?"verified":"unknown"}function bg(o){switch(o){case"verified":return{level:"verified",emoji:"",label:"Verified",color:"#43b581"};case"revoked":return{level:"revoked",emoji:"",label:"Modified Build",color:"#f04747"};case"unknown":default:return{level:"unknown",emoji:"",label:"Unknown Build",color:"#faa61a"}}}function lS(o){return!o||o==="dev"?"dev":o.slice(0,8)}const J0=bi.lazy(()=>yu(()=>import("./VoiceChat-CHmUtmft.js"),__vite__mapDeps([0,1])).then(o=>({default:o.VoiceChat}))),I0=bi.lazy(()=>yu(()=>import("./NodeSettings-KAtOB__a.js"),__vite__mapDeps([2,1])).then(o=>({default:o.NodeSettings}))),$0=bi.lazy(()=>yu(()=>import("./NotificationSettings-C3uPZEq6.js"),__vite__mapDeps([3,1])).then(o=>({default:o.NotificationSettings}))),F0=bi.lazy(()=>yu(()=>import("./Settings-D8VieqdX.js"),__vite__mapDeps([4,1,5])).then(o=>({default:o.Settings})));function mt(o){return!o||o.length<16?o||"unknown":o.substring(0,8)+"..."+o.substring(o.length-8)}const W0=({channelName:o,connectedAt:l,onDisconnect:r})=>{const[c,h]=_.useState("00:00"),[m,y]=_.useState(!1),[v,b]=_.useState(!1);return _.useEffect(()=>{if(!l)return;const T=setInterval(()=>{const R=Math.floor((Date.now()-l)/1e3),C=String(Math.floor(R/60)).padStart(2,"0"),Z=String(R%60).padStart(2,"0");h(`${C}:${Z}`)},1e3);return()=>clearInterval(T)},[l]),u.jsxs("div",{className:"voice-connection-panel",children:[u.jsxs("div",{className:"voice-connection-info",children:[u.jsx("span",{className:"voice-connection-dot",children:""}),u.jsxs("div",{className:"voice-connection-details",children:[u.jsx("span",{className:"voice-connection-label",children:"Voice Connected"}),u.jsx("span",{className:"voice-connection-channel",children:o})]}),u.jsx("span",{className:"voice-connection-timer",children:c})]}),u.jsxs("div",{className:"voice-connection-controls",children:[u.jsx("button",{className:`voice-ctrl-btn ${m?"active":""}`,onClick:()=>y(!m),title:m?"Unmute":"Mute",children:m?"":""}),u.jsx("button",{className:`voice-ctrl-btn ${v?"active":""}`,onClick:()=>{b(!v),v||y(!0)},title:v?"Undeafen":"Deafen",children:v?"":""}),u.jsx("button",{className:"voice-ctrl-btn voice-disconnect-btn",onClick:r,title:"Disconnect",children:""})]})]})};function P0(){var Il,As,qa,ia,Na,sa,Cs,js,pl,Zi,Ka,Lt;const[o,l]=_.useState(()=>localStorage.getItem("accord_server_url")||"http://localhost:8080"),[r,c]=_.useState(!1),[h,m]=_.useState(!1),[y,v]=_.useState(!1),[b,T]=_.useState(""),[R,C]=_.useState(()=>{if(localStorage.getItem("accord_server_url"))return!1;const p=typeof window<"u"?window.location.origin:"";return p&&!p.includes(":1420")&&!p.includes(":5173")&&!p.includes(":3000")?(localStorage.setItem("accord_server_url",p),!1):!0}),[Z,K]=_.useState("choose"),[B,W]=_.useState(""),[te,ce]=_.useState(null),[he,me]=_.useState(""),[re,je]=_.useState(!1),[Fe,Et]=_.useState(""),[be,Ve]=_.useState(!1),[gt,Ge]=_.useState(""),[we,_e]=_.useState(!1),[Y,L]=_.useState(!1),[A,z]=_.useState(!0),[Q,ne]=_.useState(""),[ae,I]=_.useState(""),[le,$]=_.useState(""),[Ee,ge]=_.useState(!1),[ve,Ye]=_.useState(""),[Pe,rt]=_.useState(!1),[Xe,ut]=_.useState(""),[Ln,an]=_.useState(!1),[Nn,ln]=_.useState(!1),[da,Fa]=_.useState(""),[dn,Jn]=_.useState(""),[ha,In]=_.useState(""),[Si,as]=_.useState(!1),[Nt,ma]=_.useState(()=>pg()),Ft=_.useRef(""),[Qe,Zt]=_.useState(null),[ft]=_.useState(E0()),[k,De]=_.useState({isAuthenticated:!1,nodes:[],messages:[],isConnected:!1}),[Tn,hn]=_.useState(""),[Ut,Rt]=_.useState("# general"),[xt,Wa]=_.useState(0),[Oe,Dl]=_.useState(!1),[xe,Wt]=_.useState(null),[An,sn]=_.useState({status:"disconnected",reconnectAttempt:0,maxReconnectAttempts:20}),[bt,pa]=_.useState(null),[ke,Hn]=_.useState([]),[qn,Cn]=_.useState([]),[Bt,ga]=_.useState([]),[de,ya]=_.useState(null),[Ne,Vt]=_.useState(null),[$n,Fn]=_.useState(!1),[Xt,nt]=_.useState(!0),[at,cn]=_.useState(void 0),jn=_.useRef(null),[Wn,Ol]=_.useState(null),[Ma,ue]=_.useState(""),[w,J]=_.useState(null),oe=(f,p)=>{Ol(f),ue(p)},[ze,yt]=_.useState({}),[Ae,Dt]=_.useState(!1),[on,Qt]=_.useState(""),[Kn,wt]=_.useState("text"),[Pa,el]=_.useState(!1),[tc,kl]=_.useState(""),[xi,_t]=_.useState(""),[Yt,ls]=_.useState(null),[Co,wi]=_.useState(""),[jo,zl]=_.useState(null),[nc,rn]=_.useState(""),[ac,Bl]=_.useState(!1),[_i,va]=_.useState(""),[lc,ic]=_.useState(!1),[tl,_u]=_.useState([]),[sc,cc]=_.useState(null),[oc,Mo]=_.useState(null),Eu=["","","","","","","","","",""],[is,ba]=_.useState(nn.getPreferences()),[Ei,Ni]=_.useState(!1),[Ll,Pn]=_.useState(0),[ss,Hl]=_.useState(!1),[nl,ql]=_.useState([]),[lt,rc]=_.useState(null),[Kl,ea]=_.useState(!1),[Ti,Sa]=_.useState(!1),[uc,al]=_.useState(!1),[Ua,cs]=_.useState(""),[Pt,Ra]=_.useState(!1),[Ai,ll]=_.useState(""),[os,Ci]=_.useState(""),[rs,il]=_.useState(""),[ji,fc]=_.useState(!1),[dc,us]=_.useState(!1),[Da,hc]=_.useState(""),[Mi,Nu]=_.useState(""),[mc,Uo]=_.useState(null),[Tu,fs]=_.useState(!1),[pc,gc]=_.useState(!1),[Au,Cu]=_.useState(new Set),[Ui,Ro]=_.useState([]),[Ri,Do]=_.useState({}),[Yl,Oo]=_.useState(null),[ju,yc]=_.useState(!1),[vc,bc]=_.useState(""),[Sc,ko]=_.useState(!1),[sl,xc]=_.useState(null),[ds,Oa]=_.useState(""),[hs,Di]=_.useState(null),[ms,Gl]=_.useState(!1),[cl,wc]=_.useState(""),[ol,zo]=_.useState(!1),[_c,ps]=_.useState(!1),[Ec,Bo]=_.useState(!0),[Oi,rl]=_.useState(!1),Lo=_.useRef(null),ul=_.useRef(void 0),gs=_.useRef(!1),[Ho,Nc]=_.useState(!1),[ys,vs]=_.useState(0),[Tc,qo]=_.useState(new Map),[Ko,Mu]=_.useState(new Map),[Ot,ki]=_.useState(null),[Yo,un]=_.useState(new Map),[Zl,Ac]=_.useState(new Map),[Cc,Go]=_.useState(0),jc=_.useState(()=>localStorage.getItem("accord-typing-indicators")!=="false")[0],bs=_.useCallback(f=>ze[f]||"member",[ze]),zi=_.useCallback((f,p)=>{switch(bs(f)){case"admin":return!0;case"moderator":return["KickMembers","ManageInvites"].includes(p);case"member":return!1;default:return!1}},[bs]),ka=f=>{switch(f){case"admin":return"";case"moderator":return"";default:return""}},mn=f=>{f.message&&f.message.includes("403")?_t("You don't have permission to perform this action"):_t(f.message||"An error occurred"),setTimeout(()=>_t(""),5e3)},Bi=_.useCallback(f=>{if(!jc||!xe||!f)return;const p=Date.now();p-Cc>=3e3&&(xe.sendTypingStart(f),Go(p))},[xe,jc,Cc]),Ss=_.useCallback(f=>{const p=Yo.get(f)||[],S=localStorage.getItem("accord_user_id"),N=p.filter(F=>F.user_id!==S);if(N.length===0)return"";const q=F=>{var He,Ue;const ie=Bt.find(se=>se.user_id===F.user_id);return(He=ie==null?void 0:ie.user)!=null&&He.display_name?ie.user.display_name:(Ue=ie==null?void 0:ie.profile)!=null&&Ue.display_name?ie.profile.display_name:F.displayName};return N.length===1?`${q(N[0])} is typing`:N.length===2?`${q(N[0])} and ${q(N[1])} are typing`:"Several people are typing"},[Yo,Bt]);_.useEffect(()=>{const f=async()=>{const p=xd(),S=Ft.current;if(!p||!S)return null;try{const N=await X.login(p,S);return Is(N.token),localStorage.setItem("accord_user_id",N.user_id),De(q=>({...q,token:N.token})),N.token}catch{return null}};return X.setTokenRefresher(f),()=>X.setTokenRefresher(null)},[]),_.useEffect(()=>{(async()=>{if(!localStorage.getItem("accord_server_url")){const S=await ab();if(S){X.setBaseUrl(S),l(S),Dl(!0),C(!1);return}}const p=await X.testConnection();Dl(p)})()},[]);const za=_.useCallback(f=>{f.on("connected",()=>{var p;De(S=>({...S,isConnected:!0})),sn({status:"connected",reconnectAttempt:0,maxReconnectAttempts:20}),Uo(Date.now()),(p=ul.current)==null||p.call(ul)}),f.on("hello",p=>{p.server_version&&Nu(p.server_version),p.server_build_hash&&hc(p.server_build_hash)}),f.on("disconnected",()=>{De(p=>({...p,isConnected:!1})),Uo(null)}),f.on("connection_status",p=>{sn(p)}),f.on("auth_error",async()=>{const p=xd(),S=Ft.current;if(p&&S)try{const N=await X.login(p,S);Is(N.token),localStorage.setItem("accord_user_id",N.user_id),De(F=>({...F,token:N.token})),f.disconnect();const q=new Js(N.token,o.replace(/^http/,"ws"));za(q),Wt(q),q.connect();return}catch{}Ns()}),f.on("message",p=>{}),f.on("channel_message",async p=>{var P,Je,it;let S=p.encrypted_data,N=!1;if(ft&&Qe&&p.channel_id)try{const Ze=await Ia(Qe.privateKey,p.channel_id);S=await jd(Ze,p.encrypted_data),N=!0}catch(Ze){console.warn("Failed to decrypt message, showing encrypted data:",Ze)}const q=Bt.find(Ze=>Ze.user_id===p.from),F=q?((P=q.user)==null?void 0:P.display_name)||((Je=q.profile)==null?void 0:Je.display_name)||mt(q.public_key_hash||p.from||""):mt(p.from||""),ie={id:p.message_id||Math.random().toString(),author:F,content:S,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),timestamp:p.timestamp*1e3,channel_id:p.channel_id,isEncrypted:N,reply_to:p.reply_to,replied_message:p.replied_message?{id:p.replied_message.id,sender_id:p.replied_message.sender_id,sender_public_key_hash:p.replied_message.sender_public_key_hash||"",encrypted_payload:p.replied_message.encrypted_payload,created_at:p.replied_message.created_at,content:p.replied_message.content}:void 0};if(p.from&&Mu(Ze=>{const bn=new Map(Ze);return bn.set(p.from,Date.now()),bn}),p.is_dm||nl.some(Ze=>Ze.id===p.channel_id)){Tt();const Ze=nl.find(bn=>bn.id===p.channel_id);Ze&&(nn.addMessage(`dm-${Ze.id}`,p.channel_id,ie),Pn(bn=>bn+1))}else{const Ze=(it=ke.find(bn=>qn.some(It=>It.id===p.channel_id&&It.node_id===bn.id)))==null?void 0:it.id;Ze&&(nn.addMessage(Ze,p.channel_id,ie),Pn(bn=>bn+1))}const Ue=jn.current,se=Ue?Ue.scrollHeight-Ue.scrollTop-Ue.clientHeight<50:!0;De(Ze=>({...Ze,messages:[...Ze.messages,ie]})),se&&Ue?setTimeout(()=>{Ue.scrollTop=Ue.scrollHeight},0):vs(Ze=>Ze+1)}),f.on("node_info",p=>{p.data&&De(S=>({...S,nodes:S.nodes.map(N=>N.id===p.data.id?p.data:N)}))}),f.on("message_edit",async p=>{try{let S=p.encrypted_data;if(ft&&Qe){const N=await Ia(Qe.privateKey,p.channel_id);S=await jd(N,p.encrypted_data)}De(N=>({...N,messages:N.messages.map(q=>q.id===p.message_id?{...q,content:S,edited_at:p.edited_at,isEncrypted:ft}:q)}))}catch(S){console.warn("Failed to decrypt edited message:",S),De(N=>({...N,messages:N.messages.map(q=>q.id===p.message_id?{...q,content:p.encrypted_data,edited_at:p.edited_at,isEncrypted:!0}:q)}))}}),f.on("message_delete",p=>{De(S=>({...S,messages:S.messages.filter(N=>N.id!==p.message_id)}))}),f.on("reaction_add",p=>{De(S=>({...S,messages:S.messages.map(N=>N.id===p.message_id?{...N,reactions:p.reactions}:N)}))}),f.on("reaction_remove",p=>{De(S=>({...S,messages:S.messages.map(N=>N.id===p.message_id?{...N,reactions:p.reactions}:N)}))}),f.on("message_pin",p=>{De(S=>({...S,messages:S.messages.map(N=>N.id===p.message_id?{...N,pinned_at:p.timestamp,pinned_by:p.pinned_by}:N)}))}),f.on("message_unpin",p=>{De(S=>({...S,messages:S.messages.map(N=>N.id===p.message_id?{...N,pinned_at:void 0,pinned_by:void 0}:N)}))}),f.on("typing_start",p=>{const S={user_id:p.user_id,displayName:p.public_key_hash?mt(p.public_key_hash):p.user_id.substring(0,8),startedAt:Date.now()};un(q=>{const F=new Map(q),He=(F.get(p.channel_id)||[]).filter(Ue=>Ue.user_id!==p.user_id);return F.set(p.channel_id,[...He,S]),F});const N=`${p.channel_id}_${p.user_id}`;Ac(q=>{const F=new Map(q),ie=F.get(N);ie&&clearTimeout(ie);const He=window.setTimeout(()=>{un(Ue=>{const se=new Map(Ue),Je=(se.get(p.channel_id)||[]).filter(it=>it.user_id!==p.user_id);return Je.length>0?se.set(p.channel_id,Je):se.delete(p.channel_id),se}),Ac(Ue=>{const se=new Map(Ue);return se.delete(N),se})},5e3);return F.set(N,He),F})}),f.on("presence_update",p=>{p.user_id&&p.status&&qo(S=>{const N=new Map(S);return N.set(p.user_id,p.status),N})}),f.on("error",p=>{console.error("WebSocket error:",p)})},[ft,Qe]);_.useEffect(()=>()=>{Zl.forEach(f=>clearTimeout(f))},[Zl]);const Jt=_.useCallback(async()=>{if(!(!k.token||!Oe))try{const f=await X.getUserNodes(k.token);Hn(Array.isArray(f)?f:[]),f.length>0&&!de&&ya(f[0].id)}catch(f){console.error("Failed to load nodes:",f)}},[k.token,Oe,de]);ul.current=Jt;const pn=_.useCallback(async f=>{if(!(!k.token||!Oe))try{const p=await X.getNodeChannels(f,k.token);Cn(Array.isArray(p)?p:[]),p.length>0&&!Ne&&Vt(p[0].id)}catch(p){console.error("Failed to load channels:",p),mn(p),Cn([])}},[k.token,Oe,Ne]),Ba=_.useCallback(async f=>{if(!(!k.token||!Oe))try{const p=await X.getNodeMembers(f,k.token),S=(Array.isArray(p)?p:[]).map(q=>{var F;return{...q,user:q.user||{id:q.user_id,public_key_hash:q.public_key_hash||"",public_key:"",created_at:q.joined_at||0,display_name:((F=q.profile)==null?void 0:F.display_name)||void 0}}});ga(S),fl(f,S);const N=localStorage.getItem("accord_user_id");if(N&&S.length>0){const q=S.find(F=>F.user_id===N);q&&yt(F=>({...F,[f]:q.role}))}}catch(p){console.error("Failed to load members:",p),mn(p),ga([])}},[k.token,Oe]),xs=_.useCallback(async f=>{if(!(!k.token||!Oe))try{const p=await X.getRoles(f,k.token);Ro(Array.isArray(p)?p:[])}catch(p){console.error("Failed to load roles:",p),Ro([])}},[k.token,Oe]),fl=_.useCallback(async(f,p)=>{if(!k.token||!Oe)return;const S={};await Promise.all(p.map(async N=>{try{const q=await X.getMemberRoles(f,N.user_id,k.token);S[N.user_id]=Array.isArray(q)?q:[]}catch{S[N.user_id]=[]}})),Do(S)},[k.token,Oe]),Mc=_.useCallback(f=>{const p=Ri[f];if(!p||p.length===0)return;const S=[...p].sort((F,ie)=>ie.position-F.position),N=S.find(F=>F.hoist&&F.color);if(N)return N.color;const q=S.find(F=>F.color);return(q==null?void 0:q.color)||void 0},[Ri]),Zo=_.useCallback(f=>{const p=Ri[f];if(!(!p||p.length===0))return[...p].sort((S,N)=>N.position-S.position).find(S=>S.hoist)},[Ri]),Vo=_.useCallback(async(f,p,S)=>{if(!(!de||!k.token))try{S?await X.removeMemberRole(de,f,p,k.token):await X.assignMemberRole(de,f,p,k.token);const N=await X.getMemberRoles(de,f,k.token);Do(q=>({...q,[f]:Array.isArray(N)?N:[]}))}catch(N){_t(N instanceof Error?N.message:"Failed to update role")}},[de,k.token]),Vl=_.useCallback(async f=>{if(!(!k.token||!Oe))try{const p=await X.getChannelMessages(f,k.token),S=p.messages.map(N=>({...N,author:N.author||mt(N.sender_public_key_hash||N.sender_id||"")||"Unknown",time:N.time||new Date(N.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}));S.sort((N,q)=>N.timestamp-q.timestamp),De(N=>({...N,messages:S})),nt(p.has_more),cn(p.next_cursor),setTimeout(()=>{const N=jn.current;N&&(N.scrollTop=N.scrollHeight)},0),xa(f,S)}catch(p){console.error("Failed to load messages:",p),mn(p),De(S=>({...S,messages:[]})),nt(!1),cn(void 0)}},[k.token,Oe]),Xo=_.useCallback(async f=>{if(!(!k.token||!Oe||$n||!Xt||!at)){Fn(!0);try{const p=await X.getChannelMessages(f,k.token,50,at);if(p.messages.length===0){nt(!1),Fn(!1);return}const S=p.messages.map(ie=>({...ie,author:ie.author||mt(ie.sender_public_key_hash||ie.sender_id||"")||"Unknown",time:ie.time||new Date(ie.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}));S.sort((ie,He)=>ie.timestamp-He.timestamp);const N=jn.current,q=(N==null?void 0:N.scrollTop)||0,F=(N==null?void 0:N.scrollHeight)||0;De(ie=>({...ie,messages:[...S,...ie.messages]})),nt(p.has_more),cn(p.next_cursor),setTimeout(()=>{if(N){const He=N.scrollHeight-F;N.scrollTop=q+He}},0)}catch(p){console.error("Failed to load older messages:",p),mn(p)}finally{Fn(!1)}}},[k.token,Oe,$n,Xt,at]),Uu=_.useCallback(f=>{const p=Lo.current;if(p){const S=p.selectionStart,N=p.selectionEnd,q=Tn.substring(0,S)+f+Tn.substring(N);hn(q),setTimeout(()=>{p.selectionStart=p.selectionEnd=S+f.length,p.focus()},0)}else hn(S=>S+f);rl(!1)},[Tn]),Qo=_.useCallback(f=>{const p=f.target;p.scrollTop<=50&&Xt&&!$n&&Ne&&Xo(Ne);const S=p.scrollHeight-p.scrollTop-p.clientHeight;Nc(S>200),S<50&&vs(0)},[Xt,$n,Ne,Xo]),Jo=_.useCallback(()=>{const f=jn.current;f&&(f.scrollTo({top:f.scrollHeight,behavior:"smooth"}),vs(0))},[]),Uc=_.useCallback((f,p)=>{ya(f),Vt(null),Wa(p),Cn([]),ga([]),De(S=>({...S,messages:[]})),Fn(!1),nt(!0),cn(void 0),pn(f),Ba(f),xs(f)},[pn,Ba,xs]),Tt=_.useCallback(async()=>{if(!(!k.token||!Oe))try{const f=await X.getDmChannels(k.token);ql(f.dm_channels)}catch(f){console.error("Failed to load DM channels:",f),mn(f),ql([])}},[k.token,Oe]),Li=_.useCallback(async f=>{if(!k.token||!Oe)return null;try{const p=await X.createDmChannel(f,k.token);return await Tt(),p}catch(p){return console.error("Failed to create DM channel:",p),mn(p),null}},[k.token,Oe,Tt]),fn=_.useCallback(f=>{ya(null),Vt(null),rc(f),nn.setActiveChannel(f.id),Fn(!1),nt(!0),cn(void 0),Vl(f.id),xe&&xe.isSocketConnected()&&xe.joinChannel(f.id)},[Vl,xe]),La=_.useCallback(async f=>{const p=await Li(f.id);if(p){await Tt();const S=nl.find(N=>N.id===p.id);S&&fn(S)}},[Li,Tt,nl,fn]),ws=async()=>{if(!(!cl.trim()||!k.token)){zo(!0);try{await X.updateProfile({display_name:cl.trim()},k.token),De(f=>({...f,user:f.user?{...f.user,display_name:cl.trim()}:f.user})),nn.setCurrentUsername(cl.trim()),Gl(!1),wc("")}catch(f){console.error("Failed to update display name:",f)}finally{zo(!1)}}},Hi=async()=>{if(!k.token)return;const f=_i.trim().slice(0,128);try{await X.updateProfile({custom_status:f||void 0},k.token),rn(f),Bl(!1)}catch(p){console.error("Failed to update custom status:",p)}};_.useEffect(()=>{var f;(f=k.user)!=null&&f.id&&k.token&&X.getUserProfile(k.user.id,k.token).then(p=>{p!=null&&p.custom_status&&(rn(p.custom_status),va(p.custom_status))}).catch(()=>{})},[(Il=k.user)==null?void 0:Il.id,k.token]);const Xl=_.useCallback((f,p)=>{if(Vt(f),Rt(p),De(S=>({...S,activeChannel:f})),nn.setActiveChannel(f),de){const S=k.messages.length>0?k.messages[k.messages.length-1]:null;nn.markChannelAsRead(de,f,S==null?void 0:S.id),localStorage.setItem(`accord_lastread_${f}`,Date.now().toString()),Pn(N=>N+1)}Fn(!1),nt(!0),cn(void 0),Vl(f),xe&&xe.isSocketConnected()&&xe.joinChannel(f)},[Vl,xe,de,k.messages]),Rc=async()=>{if(!(!de||!k.token||!on.trim()))try{await X.createChannel(de,on.trim(),Kn,k.token),Dt(!1),Qt(""),wt("text"),await pn(de)}catch(f){console.error("Failed to create channel:",f),mn(f)}},dl=async()=>{if(!(!de||!k.token))try{const f=await X.createInviteWithOptions(de,k.token),p=X.getBaseUrl();try{const N=new URL(p).host;kl(cb(N,f.invite_code))}catch{kl(f.invite_code)}el(!0)}catch(f){console.error("Failed to generate invite:",f),mn(f)}},Io=async(f,p)=>{if(!(!de||!k.token||!window.confirm(`Are you sure you want to kick ${p} from this node?`)))try{await X.kickMember(de,f,k.token),await Ba(de)}catch(N){console.error("Failed to kick member:",N),mn(N)}},_s=async f=>{if(k.token){try{await X.deleteChannel(f,k.token),f===Ne&&(Vt(null),Rt("# general")),de&&await pn(de)}catch(p){console.error("Failed to delete channel:",p),mn(p)}Di(null)}},hl=async()=>{if(!(!k.token||!Ua.trim())){Ra(!0),ll("");try{const f=Ua.trim(),p=Pp(f),S=p?p.inviteCode:f;await X.joinNodeByInvite(S,k.token),al(!1),Sa(!1),cs(""),await Jt()}catch(f){ll(f.message||"Failed to join node")}finally{Ra(!1)}}},$o=async()=>{if(!(!k.token||!os.trim())&&!gs.current){gs.current=!0,fc(!0);try{const f=await X.createNode(os.trim(),k.token,rs.trim()||void 0);try{const p=await X.getNodeChannels(f.id,k.token);Array.isArray(p)&&p.length>0||await X.createChannel(f.id,"general","text",k.token)}catch(p){console.warn("Failed to check/create #general channel:",p)}await Jt(),ya(f.id),Wa(ke.length),Sa(!1),Ci(""),il(""),await pn(f.id),await Ba(f.id)}catch(f){console.error("Failed to create node:",f),mn(f)}finally{fc(!1),gs.current=!1}}},gn=_.useCallback(f=>{nn.updatePreferences(f),ba(f),Pn(p=>p+1)},[]),Dc=_.useCallback((f,p)=>{if(f!==Ne){const S=qn.find(N=>N.id===f);S&&Xl(f,`# ${S.name}`)}},[Ne,qn,Xl]),xa=_.useCallback((f,p)=>{if(de&&p.length>0){const S=p[p.length-1];nn.markChannelAsRead(de,f,S.id),localStorage.setItem(`accord_lastread_${f}`,Date.now().toString()),Pn(N=>N+1)}},[de]),Oc=async()=>{me("");const f=Pp(B);if(!f){me("Invalid invite link. Expected format: accord://host:port/invite/CODE or https://host:port/invite/CODE");return}ce(f),je(!0);try{X.setBaseUrl(f.relayUrl);const p=await X.health();c(!0),Dl(!0),Et(p.version),l(f.relayUrl);const S=ob(f.relayHost),N=ub(f.relayHost);if(S&&N)try{Is(S),localStorage.setItem("accord_user_id",N);let q="";if(ft){const He=await au();if(He){Zt(He);const Ue=await Wi(He.publicKey);q=await gi(Ue),Ye(q),Xa(q),I(Ue)}}De(He=>({...He,isAuthenticated:!0,token:S,user:{id:N,public_key_hash:q,public_key:"",created_at:0,display_name:mt(q)}})),L(!0);try{await X.joinNodeByInvite(f.inviteCode,S)}catch{}const F=o.replace(/^http/,"ws"),ie=new Js(S,F);za(ie),Wt(ie),ie.connect(),C(!1),setTimeout(()=>{Jt(),Tt()},100);return}catch{}Ve(!0)}catch{me(`Cannot connect to relay at ${f.relayUrl}`),ce(null)}finally{je(!1)}},qi=async()=>{if(te){if(me(""),gt.length<8){me("Password must be at least 8 characters");return}_e(!0);try{let f="",p="";if(ft){const q=await Sd();f=await Wi(q.publicKey),p=await gi(f),Xa(p),await nu(q,p),await lu(q,gt,p),Zt(q),I(f);const F=await hg(q);ut(F)}if(!f){me("Failed to generate encryption keys"),_e(!1);return}await X.register(f,gt),Ft.current=gt,Ye(p),Xa(p);const S=await X.login(f,gt);Is(S.token),localStorage.setItem("accord_user_id",S.user_id),rb(te.relayHost,S.token),fb(te.relayHost,S.user_id);try{await X.joinNodeByInvite(te.inviteCode,S.token)}catch{}De(q=>({...q,isAuthenticated:!0,token:S.token,user:{id:S.user_id,public_key_hash:p,public_key:f,created_at:0,display_name:mt(p)}})),L(!0),nn.setCurrentUsername(mt(p));const N=new Js(S.token,o.replace(/^http/,"ws"));za(N),Wt(N),N.connect(),rt(!0),an(!1),C(!1),setTimeout(()=>{Gl(!0)},500),setTimeout(()=>{Jt(),Tt()},100)}catch(f){me(f instanceof Error?f.message:"Registration failed")}finally{_e(!1)}}},ta=async()=>{v(!0),$("");try{const f=o.replace(/\/+$/,"");l(f),X.setBaseUrl(f),localStorage.setItem("accord_server_url",f);const p=await X.health();c(!0),Dl(!0),T(p.version),m(!1),C(!1)}catch{$(`Cannot connect to ${o}`),c(!1)}finally{v(!1)}},Es=async()=>{if(!Oe){if(ft&&!Qe)try{const f=await Sd();await nu(f),Zt(f);const p=await Wi(f.publicKey);I(p),Ye(await gi(p))}catch(f){console.warn("Failed to generate demo keys:",f)}L(!0),De(f=>({...f,isAuthenticated:!0}));return}$("");try{if(A){let f=ae.trim();if(!f&&ft){const q=localStorage.getItem("accord_public_key_hash");q&&Xa(q);let F=await mg(Q);if(F||(F=await au()),F)f=await Wi(F.publicKey),Zt(F),I(f);else if(Nt){const ie=xd();ie&&(f=ie)}if(!f){const ie=localStorage.getItem("accord_public_key_plain");ie&&(f=ie)}}if(!f){if(localStorage.getItem("accord_public_key_hash")){$("Keypair not found in this browser. Use 'Recover with recovery phrase' to restore your identity, or register a new account.");return}$("No identity found. Create a new identity or recover with your recovery phrase.");return}const p=await X.login(f,Q);Is(p.token),localStorage.setItem("accord_user_id",p.user_id),Ft.current=Q;const S=await gi(f);if(Ye(S),Xa(S),ft&&!Qe){let q=await mg(Q,S);q||(q=await au(S)),q&&(Zt(q),await lu(q,Q,S))}ma(!0),localStorage.setItem("accord_public_key_plain",f),localStorage.setItem("accord_public_key_hash",S),De(q=>({...q,isAuthenticated:!0,token:p.token,user:{id:p.user_id,public_key_hash:S,public_key:f,created_at:0,display_name:mt(S)}})),L(!0),nn.setCurrentUsername(mt(S));const N=new Js(p.token,o.replace(/^http/,"ws"));za(N),Wt(N),N.connect(),setTimeout(()=>{Jt(),Tt()},100)}else{if(Q.length<8){$("Password must be at least 8 characters long");return}let f=ae.trim();if(!f&&ft)try{const S=await Sd();f=await Wi(S.publicKey);const N=await gi(f);Xa(N),await nu(S,N),await lu(S,Q,N),Zt(S),I(f);const q=await hg(S);ut(q)}catch{$("Failed to generate encryption keys");return}if(!f){$("Public key generation failed. Crypto may not be supported.");return}await X.register(f,Q),Ft.current=Q;const p=await gi(f);Ye(p),Xa(p),localStorage.setItem("accord_public_key_plain",f),localStorage.setItem("accord_public_key_hash",p),rt(!0),an(!1),setTimeout(()=>{Gl(!0)},500)}}catch(f){$(f instanceof Error?f.message:"Authentication failed")}},kc=async()=>{In(""),as(!0);try{const f=O0(da),p=await Wi(f.publicKey),S=await X.login(p,dn),N=await gi(p);Xa(N),await nu(f,N),await lu(f,dn,N),Zt(f),I(p),Ft.current=dn,Ye(N),Xa(N),Is(S.token),localStorage.setItem("accord_user_id",S.user_id),De(F=>({...F,isAuthenticated:!0,token:S.token,user:{id:S.user_id,public_key_hash:N,public_key:p,created_at:0,display_name:mt(N)}})),L(!0),ln(!1),Fa(""),Jn(""),ma(!0),nn.setCurrentUsername(mt(N));const q=new Js(S.token,o.replace(/^http/,"ws"));za(q),Wt(q),q.connect(),setTimeout(()=>{Jt(),Tt()},100)}catch(f){In(f instanceof Error?f.message:"Recovery failed. Check your phrase and password.")}finally{as(!1)}},Ns=()=>{xe&&(xe.disconnect(),Wt(null)),cy(),localStorage.removeItem("accord_user_id"),Ft.current="",Zt(null),M0(),ma(pg()),Hn([]),Cn([]),ga([]),ya(null),Vt(null),L(!1),De({isAuthenticated:!1,nodes:[],messages:[],isConnected:!1}),ne(""),I(""),Ye(""),C(!0),K("choose"),W(""),ce(null),me(""),Ve(!1),Ge("")},Fo=async()=>{var p,S,N,q;if(!Tn.trim())return;const f=(lt==null?void 0:lt.id)||Ne||k.activeChannel;if(xe&&xe.isSocketConnected()&&f)try{let F=Tn,ie=!1;if(ft&&Qe&&f)try{const se=await Ia(Qe.privateKey,f);F=await Cd(se,Tn),ie=!0}catch(se){console.warn("Failed to encrypt message, sending plaintext:",se)}xe.sendChannelMessage(f,F,bt==null?void 0:bt.id);const He={id:Math.random().toString(),author:((p=k.user)==null?void 0:p.display_name)||mt(((S=k.user)==null?void 0:S.public_key_hash)||"")||"You",content:Tn,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),timestamp:Date.now(),channel_id:f,isEncrypted:ie,reply_to:bt==null?void 0:bt.id,replied_message:bt?{id:bt.id,sender_id:bt.author,sender_public_key_hash:"",encrypted_payload:"",created_at:bt.timestamp,content:bt.content}:void 0};De(se=>({...se,messages:[...se.messages,He]}));const Ue=jn.current;Ue&&setTimeout(()=>{Ue.scrollTop=Ue.scrollHeight},0)}catch(F){console.error("Failed to send message:",F)}else{const F={id:Math.random().toString(),author:((N=k.user)==null?void 0:N.display_name)||mt(((q=k.user)==null?void 0:q.public_key_hash)||"")||"You",content:Tn,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),timestamp:Date.now(),isEncrypted:!1};De(He=>({...He,messages:[...He.messages,F]}));const ie=jn.current;ie&&setTimeout(()=>{ie.scrollTop=ie.scrollHeight},0)}hn(""),pa(null)},yn=async()=>{if(!(!Wn||!Ma.trim()||!k.user))try{let f=Ma;if(ft&&Qe&&Ne)try{const p=await Ia(Qe.privateKey,Ne);f=await Cd(p,Ma)}catch(p){console.warn("Failed to encrypt edited message:",p),_t("Failed to encrypt message");return}xe&&xe.isSocketConnected()?xe.sendEditMessage(Wn,f):(await X.editMessage(Wn,k.user.id,f),De(p=>({...p,messages:p.messages.map(S=>S.id===Wn?{...S,content:Ma,edited_at:Date.now()}:S)}))),Ol(null),ue("")}catch(f){console.error("Failed to edit message:",f),_t("Failed to edit message")}},Ha=()=>{Ol(null),ue("")},Ql=async f=>{if(k.token)try{xe&&xe.isSocketConnected()?xe.sendDeleteMessage(f):(await X.deleteMessage(f,k.token),De(p=>({...p,messages:p.messages.filter(S=>S.id!==f)}))),J(null)}catch(p){console.error("Failed to delete message:",p),_t("Failed to delete message")}},Ki=f=>{if(!k.user||!de)return!1;if(f.author===(k.user.display_name||mt(k.user.public_key_hash)))return!0;const p=localStorage.getItem("accord_user_id"),S=Bt.find(N=>N.user_id===p);return S?S.role==="admin"||S.role==="moderator":!1},Yi=f=>{pa(f);const p=document.querySelector(".message-input");p&&p.focus()},vn=()=>{pa(null)},Mn=f=>{const p=document.querySelector(`[data-message-id="${f}"]`);p&&(p.scrollIntoView({behavior:"smooth",block:"center"}),p.classList.add("highlight-message"),setTimeout(()=>{p.classList.remove("highlight-message")},2e3))},na=async(f,p)=>{if(k.token){try{xe&&xe.isSocketConnected()?xe.addReaction(f,p):await X.addReaction(f,p,k.token)}catch(S){console.error("Failed to add reaction:",S),_t("Failed to add reaction")}cc(null)}},aa=async(f,p)=>{if(k.token)try{xe&&xe.isSocketConnected()?xe.removeReaction(f,p):await X.removeReaction(f,p,k.token)}catch(S){console.error("Failed to remove reaction:",S),_t("Failed to remove reaction")}},la=async f=>{if(k.token)try{xe&&xe.isSocketConnected()?xe.pinMessage(f):await X.pinMessage(f,k.token)}catch(p){console.error("Failed to pin message:",p),_t("Failed to pin message")}},wa=async f=>{if(k.token)try{xe&&xe.isSocketConnected()?xe.unpinMessage(f):await X.unpinMessage(f,k.token)}catch(p){console.error("Failed to unpin message:",p),_t("Failed to unpin message")}},Wo=async()=>{if(!(!Ne||!k.token))try{const p=(await X.getPinnedMessages(Ne,k.token)).pinned_messages.map(S=>({...S,time:new Date(S.created_at*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),pinned_at:S.pinned_at*1e3,timestamp:S.created_at*1e3}));_u(p)}catch(f){console.error("Failed to load pinned messages:",f),_t("Failed to load pinned messages")}},zc=()=>{ic(f=>(f||Wo(),!f))},Ts=async(f,p)=>{if(!k.user)return;const S=k.messages.find(q=>q.id===f);if(!S||!S.reactions){na(f,p);return}const N=S.reactions.find(q=>q.emoji===p);N&&N.users.includes(k.user.id)?aa(f,p):na(f,p)};_.useEffect(()=>{(async()=>{const p=z0(),S=localStorage.getItem("accord_user_id");if(p&&S&&Oe){C(!1);let N=null;ft&&(N=await au(),N&&Zt(N));let q="";if(N){const ie=await Wi(N.publicKey);q=await gi(ie),Ye(q),Xa(q),I(ie)}De(ie=>({...ie,isAuthenticated:!0,token:p,user:{id:S,public_key_hash:q,public_key:"",created_at:0,display_name:mt(q)}})),L(!0);const F=new Js(p,o.replace(/^http/,"ws"));za(F),Wt(F),F.connect(),setTimeout(()=>{Jt(),Tt()},100)}})()},[Oe,za,ft,Jt]),_.useEffect(()=>{de&&k.token&&Oe&&(pn(de),Ba(de))},[de,k.token,Oe,pn,Ba]),_.useEffect(()=>{Ne&&k.token&&Oe&&Vl(Ne)},[Ne,k.token,Oe,Vl]),_.useEffect(()=>{const f=p=>{if((p.ctrlKey||p.metaKey)&&(p.key==="k"||p.key==="f")&&(p.preventDefault(),Hl(!0)),(p.ctrlKey||p.metaKey)&&p.key===","&&(p.preventDefault(),us(!0)),(p.ctrlKey||p.metaKey)&&p.key==="/"&&(p.preventDefault(),ps(S=>!S)),p.key==="Escape"){if(_c){ps(!1);return}if(ss){Hl(!1);return}if(dc){us(!1);return}if(pc){gc(!1);return}if(hs){Di(null);return}if(Ei){Ni(!1);return}if(Ti){Sa(!1);return}if(Pa){el(!1);return}if(ms){Gl(!1);return}if(Wn){Ha();return}if(bt){vn();return}}};return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[_c,ss,dc,Ei,Ti,Pa,ms,Wn,bt]),_.useEffect(()=>{const f=localStorage.getItem("accord-font-size");f&&document.documentElement.style.setProperty("--font-size",f)},[]);const[Po]=_.useState(()=>localStorage.getItem("accord-message-density")||"comfortable");_.useEffect(()=>()=>{xe&&xe.disconnect()},[xe]);const pt=_.useCallback(f=>{var q;const p=Tc.get(f);if(p)return p;const S=Ko.get(f);if(S&&Date.now()-S<300*1e3)return"online";const N=Bt.find(F=>F.user_id===f);return N!=null&&N.status?N.status:(q=N==null?void 0:N.profile)!=null&&q.status?N.profile.status:"offline"},[Tc,Ko,Bt]),dt=bi.useMemo(()=>{const f={online:0,idle:1,dnd:2,offline:3};return[...Bt].sort((p,S)=>{const N=f[pt(p.user_id)]??3,q=f[pt(S.user_id)]??3;return N-q})},[Bt,pt]),Me=_.useCallback((f,p,S,N,q,F)=>{f.preventDefault(),ki({x:f.clientX,y:f.clientY,userId:p,publicKeyHash:S,displayName:N,bio:q,user:F})},[]);if(_.useEffect(()=>{const f=()=>ki(null);if(Ot)return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[Ot]),Pe)return u.jsx("div",{className:"app",children:u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-card key-backup-card",children:[u.jsx("h2",{className:"auth-title",children:" Save Your Recovery Phrase"}),u.jsxs("p",{className:"auth-subtitle",children:["This 24-word phrase is the ",u.jsx("strong",{children:"only way"})," to recover your identity if you lose access to this browser.",u.jsx("strong",{className:"warning",style:{color:"var(--yellow)"},children:" Write it down and store it safely. It will NOT be shown again."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Recovery Phrase (24 words)"}),u.jsx("div",{style:{background:"var(--bg-tertiary)",border:"2px solid var(--yellow)",borderRadius:"8px",padding:"16px",fontFamily:"monospace",fontSize:"15px",lineHeight:"2",wordSpacing:"8px",userSelect:"all",cursor:"text"},children:Xe})]}),u.jsx("div",{className:"form-group",style:{marginTop:"16px"},children:u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[u.jsx("input",{type:"checkbox",checked:Ln,onChange:f=>an(f.target.checked)}),"I have written down my recovery phrase and stored it safely"]})}),u.jsxs("div",{className:"key-backup-actions",children:[u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Xe).catch(()=>{}),alert("Recovery phrase copied to clipboard! Store it safely and clear your clipboard.")},className:"btn btn-green",children:"Copy to Clipboard"}),u.jsx("button",{onClick:()=>{rt(!1),ut(""),Y||(z(!0),ne(""),$(""))},disabled:!Ln,className:"btn btn-primary",title:Ln?"":"Please acknowledge you saved your phrase",children:Y?"Continue":"Continue to Login"})]})]})})});if(Nn)return u.jsx("div",{className:"app",children:u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-card",children:[u.jsx("button",{onClick:()=>{ln(!1),In(""),Fa(""),Jn("")},className:"auth-back-btn",children:" Back"}),u.jsx("h2",{className:"auth-title",children:" Recover Identity"}),u.jsx("p",{className:"auth-subtitle",children:"Enter your 24-word recovery phrase and password to restore your identity"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Recovery Phrase (24 words)"}),u.jsx("textarea",{placeholder:"word1 word2 word3 ... word24",value:da,onChange:f=>Fa(f.target.value),rows:3,className:"form-textarea",style:{fontFamily:"monospace"}})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Password"}),u.jsx("input",{type:"password",placeholder:"Your account password",value:dn,onChange:f=>Jn(f.target.value),onKeyDown:f=>{f.key==="Enter"&&kc()},className:"form-input"})]}),ha&&u.jsx("div",{className:"auth-error",children:ha}),u.jsx("button",{onClick:kc,disabled:Si||!da.trim()||!dn,className:"btn btn-primary",children:Si?"Recovering...":"Recover Identity"})]})})});if(Ee)return u.jsx("div",{className:"app",children:u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-card key-backup-card",children:[u.jsx("h2",{className:"auth-title",children:" Backup Your Key"}),u.jsxs("p",{className:"auth-subtitle",children:["Your identity is your keypair. If you lose it, you lose access to your account forever.",u.jsx("strong",{className:"warning",style:{color:"var(--yellow)"},children:" There is no recovery."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Your Public Key Fingerprint"}),u.jsx("div",{className:"key-value",children:ve||"computing..."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Public Key (share this)"}),u.jsx("textarea",{readOnly:!0,value:ae,rows:3,className:"form-textarea"})]}),u.jsx("div",{className:"auth-success",style:{marginBottom:"16px"},children:" Your keypair is saved in this browser's storage. To use Accord on another device, you'll need to export and import your key."}),u.jsxs("div",{className:"key-backup-actions",children:[u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(ae).catch(()=>{}),alert("Public key copied to clipboard!")},className:"btn btn-green",children:"Copy Public Key"}),u.jsx("button",{onClick:()=>{ge(!1),z(!0),ne(""),$("")},className:"btn btn-primary",children:"Continue to Login"})]})]})})});if(R)return u.jsx("div",{className:"app",children:u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-card auth-card-narrow",children:[Z==="choose"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"auth-brand",children:u.jsxs("h1",{children:[" ",u.jsx("span",{className:"brand-accent",children:"Accord"})]})}),u.jsx("p",{className:"auth-tagline",children:"Privacy-first community communications"}),u.jsx("div",{className:"auth-buttons-stack",children:Oe?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{C(!1),z(!0)},className:"btn btn-primary",children:"Log in"}),u.jsx("button",{onClick:()=>{C(!1),z(!1)},className:"btn btn-outline",children:"Create new identity"}),u.jsx("button",{onClick:()=>K("invite"),className:"btn btn-outline",children:"I have an invite link"}),u.jsx("button",{onClick:()=>{C(!1),ln(!0),In("")},className:"btn-ghost",style:{fontSize:"13px",marginTop:"8px",opacity:.8},children:" Recover identity with recovery phrase"})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>K("invite"),className:"btn btn-primary",children:"I have an invite link"}),u.jsx("button",{onClick:()=>K("admin"),className:"btn btn-outline",children:"Set up a new relay (admin)"}),u.jsx("button",{onClick:()=>K("recover"),className:"btn-ghost",style:{fontSize:"13px",marginTop:"8px",opacity:.8},children:" Recover identity (connect to relay first)"})]})})]}),Z==="invite"&&!be&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{K("choose"),me(""),W(""),ce(null),Et("")},className:"auth-back-btn",children:" Back"}),u.jsx("h2",{className:"auth-title",children:"Join via Invite"}),u.jsx("p",{className:"auth-subtitle",children:"Paste the invite link you received"}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"text",placeholder:"accord://host:port/invite/CODE or https://...",value:B,onChange:f=>W(f.target.value),onKeyDown:f=>{f.key==="Enter"&&Oc()},className:"form-input"})}),he&&u.jsx("div",{className:"auth-error",children:he}),Fe&&u.jsxs("div",{className:"auth-success",children:[" Connected to relay v",Fe]}),u.jsx("button",{onClick:Oc,disabled:re||!B.trim(),className:"btn btn-primary",children:re?"Connecting to relay...":"Join"})]}),Z==="invite"&&be&&u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"auth-title",children:"Create Your Identity"}),u.jsx("p",{className:"auth-subtitle",children:"Connected to relay  now set a password to create your identity"}),u.jsx("div",{className:"auth-info-box",children:u.jsx("span",{className:"accent",children:" A keypair will be auto-generated. No username needed."})}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Password (min 8 characters)"}),u.jsx("input",{type:"password",placeholder:"Choose a password",value:gt,onChange:f=>Ge(f.target.value),onKeyDown:f=>{f.key==="Enter"&&qi()},className:"form-input"})]}),he&&u.jsx("div",{className:"auth-error",children:he}),u.jsx("button",{onClick:qi,disabled:we||gt.length<8,className:"btn btn-green",children:we?"Creating identity & joining...":"Create Identity & Join"})]}),Z==="admin"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{K("choose"),$("")},className:"auth-back-btn",children:" Back"}),u.jsx("h2",{className:"auth-title",children:"Connect to Relay"}),u.jsx("p",{className:"auth-subtitle",children:"Enter the relay server URL (admin/power-user)"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Server URL"}),u.jsx("input",{type:"text",placeholder:"http://localhost:8080",value:o,onChange:f=>l(f.target.value),onKeyDown:f=>{f.key==="Enter"&&ta()},className:"form-input"})]}),le&&u.jsx("div",{className:"auth-error",children:le}),b&&u.jsxs("div",{className:"auth-success",children:[" Connected  server v",b]}),u.jsx("button",{onClick:ta,disabled:y,className:"btn btn-primary",children:y?"Connecting...":"Connect"})]})]})})});if(h)return u.jsx("div",{className:"app",children:u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-card auth-card-narrow",children:[u.jsx("h2",{className:"auth-title",children:"Connect to Relay"}),u.jsx("p",{className:"auth-subtitle",children:"Manual relay connection"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Server URL"}),u.jsx("input",{type:"text",placeholder:"http://localhost:8080",value:o,onChange:f=>l(f.target.value),onKeyDown:f=>{f.key==="Enter"&&ta()},className:"form-input"})]}),le&&u.jsx("div",{className:"auth-error",children:le}),b&&u.jsxs("div",{className:"auth-success",children:[" Connected  server v",b]}),u.jsx("button",{onClick:ta,disabled:y,className:"btn btn-primary",children:y?"Connecting...":"Connect"})]})})});if(!Y)return u.jsx("div",{className:"app",children:u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-card",children:[u.jsx("h2",{className:"auth-title",children:A?Nt?"Welcome Back":"Login to Accord":"Create Identity"}),u.jsx("p",{className:"auth-subtitle",children:A?Nt?"Enter your password to sign back in":"Authenticate with your keypair and password":"A new keypair will be generated automatically"}),u.jsxs("div",{className:"auth-server-bar",children:[u.jsxs("span",{children:[" ",o," ",Oe&&u.jsx("span",{className:"connected",children:" connected"})]}),u.jsx("button",{onClick:()=>{C(!0),K("choose"),$("")},className:"btn-ghost",style:{fontSize:"12px"},children:"Change"})]}),A&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Key Status"}),u.jsx("div",{className:"auth-info-box",children:Qe||ae||Nt?u.jsx("span",{className:"accent",children:" Keypair found  enter your password to sign back in"}):localStorage.getItem("accord_public_key_plain")?u.jsx("span",{className:"accent",children:" Identity remembered  enter your password to log in"}):u.jsx("span",{style:{color:"var(--yellow)"},children:" No identity found on this device  create a new one or recover with your phrase"})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Password"}),u.jsx("input",{type:"password",placeholder:A?"Enter your password":"Choose a password (min 8 chars)",value:Q,onChange:f=>ne(f.target.value),onKeyDown:f=>{f.key==="Enter"&&Es()},className:"form-input"}),!A&&Q&&Q.length<8&&u.jsx("div",{className:"form-hint",style:{color:"var(--red)"},children:"Password must be at least 8 characters"})]}),!A&&ft&&u.jsxs("div",{className:"auth-info-box",style:{marginBottom:"20px"},children:[u.jsx("div",{className:"accent",children:" A new ECDH P-256 keypair will be generated for your identity"}),u.jsx("div",{style:{fontSize:"12px",marginTop:"4px"},children:"No username needed  you are identified by your public key hash"})]}),le&&u.jsx("div",{className:"auth-error",children:le}),u.jsx("button",{onClick:Es,className:"btn btn-primary",style:{marginBottom:"16px"},children:A?"Login":"Create Identity & Register"}),u.jsxs("div",{className:"auth-toggle",style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},children:[u.jsx("button",{onClick:()=>{z(!A),$(""),ne("")},className:"btn-ghost",children:A?"Need to create an identity?":"Already have a keypair? Login"}),u.jsxs("div",{style:{borderTop:"1px solid var(--border)",width:"100%",paddingTop:"12px",marginTop:"4px",display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},children:[u.jsx("span",{style:{fontSize:"12px",opacity:.6},children:"Lost access to your keypair?"}),u.jsx("button",{onClick:()=>{ln(!0),In("")},className:"btn btn-outline",style:{width:"100%"},children:" Recover with recovery phrase"})]})]})]})})});const _a=ke.map(f=>f.name),At=f=>f?f.display_name||mt(f.public_key_hash):"Unknown",Gi=f=>typeof f.channel_type=="number"?f.channel_type:f.channel_type==="voice"?2:f.channel_type==="category"?4:0,Ea=[...qn].sort((f,p)=>(f.position??0)-(p.position??0)),er=Ea.filter(f=>Gi(f)===4),Bc=Ea.filter(f=>Gi(f)!==4),Jl=Bc.filter(f=>!f.parent_id),ml=f=>Bc.filter(p=>p.parent_id===f),Lc=f=>{Cu(p=>{const S=new Set(p);return S.has(f)?S.delete(f):S.add(f),S})};return u.jsxs("div",{className:"app",children:[u.jsxs("div",{className:"server-list",children:[_a.map((f,p)=>{var q,F;const S=ke.length>0?(q=ke[p])==null?void 0:q.id:null,N=S?nn.getNodeUnreads(S):{totalUnreads:0,totalMentions:0};return u.jsxs("div",{className:`server-icon ${p===xt?"active":""}`,onClick:()=>{S?Uc(S,p):Wa(p)},title:f,children:[(F=ke[p])!=null&&F.icon_hash?u.jsx("img",{src:`${X.getNodeIconUrl(ke[p].id)}?v=${ke[p].icon_hash}`,alt:f[0],style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"inherit"},onError:ie=>{ie.target.style.display="none",ie.target.parentElement.textContent=f[0]}}):f[0],N.totalMentions>0&&u.jsx("div",{className:"server-notification mention",children:N.totalMentions>9?"9+":N.totalMentions}),N.totalMentions===0&&N.totalUnreads>0&&u.jsx("div",{className:"server-notification dot"})]},S||f)}),u.jsx("div",{className:"server-icon add-server",title:"Join or Create Node",onClick:()=>Sa(!0),style:{cursor:"pointer"},children:"+"})]},Ll),u.jsxs("div",{className:"channel-sidebar",children:[u.jsxs("div",{className:"sidebar-header",children:[u.jsxs("div",{className:"sidebar-header-row",children:[u.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[_a[xt],Oe&&u.jsxs("span",{className:"connection-status",children:[u.jsx("span",{className:`connection-dot ${An.status}`,children:""}),u.jsxs("span",{className:"connection-label",children:[An.status==="connected"&&"Connected",An.status==="reconnecting"&&`Reconnecting... ${An.reconnectAttempt}/${An.maxReconnectAttempts}`,An.status==="disconnected"&&!k.isConnected&&"Disconnected"]}),An.status==="disconnected"&&!k.isConnected&&xe&&u.jsx("button",{className:"connection-retry-btn",onClick:()=>xe.retry(),children:"Retry"})]}),!Oe&&u.jsx("span",{className:"demo-badge",children:"DEMO"})]}),u.jsxs("div",{className:"sidebar-admin-buttons",children:[de&&zi(de,"ManageInvites")&&u.jsx("button",{onClick:dl,className:"sidebar-admin-btn",title:"Generate Invite",children:"Invite"}),de&&u.jsx("button",{onClick:()=>gc(!0),className:"sidebar-admin-btn",title:"Node Settings",children:""})]})]}),de&&ze[de]&&u.jsxs("div",{className:"sidebar-role",children:[ka(ze[de])," ",ze[de]]}),de&&((As=ke.find(f=>f.id===de))==null?void 0:As.description)&&u.jsx("div",{className:"sidebar-description",title:(qa=ke.find(f=>f.id===de))==null?void 0:qa.description,children:(ia=ke.find(f=>f.id===de))==null?void 0:ia.description})]}),u.jsxs("div",{className:"channel-list",children:[(()=>{const f=de&&zi(de,"DeleteChannel"),p=S=>{var Ue,se;const N=Gi(S)===2,q=S.id===Ne,F=N&&Yt===S.id,ie=de?nn.getChannelUnreads(de,S.id):{count:0,mentions:0},He=ie.count>0||ie.mentions>0;return u.jsxs("div",{className:`channel ${q?"active":""} ${F?"voice-connected":""} ${He&&!q?"unread":""}`,title:S.topic||void 0,children:[u.jsxs("div",{onClick:()=>{N?F||(ls(S.id),wi(S.name),zl(Date.now())):Xl(S.id,`# ${S.name}`)},style:{flex:1,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[u.jsxs("span",{style:{color:N?"#8e9297":void 0},children:[N?"":"#"," ",S.name]}),N&&!F&&u.jsx("span",{style:{fontSize:"10px",color:"#8e9297",marginLeft:"4px"},children:"Voice Channel"}),F&&u.jsx("span",{style:{fontSize:"10px",color:"#43b581"},children:""})]}),u.jsxs("div",{className:"channel-badges",children:[ie.mentions>0&&u.jsx("div",{className:"mention-badge",children:ie.mentions>9?"9+":ie.mentions}),ie.mentions===0&&ie.count>0&&u.jsx("div",{className:"unread-badge",children:ie.count>99?"99+":ie.count}),f&&u.jsx("button",{onClick:P=>{P.stopPropagation(),Di({id:S.id,name:S.name})},className:"channel-delete-btn",title:"Delete channel",children:""})]}),F&&Yt===S.id&&u.jsx("div",{className:"voice-channel-users",children:u.jsxs("div",{className:"voice-channel-user",children:[u.jsx("div",{className:"voice-user-avatar",children:(((Ue=k.user)==null?void 0:Ue.display_name)||"U")[0]}),u.jsx("span",{className:"voice-user-name",children:((se=k.user)==null?void 0:se.display_name)||"You"})]})})]},S.id)};return u.jsxs(u.Fragment,{children:[Jl.map(S=>p(S)),er.map(S=>{const N=ml(S.id),q=Au.has(S.id);return u.jsxs("div",{className:"channel-category",children:[u.jsxs("div",{className:"category-header",onClick:()=>Lc(S.id),children:[u.jsx("span",{className:"category-arrow",children:q?"":""}),u.jsx("span",{className:"category-name",children:S.name})]}),!q&&N.map(F=>p(F))]},S.id)})]})})(),de&&zi(de,"ManageNode")&&u.jsx("div",{style:{padding:"4px 8px"},children:u.jsx("button",{onClick:()=>yc(!0),className:"btn btn-outline btn-sm",style:{width:"100%",fontSize:"11px"},children:" Import Discord Template"})}),de&&zi(de,"CreateChannel")&&u.jsx("div",{style:{marginTop:"4px",padding:"0 8px"},children:Ae?u.jsxs("div",{className:"create-channel-form",children:[u.jsx("input",{type:"text",placeholder:"Channel name",value:on,onChange:f=>Qt(f.target.value)}),u.jsxs("select",{value:Kn,onChange:f=>wt(f.target.value),children:[u.jsx("option",{value:"text",children:"Text Channel"}),u.jsx("option",{value:"voice",children:"Voice Channel"})]}),u.jsxs("div",{className:"create-channel-actions",children:[u.jsx("button",{onClick:Rc,className:"btn btn-green btn-sm",children:"Create"}),u.jsx("button",{onClick:()=>{Dt(!1),Qt(""),wt("text")},className:"btn btn-outline btn-sm",children:"Cancel"})]})]}):u.jsx("button",{onClick:()=>Dt(!0),className:"btn btn-green btn-sm",style:{width:"100%"},children:"+ Create Channel"})})]}),u.jsxs("div",{className:"dm-section",children:[u.jsxs("div",{className:"dm-header",children:["Direct Messages",u.jsx("button",{onClick:()=>ea(!Kl),className:"dm-header-add-btn",title:"Create DM",children:"+"})]}),u.jsxs("div",{className:"dm-list",children:[nl.map(f=>{var N;const p=(lt==null?void 0:lt.id)===f.id,S=nn.getChannelUnreads(`dm-${f.id}`,f.id);return u.jsxs("div",{className:`dm-item ${p?"active":""}`,onClick:()=>fn(f),children:[u.jsx("div",{className:"dm-avatar",children:(((N=f.other_user_profile)==null?void 0:N.display_name)||"?")[0].toUpperCase()}),u.jsxs("div",{style:{flex:1,minWidth:0},children:[u.jsx("div",{className:"dm-name",children:f.other_user_profile.display_name}),f.last_message&&u.jsx("div",{className:"dm-last-message",children:f.last_message.content.substring(0,30)})]}),u.jsxs("div",{className:"dm-badges",children:[S.mentions>0&&u.jsx("div",{className:"mention-badge",children:S.mentions>9?"9+":S.mentions}),S.mentions===0&&S.count>0&&u.jsx("div",{className:"notification-dot"})]})]},f.id)}),nl.length===0&&u.jsx("div",{className:"dm-empty",children:"No direct messages yet"})]})]}),Yt&&u.jsx(W0,{channelName:Co,connectedAt:jo,onDisconnect:()=>{ls(null),wi(""),zl(null)}}),u.jsxs("div",{className:"user-panel",children:[u.jsx("div",{className:"user-avatar",children:(Na=k.user)!=null&&Na.id?u.jsx("img",{src:`${X.getUserAvatarUrl(k.user.id)}`,alt:(((sa=k.user)==null?void 0:sa.display_name)||"U")[0],style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},onError:f=>{var p,S,N;f.target.style.display="none",f.target.parentElement.textContent=((N=((p=k.user)==null?void 0:p.display_name)||mt(((S=k.user)==null?void 0:S.public_key_hash)||""))==null?void 0:N[0])||"U"}}):((pl=((Cs=k.user)==null?void 0:Cs.display_name)||mt(((js=k.user)==null?void 0:js.public_key_hash)||""))==null?void 0:pl[0])||"U"}),u.jsxs("div",{className:"user-info",children:[u.jsx("div",{className:"username",children:((Zi=k.user)==null?void 0:Zi.display_name)||mt(((Ka=k.user)==null?void 0:Ka.public_key_hash)||"")||"You"}),u.jsx("div",{className:"user-status",onClick:()=>{va(nc),Bl(!0)},style:{cursor:"pointer"},title:"Click to set custom status",children:nc||(k.isConnected?"Online":"Offline")})]}),u.jsx("button",{onClick:()=>fs(!0),className:"user-panel-settings connection-indicator",title:k.isConnected?`Connected${Mi?`  v${Mi}`:""}${Da?` (${Da.slice(0,8)})`:""}
Trust: ${bg(vg(gg,Da)).label}`:"Disconnected",children:k.isConnected?bg(vg(gg,Da)).emoji:""}),u.jsx("button",{onClick:()=>Ni(!0),className:"user-panel-settings",title:"Notification Settings",children:""}),u.jsx("button",{onClick:()=>us(!0),className:"user-panel-settings",title:"Settings (Ctrl+,)",children:""}),u.jsx("button",{onClick:Ns,className:"user-panel-logout",children:"Logout"})]}),ac&&u.jsxs("div",{className:"status-popover",children:[u.jsxs("div",{className:"status-popover-header",children:[u.jsx("span",{children:"Set Custom Status"}),u.jsx("button",{onClick:()=>Bl(!1),className:"status-popover-close",children:""})]}),u.jsx("input",{type:"text",className:"status-popover-input",placeholder:"What's on your mind?",value:_i,onChange:f=>va(f.target.value.slice(0,128)),onKeyDown:f=>{f.key==="Enter"&&Hi(),f.key==="Escape"&&Bl(!1)},maxLength:128,autoFocus:!0}),u.jsxs("div",{className:"status-popover-footer",children:[u.jsxs("span",{className:"status-popover-count",children:[_i.length,"/128"]}),u.jsxs("div",{style:{display:"flex",gap:"8px"},children:[nc&&u.jsx("button",{className:"status-popover-clear",onClick:()=>{va(""),rn(""),X.updateProfile({custom_status:""},k.token||"").catch(()=>{}),Bl(!1)},children:"Clear"}),u.jsx("button",{className:"status-popover-save",onClick:Hi,children:"Save"})]})]})]})]}),u.jsx("div",{className:"chat-area",children:u.jsxs(L0,{channelId:(lt==null?void 0:lt.id)||Ne||"",token:k.token||"",keyPair:Qe,encryptionEnabled:ft,children:[u.jsxs("div",{className:"chat-header",children:[u.jsx("div",{className:"chat-header-left",children:lt?u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[u.jsx("div",{className:"dm-avatar",style:{width:"24px",height:"24px",fontSize:"12px",marginRight:"8px"},children:(((Lt=lt.other_user_profile)==null?void 0:Lt.display_name)||"?")[0].toUpperCase()}),u.jsx("span",{className:"chat-channel-name",children:lt.other_user_profile.display_name})]}),u.jsxs("span",{className:"chat-topic",children:["Direct message with ",lt.other_user_profile.display_name]})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"chat-channel-name",children:Ut}),u.jsx("span",{className:"chat-topic",children:(()=>{const f=qn.find(p=>p.id===Ne);return(f==null?void 0:f.channel_type)==="voice"?` Voice channel  ${f.name}`:f!=null&&f.topic?f.topic:""})()})]})}),u.jsxs("div",{className:"chat-header-right",children:[u.jsx("button",{onClick:zc,className:`chat-header-btn ${lc?"active":""}`,title:"Toggle pinned messages",children:""}),ft&&Qe&&u.jsx("span",{className:"e2ee-badge enabled",title:"End-to-end encryption enabled",children:" E2EE"}),ft&&!Qe&&u.jsx("span",{className:"e2ee-badge warning",title:"Encryption not available",children:" No Keys"}),!ft&&u.jsx("span",{className:"e2ee-badge disabled",title:"Encryption not supported",children:" No E2EE"}),u.jsx("button",{className:"search-button",onClick:()=>Hl(!0),title:"Search messages (Ctrl+K)",children:""}),u.jsx("button",{onClick:()=>Bo(f=>!f),className:`chat-header-btn ${Ec?"active":""}`,title:"Toggle member list",children:""})]})]}),u.jsxs("div",{className:`messages ${Yt?"with-voice":""} density-${Po}`,ref:jn,onScroll:Qo,children:[$n&&u.jsxs("div",{className:"messages-loading",children:[u.jsx("span",{className:"spinner spinner-sm"})," Loading older messages..."]}),!Xt&&k.messages.length>0&&u.jsx("div",{className:"messages-beginning",children:"You've reached the beginning of this channel"}),!$n&&k.messages.length===0&&Ne&&u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-state-icon",children:""}),u.jsx("div",{className:"empty-state-title",children:"No messages yet"}),u.jsx("div",{className:"empty-state-text",children:"Be the first to send a message in this channel!"})]}),!Ne&&!lt&&qn.length===0&&ke.length>0&&u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-state-icon",children:"#"}),u.jsx("div",{className:"empty-state-title",children:"No channels"}),u.jsx("div",{className:"empty-state-text",children:"Create a channel to start chatting."})]}),ke.length===0&&!lt&&u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-state-icon",children:""}),u.jsx("div",{className:"empty-state-title",children:"Welcome to Accord"}),u.jsx("div",{className:"empty-state-text",children:"Join a node via invite or create your own to get started."})]}),k.messages.map((f,p)=>{const S=p>0?k.messages[p-1]:null,N=S&&S.author===f.author&&Math.abs(f.timestamp-S.timestamp)<300*1e3&&!f.reply_to,q=new Date(f.timestamp),F=S?new Date(S.timestamp):null,ie=!F||q.toDateString()!==F.toDateString(),He=se=>{const P=new Date,Je=new Date(P.getFullYear(),P.getMonth(),P.getDate()),it=new Date(se.getFullYear(),se.getMonth(),se.getDate()),Ze=Je.getTime()-it.getTime();return Ze===0?"Today":Ze===864e5?"Yesterday":se.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})},Ue=se=>{const P=Date.now()-se;return P<6e4?"just now":P<36e5?`${Math.floor(P/6e4)}m ago`:P<864e5?`${Math.floor(P/36e5)}h ago`:new Date(se).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return u.jsxs(bi.Fragment,{children:[ie&&u.jsx("div",{className:"date-separator",children:u.jsx("span",{className:"date-separator-text",children:He(q)})}),u.jsxs("div",{className:`message ${f.reply_to?"reply-message":""} ${N?"message-grouped":""}`,"data-message-id":f.id,children:[f.replied_message&&u.jsxs("div",{className:"reply-preview",onClick:()=>Mn(f.reply_to),children:[u.jsx("div",{className:"reply-bar"}),u.jsxs("div",{className:"reply-content",children:[u.jsxs("span",{className:"reply-author",children:["Replying to ",mt(f.replied_message.sender_public_key_hash)]}),u.jsx("span",{className:"reply-snippet",children:f.replied_message.content||f.replied_message.encrypted_payload.substring(0,50)+"..."})]})]}),!N&&u.jsx("div",{className:"message-avatar",children:f.sender_id?u.jsx("img",{src:`${X.getUserAvatarUrl(f.sender_id)}`,alt:(f.author||"?")[0],style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},onError:se=>{se.target.style.display="none",se.target.parentElement.textContent=(f.author||"?")[0]}}):(f.author||"?")[0]}),N&&u.jsx("div",{className:"message-avatar-spacer",children:u.jsx("span",{className:"message-hover-time",children:new Date(f.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}),u.jsxs("div",{className:"message-body",children:[!N&&u.jsxs("div",{className:"message-header",children:[u.jsx("span",{className:"message-author",style:{color:(()=>{const se=Bt.find(P=>At(P.user)===f.author||mt(P.public_key_hash)===f.author);return se?Mc(se.user_id):void 0})()||void 0},onContextMenu:se=>{var Je;const P=Bt.find(it=>At(it.user)===f.author||mt(it.public_key_hash)===f.author);P&&Me(se,P.user_id,P.public_key_hash,f.author,(Je=P.profile)==null?void 0:Je.bio,P.user)},children:f.author}),u.jsx("span",{className:"message-time",children:Ue(f.timestamp)}),f.edited_at&&u.jsx("span",{className:"message-edited",title:`Edited at ${new Date(f.edited_at).toLocaleString()}`,children:"(edited)"}),f.isEncrypted&&u.jsx("span",{className:"message-encrypted-badge",title:"End-to-end encrypted",children:""}),f.pinned_at&&u.jsx("span",{className:"message-pinned-badge",title:`Pinned ${new Date(f.pinned_at).toLocaleString()}`,children:""}),k.user&&u.jsxs("div",{className:"message-actions",children:[u.jsx("button",{onClick:()=>Yi(f),className:"message-action-btn",title:"Reply to message",children:""}),f.author===(k.user.display_name||mt(k.user.public_key_hash))&&u.jsx("button",{onClick:()=>oe(f.id,f.content),className:"message-action-btn",title:"Edit message",children:""}),(f.author===(k.user.display_name||mt(k.user.public_key_hash))||Ki(f))&&u.jsx("button",{onClick:()=>J(f.id),className:"message-action-btn",title:"Delete message",children:""}),Ki(f)&&u.jsx("button",{onClick:()=>f.pinned_at?wa(f.id):la(f.id),className:"message-action-btn",title:f.pinned_at?"Unpin message":"Pin message",children:""})]})]}),Wn===f.id?u.jsxs("div",{className:"message-edit-container",children:[u.jsx("input",{type:"text",value:Ma,onChange:se=>ue(se.target.value),onKeyDown:se=>{se.key==="Enter"&&!se.shiftKey?(se.preventDefault(),yn()):se.key==="Escape"&&Ha()},className:"message-edit-input",placeholder:"Edit your message...",autoFocus:!0}),u.jsxs("div",{className:"message-edit-actions",children:[u.jsx("button",{onClick:yn,className:"edit-save-btn",children:"Save"}),u.jsx("button",{onClick:Ha,className:"edit-cancel-btn",children:"Cancel"})]})]}):u.jsx("div",{className:"message-content",dangerouslySetInnerHTML:{__html:nn.highlightMentions(f.content)}}),f.files&&f.files.length>0&&u.jsx("div",{className:"message-attachments",children:f.files.map(se=>u.jsx(H0,{file:se,token:k.token||"",channelId:f.channel_id||(lt==null?void 0:lt.id)||Ne||"",keyPair:Qe,encryptionEnabled:ft},se.id))}),u.jsxs("div",{className:"message-reactions-container",onMouseEnter:()=>Mo(f.id),onMouseLeave:()=>Mo(null),children:[f.reactions&&f.reactions.length>0&&u.jsx("div",{className:"message-reactions",children:f.reactions.map(se=>{const P=k.user&&se.users.includes(k.user.id);return u.jsxs("button",{className:`reaction ${P?"reaction-user-reacted":""}`,onClick:()=>Ts(f.id,se.emoji),title:`${se.users.length} reactions`,children:[u.jsx("span",{className:"reaction-emoji",children:se.emoji}),u.jsx("span",{className:"reaction-count",children:se.count})]},se.emoji)})}),oc===f.id&&k.user&&u.jsxs("div",{className:"add-reaction-container quick-react-bar",children:[["","","","",""].map(se=>u.jsx("button",{className:"quick-react-btn",onClick:()=>Ts(f.id,se),title:`React with ${se}`,children:se},se)),u.jsx("button",{className:"add-reaction-btn",onClick:()=>cc(sc===f.id?null:f.id),title:"More reactions",children:"+"}),sc===f.id&&u.jsx("div",{className:"emoji-picker",children:Eu.map(se=>u.jsx("button",{className:"emoji-option",onClick:()=>na(f.id,se),title:`React with ${se}`,children:se},se))})]})]}),w===f.id&&u.jsx("div",{className:"delete-confirm-overlay",children:u.jsxs("div",{className:"delete-confirm-dialog",children:[u.jsx("p",{children:"Are you sure you want to delete this message?"}),u.jsxs("div",{className:"delete-confirm-actions",children:[u.jsx("button",{onClick:()=>Ql(f.id),className:"delete-confirm-btn",children:"Delete"}),u.jsx("button",{onClick:()=>J(null),className:"delete-cancel-btn",children:"Cancel"})]})]})})]})]})]},f.id||p)}),Ho&&u.jsxs("button",{className:"scroll-to-bottom-btn",onClick:Jo,children:[" ",ys>0&&u.jsx("span",{className:"scroll-to-bottom-count",children:ys})]})]}),Ne&&Ss(Ne)&&u.jsxs("div",{className:"typing-indicator",children:[u.jsxs("div",{className:"typing-dots-animated",children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]}),u.jsx("span",{className:"typing-text",children:Ss(Ne)})]}),u.jsxs("div",{className:"message-input-container",children:[bt&&u.jsxs("div",{className:"reply-input-preview",children:[u.jsx("div",{className:"reply-input-bar"}),u.jsxs("div",{className:"reply-input-content",children:[u.jsxs("span",{className:"reply-input-text",children:["Replying to ",u.jsx("strong",{children:bt.author}),": ",bt.content.substring(0,100),bt.content.length>100?"...":""]}),u.jsx("button",{className:"reply-cancel-btn",onClick:vn,title:"Cancel reply",children:""})]})]}),Oe&&k.activeChannel&&u.jsx(B0,{channelId:k.activeChannel,token:k.token||"",keyPair:Qe,encryptionEnabled:ft}),u.jsx("textarea",{ref:Lo,className:"message-input",placeholder:`Message ${Ut}`,value:Tn,rows:1,onChange:f=>{hn(f.target.value),f.target.style.height="auto",f.target.style.height=Math.min(f.target.scrollHeight,200)+"px",Ne&&Bi(Ne)},onKeyDown:f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),Fo())}}),u.jsx(G0,{isOpen:Oi,onToggle:()=>rl(f=>!f),onSelect:Uu,onClose:()=>rl(!1)}),Oe&&k.activeChannel&&u.jsx(q0,{channelId:k.activeChannel,token:k.token||"",keyPair:Qe,encryptionEnabled:ft})]})]})}),Yt&&u.jsx(_.Suspense,{fallback:u.jsx(iu,{}),children:u.jsx(J0,{ws:xe,currentUserId:localStorage.getItem("accord_user_id"),channelId:Yt,channelName:Co,onLeave:()=>{ls(null),wi(""),zl(null)}})}),Ec&&u.jsxs("div",{className:"member-sidebar",children:[u.jsxs("div",{className:"member-header",children:["Members  ",Bt.filter(f=>f.user).length]}),(()=>{const f=localStorage.getItem("accord_user_id"),p=de&&zi(de,"KickMembers"),S=P=>{var Ze,bn;const Je=P.user_id===f,it=pt(P.user_id);return u.jsxs("div",{className:`member ${it==="offline"?"member-offline":""}`,onContextMenu:It=>{var Ya;return Me(It,P.user_id,P.public_key_hash,At(P.user),(Ya=P.profile)==null?void 0:Ya.bio,P.user)},children:[u.jsxs("div",{className:"member-avatar-wrapper",children:[u.jsx("div",{className:"member-avatar",children:u.jsx("img",{src:`${X.getUserAvatarUrl(P.user_id)}`,alt:At(P.user)[0],style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},onError:It=>{It.target.style.display="none",It.target.parentElement.textContent=At(P.user)[0]}})}),u.jsx("span",{className:`presence-dot presence-${it}`,title:it})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",minWidth:0},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[u.jsx("span",{className:"member-name",style:{color:Mc(P.user_id)||void 0},children:At(P.user)}),u.jsx("span",{className:"member-role-badge",title:P.role,children:ka(P.role)})]}),((Ze=P.profile)==null?void 0:Ze.custom_status)&&u.jsx("span",{className:"member-custom-status",children:P.profile.custom_status})]}),u.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"4px"},children:[!Je&&u.jsx("button",{onClick:It=>{It.stopPropagation(),La(P.user)},className:"member-action-btn",title:"Send DM",children:"DM"}),p&&!Je&&u.jsx("button",{onClick:It=>{It.stopPropagation(),Oo({userId:P.user_id,x:It.clientX,y:It.clientY})},className:"member-action-btn",title:"Manage roles",children:"Roles"}),p&&!Je&&u.jsx("button",{onClick:It=>{It.stopPropagation(),Io(P.user_id,At(P.user))},className:"member-action-btn danger",title:"Kick member",children:"Kick"})]})]},((bn=P.user)==null?void 0:bn.id)||P.user_id)},N=Ui.filter(P=>P.hoist).sort((P,Je)=>Je.position-P.position),q=dt.filter(P=>P.user);if(N.length===0){const P=q.filter(it=>pt(it.user_id)!=="offline"),Je=q.filter(it=>pt(it.user_id)==="offline");return u.jsxs(u.Fragment,{children:[P.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"role-section-header",children:["Online  ",P.length]}),P.map(it=>S(it))]}),Je.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"role-section-header",style:{color:"#72767d"},children:["Offline  ",Je.length]}),Je.map(it=>S(it))]})]})}const F=new Set,ie=[];for(const P of N){const Je=q.filter(it=>{if(F.has(it.user_id))return!1;const Ze=Zo(it.user_id);return(Ze==null?void 0:Ze.id)===P.id});Je.forEach(it=>F.add(it.user_id)),ie.push({name:P.name,color:P.color,members:Je})}const He=q.filter(P=>!F.has(P.user_id)),Ue=He.filter(P=>pt(P.user_id)!=="offline"),se=He.filter(P=>pt(P.user_id)==="offline");return u.jsxs(u.Fragment,{children:[ie.filter(P=>P.members.length>0).map(P=>u.jsxs(bi.Fragment,{children:[u.jsxs("div",{className:"role-section-header",style:{color:P.color||void 0},children:[P.name,"  ",P.members.length]}),P.members.map(Je=>S(Je))]},P.name)),Ue.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"role-section-header",children:["Online  ",Ue.length]}),Ue.map(P=>S(P))]}),se.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"role-section-header",style:{color:"#72767d"},children:["Offline  ",se.length]}),se.map(P=>S(P))]}),q.length===0&&Bt.length===0&&u.jsx("div",{className:"members-empty",children:ke.length===0?"Join or create a node to see members":"No members loaded"})]})})()]}),Yl&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1050},onClick:()=>Oo(null),children:u.jsxs("div",{style:{position:"absolute",top:Math.min(Yl.y,window.innerHeight-300),left:Math.min(Yl.x,window.innerWidth-220),background:"#2f3136",border:"1px solid #40444b",borderRadius:"6px",padding:"8px",minWidth:"200px",maxHeight:"280px",overflowY:"auto",boxShadow:"0 4px 12px rgba(0,0,0,0.4)"},onClick:f=>f.stopPropagation(),children:[u.jsx("div",{style:{fontSize:"12px",color:"#b9bbbe",fontWeight:600,padding:"4px 8px",marginBottom:"4px"},children:"ASSIGN ROLES"}),Ui.length===0?u.jsx("div",{style:{padding:"8px",color:"#72767d",fontSize:"13px"},children:"No roles available"}):Ui.sort((f,p)=>p.position-f.position).map(f=>{const p=(Ri[Yl.userId]||[]).some(S=>S.id===f.id);return u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"13px",color:"#dcddde"},onMouseEnter:S=>S.currentTarget.style.background="#40444b",onMouseLeave:S=>S.currentTarget.style.background="transparent",children:[u.jsx("input",{type:"checkbox",checked:p,onChange:()=>Vo(Yl.userId,f.id,p)}),u.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:f.color||"#99aab5",flexShrink:0}}),f.name]},f.id)})]})}),xi&&u.jsxs("div",{className:"error-toast",children:[u.jsx("span",{style:{flex:1},children:xi}),u.jsx("button",{onClick:()=>_t(""),className:"error-toast-close",children:""})]}),Ti&&!uc&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-card",children:[u.jsx("h3",{children:"Create a Node"}),u.jsx("p",{children:"A Node is your community space. A #general channel will be created automatically."}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Node Name"}),u.jsx("input",{type:"text",placeholder:"My Community",value:os,onChange:f=>Ci(f.target.value),onKeyDown:f=>{f.key==="Enter"&&$o()},className:"form-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Description (optional)"}),u.jsx("input",{type:"text",placeholder:"What's this node about?",value:rs,onChange:f=>il(f.target.value),className:"form-input"})]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{onClick:$o,disabled:ji||!os.trim(),className:"btn btn-green",children:ji?"Creating...":"Create Node"}),u.jsx("button",{onClick:()=>{Sa(!1),Ci(""),il("")},className:"btn btn-outline",children:"Cancel"})]}),u.jsx("div",{style:{borderTop:"1px solid var(--border)",marginTop:"16px",paddingTop:"16px",textAlign:"center"},children:u.jsxs("button",{onClick:()=>al(!0),className:"btn-ghost",children:["Have an invite code? ",u.jsx("strong",{children:"Join a Node"})]})})]})}),uc&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-card",children:[u.jsx("h3",{children:"Join a Node"}),u.jsx("p",{children:"Enter an invite code or link to join an existing Node."}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Invite Code or Link"}),u.jsx("input",{type:"text",placeholder:"accord://host/invite/CODE or just the code",value:Ua,onChange:f=>cs(f.target.value),onKeyDown:f=>{f.key==="Enter"&&Ua.trim()&&hl()},className:"form-input"})]}),Ai&&u.jsx("div",{className:"auth-error",children:Ai}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{onClick:hl,disabled:Pt||!Ua.trim(),className:"btn btn-primary",children:Pt?"Joining...":"Join Node"}),u.jsx("button",{onClick:()=>{al(!1),Sa(!1),cs(""),ll("")},className:"btn btn-outline",children:"Cancel"})]}),u.jsx("div",{style:{borderTop:"1px solid var(--border)",marginTop:"16px",paddingTop:"16px",textAlign:"center"},children:u.jsxs("button",{onClick:()=>al(!1),className:"btn-ghost",children:["Want to create your own? ",u.jsx("strong",{children:"Create a Node"})]})})]})}),Pa&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-card",children:[u.jsx("h3",{children:"Invite Link Generated"}),u.jsx("p",{children:"Share this link to invite others to your node. The relay address is encoded for privacy."}),u.jsx("div",{className:"modal-code-block",style:{wordBreak:"break-all",fontFamily:"monospace",fontSize:"0.85em"},children:tc}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(tc).then(()=>{alert("Invite code copied to clipboard!")}).catch(()=>{const f=document.createElement("textarea");f.value=tc,document.body.appendChild(f),f.select(),document.execCommand("copy"),document.body.removeChild(f),alert("Invite code copied to clipboard!")})},className:"btn btn-primary",style:{width:"auto"},children:"Copy"}),u.jsx("button",{onClick:()=>{el(!1),kl("")},className:"btn btn-outline",style:{width:"auto"},children:"Close"})]})]})}),hs&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-card",children:[u.jsx("h3",{children:"Delete Channel"}),u.jsxs("p",{children:["Are you sure you want to delete ",u.jsxs("strong",{children:["#",hs.name]}),"? This action cannot be undone. All messages will be permanently lost."]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{onClick:()=>_s(hs.id),className:"btn btn-red",children:"Delete Channel"}),u.jsx("button",{onClick:()=>Di(null),className:"btn btn-outline",children:"Cancel"})]})]})}),ju&&de&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-card",style:{maxWidth:"480px"},children:[u.jsx("h3",{children:" Import Discord Template"}),sl?u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{color:"#43b581",marginBottom:"12px",fontSize:"14px"},children:" Import complete!"}),u.jsxs("div",{style:{color:"#dcddde",fontSize:"13px",lineHeight:"1.6"},children:[sl.roles_created!==void 0&&u.jsxs("div",{children:["Roles created: ",u.jsx("strong",{children:sl.roles_created})]}),sl.channels_created!==void 0&&u.jsxs("div",{children:["Channels created: ",u.jsx("strong",{children:sl.channels_created})]}),sl.categories_created!==void 0&&u.jsxs("div",{children:["Categories created: ",u.jsx("strong",{children:sl.categories_created})]})]}),u.jsx("div",{className:"modal-actions",style:{marginTop:"16px"},children:u.jsx("button",{className:"btn btn-green",onClick:()=>{yc(!1),bc(""),xc(null),Oa(""),de&&(pn(de),xs(de))},children:"Done"})})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{style:{color:"#b9bbbe",fontSize:"14px"},children:"Paste a discord.new link, discord.com/template link, or raw template code."}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"text",placeholder:"discord.new/CODE or template code",value:vc,onChange:f=>bc(f.target.value),className:"form-input",disabled:Sc})}),ds&&u.jsx("div",{style:{color:"#f04747",fontSize:"13px",marginBottom:"8px"},children:ds}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{className:"btn btn-green",disabled:Sc||!vc.trim(),onClick:async()=>{Oa(""),ko(!0);try{let f=vc.trim();const p=f.match(/discord\.new\/([A-Za-z0-9]+)/),S=f.match(/discord\.com\/template\/([A-Za-z0-9]+)/);p?f=p[1]:S&&(f=S[1]);const N=await X.importDiscordTemplate(de,f,k.token||"");xc(N)}catch(f){Oa(f.message||"Import failed")}finally{ko(!1)}},children:Sc?" Importing...":"Import"}),u.jsx("button",{className:"btn btn-outline",onClick:()=>{yc(!1),bc(""),Oa(""),xc(null)},children:"Cancel"})]})]})]})}),pc&&de&&(()=>{const f=ke.find(p=>p.id===de);return f?u.jsx(_.Suspense,{fallback:u.jsx(iu,{}),children:u.jsx(I0,{isOpen:pc,onClose:()=>gc(!1),node:f,token:k.token||"",userRole:ze[de]||"member",onNodeUpdated:p=>{Hn(S=>S.map(N=>N.id===p.id?p:N))},onLeaveNode:()=>{ya(null),Cn([]),ga([]),Jt()}})}):null})(),u.jsx(Z0,{isVisible:ss,onClose:()=>Hl(!1),nodeId:de,channels:qn,token:k.token||null,onNavigateToMessage:Dc}),u.jsx(_.Suspense,{fallback:u.jsx(iu,{}),children:u.jsx($0,{isOpen:Ei,onClose:()=>Ni(!1),preferences:is,onPreferencesChange:gn})}),u.jsx(_.Suspense,{fallback:u.jsx(iu,{}),children:u.jsx(F0,{isOpen:dc,onClose:()=>us(!1),currentUser:k.user,serverInfo:{version:Mi,buildHash:Da,connectedSince:mc,relayAddress:X.getBaseUrl(),isConnected:k.isConnected},onUserUpdate:f=>{k.user&&De(p=>({...p,user:{...p.user,...f}}))}})}),Tu&&u.jsx("div",{className:"settings-overlay",onClick:()=>fs(!1),children:u.jsxs("div",{className:"connection-info-modal",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"connection-info-header",children:[u.jsx("h3",{children:"Connection Info"}),u.jsx("button",{className:"settings-close",onClick:()=>fs(!1),children:""})]}),u.jsxs("div",{className:"connection-info-body",children:[u.jsxs("div",{className:"connection-info-row",children:[u.jsx("span",{className:"connection-info-label",children:"Status"}),u.jsx("span",{className:"connection-info-value",children:k.isConnected?" Connected":" Disconnected"})]}),Mi&&u.jsxs("div",{className:"connection-info-row",children:[u.jsx("span",{className:"connection-info-label",children:"Server Version"}),u.jsx("span",{className:"connection-info-value",children:Mi})]}),Da&&u.jsxs("div",{className:"connection-info-row",children:[u.jsx("span",{className:"connection-info-label",children:"Build Hash"}),u.jsxs("span",{className:"connection-info-value copyable",title:"Click to copy",onClick:()=>{navigator.clipboard.writeText(Da)},children:[u.jsx("code",{children:Da}),u.jsx("span",{className:"copy-hint",children:""})]})]}),mc&&u.jsxs("div",{className:"connection-info-row",children:[u.jsx("span",{className:"connection-info-label",children:"Connected Since"}),u.jsx("span",{className:"connection-info-value",children:new Date(mc).toLocaleString()})]}),u.jsxs("div",{className:"connection-info-row",children:[u.jsx("span",{className:"connection-info-label",children:"Relay Address"}),u.jsx("span",{className:"connection-info-value",children:u.jsx("code",{children:X.getBaseUrl()})})]})]})]})}),lc&&u.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"400px",height:"100vh",background:"var(--background)",borderLeft:"1px solid var(--border)",zIndex:1e3,display:"flex",flexDirection:"column",color:"var(--text)"},children:[u.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[u.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600},children:" Pinned Messages"}),u.jsx("button",{onClick:()=>ic(!1),style:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"var(--text)",padding:"4px",borderRadius:"4px"},children:""})]}),u.jsx("div",{style:{flex:1,overflowY:"auto",padding:"16px"},children:tl.length===0?u.jsxs("div",{style:{textAlign:"center",color:"var(--text-muted)",marginTop:"50px"},children:[u.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),u.jsx("p",{children:"No pinned messages in this channel yet."}),u.jsx("p",{style:{fontSize:"14px"},children:"Pin messages to keep important information easily accessible."})]}):u.jsx("div",{children:tl.map((f,p)=>u.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"var(--background-modifier-accent)",borderRadius:"8px",border:"1px solid var(--border)"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px",fontSize:"14px"},children:[u.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"var(--primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:600,marginRight:"8px"},children:(f.author||"?")[0]}),u.jsx("span",{style:{fontWeight:600,marginRight:"8px"},children:f.author}),u.jsxs("span",{style:{color:"var(--text-muted)",fontSize:"12px"},children:[new Date(f.timestamp).toLocaleDateString()," at ",f.time]})]}),u.jsx("div",{style:{marginLeft:"32px",lineHeight:"1.4"},dangerouslySetInnerHTML:{__html:nn.highlightMentions(f.content)}}),u.jsxs("div",{style:{marginLeft:"32px",marginTop:"8px",fontSize:"12px",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"4px"},children:[" Pinned ",new Date(f.pinned_at).toLocaleDateString()]})]},f.id||p))})})]}),Kl&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-card",style:{maxWidth:"380px"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[u.jsx("h3",{style:{margin:0},children:"Start a Direct Message"}),u.jsx("button",{onClick:()=>ea(!1),className:"error-toast-close",style:{color:"var(--text-muted)"},children:""})]}),u.jsx("p",{children:"Select a user to start a direct message:"}),u.jsxs("div",{style:{maxHeight:"300px",overflow:"auto"},children:[Bt.filter(f=>f.user_id!==localStorage.getItem("accord_user_id")).map(f=>u.jsxs("div",{className:"member",onClick:()=>{La(f.user),ea(!1)},children:[u.jsx("div",{className:"dm-avatar",style:{width:"24px",height:"24px",fontSize:"12px",marginRight:"12px"},children:At(f.user)[0].toUpperCase()}),u.jsxs("div",{children:[u.jsx("div",{style:{color:"var(--text-primary)",fontSize:"14px",fontWeight:"500"},children:At(f.user)}),u.jsxs("div",{style:{color:"var(--text-muted)",fontSize:"12px"},children:[ka(f.role)," ",f.role]})]})]},f.user_id)),Bt.filter(f=>f.user_id!==localStorage.getItem("accord_user_id")).length===0&&u.jsx("div",{className:"members-empty",children:"No other members available"})]})]})}),ms&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-card",children:[u.jsx("h3",{children:"Set Your Display Name"}),u.jsx("p",{children:"Choose a name that others will see instead of your fingerprint."}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Display Name"}),u.jsx("input",{type:"text",placeholder:"Enter a display name...",value:cl,onChange:f=>wc(f.target.value),onKeyDown:f=>{f.key==="Enter"&&ws()},className:"form-input",autoFocus:!0,maxLength:32})]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{onClick:ws,disabled:ol||!cl.trim(),className:"btn btn-green",style:{width:"auto"},children:ol?"Saving...":"Save"}),u.jsx("button",{onClick:()=>Gl(!1),className:"btn btn-outline",style:{width:"auto"},children:"Skip"})]})]})}),Ot&&u.jsxs("div",{className:"context-menu",style:{left:Ot.x,top:Ot.y},children:[u.jsxs("div",{className:"context-menu-item context-menu-profile-header",children:[u.jsx("div",{style:{fontWeight:600,fontSize:"14px"},children:Ot.displayName}),u.jsx("div",{style:{fontSize:"11px",color:"var(--text-faint)",fontFamily:"var(--font-mono)"},children:mt(Ot.publicKeyHash)}),Ot.bio&&u.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)",marginTop:"4px"},children:Ot.bio})]}),u.jsx("div",{className:"context-menu-separator"}),u.jsx("div",{className:"context-menu-item",onClick:()=>{const f=`Display Name: ${Ot.displayName}
Fingerprint: ${mt(Ot.publicKeyHash)}
Full Hash: ${Ot.publicKeyHash}${Ot.bio?`
Bio: ${Ot.bio}`:""}`;alert(f),ki(null)},children:" View Profile"}),Ot.user&&Ot.userId!==localStorage.getItem("accord_user_id")&&u.jsx("div",{className:"context-menu-item",onClick:()=>{Ot.user&&La(Ot.user),ki(null)},children:" Send DM"}),u.jsx("div",{className:"context-menu-separator"}),u.jsx("div",{className:"context-menu-item",onClick:()=>{navigator.clipboard.writeText(Ot.publicKeyHash).catch(()=>{}),ki(null)},children:" Copy Public Key Hash"})]}),_c&&u.jsx("div",{className:"modal-overlay",onClick:()=>ps(!1),children:u.jsxs("div",{className:"modal-card shortcuts-modal",onClick:f=>f.stopPropagation(),children:[u.jsx("h3",{children:" Keyboard Shortcuts"}),u.jsxs("div",{className:"shortcuts-list",children:[u.jsxs("div",{className:"shortcut-row",children:[u.jsx("kbd",{children:"Enter"}),u.jsx("span",{children:"Send message"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("kbd",{children:"Shift + Enter"}),u.jsx("span",{children:"New line in message"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("kbd",{children:"Escape"}),u.jsx("span",{children:"Close modal / Cancel edit"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("kbd",{children:"Ctrl + K"}),u.jsx("span",{children:"Open search"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("kbd",{children:"Ctrl + /"}),u.jsx("span",{children:"Show this help"})]}),u.jsxs("div",{className:"shortcut-row",children:[u.jsx("kbd",{children:"Ctrl + ,"}),u.jsx("span",{children:"Open settings"})]})]}),u.jsx("div",{className:"modal-actions",style:{marginTop:"16px"},children:u.jsx("button",{onClick:()=>ps(!1),className:"btn btn-outline",style:{width:"auto"},children:"Close"})})]})})]})}class eS extends _.Component{constructor(l){super(l),this.state={hasError:!1,error:null}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,r){console.error("Uncaught error:",l,r)}render(){var l;return this.state.hasError?u.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#ff6b6b"},children:[u.jsx("h1",{children:"Something went wrong"}),u.jsx("p",{children:(l=this.state.error)==null?void 0:l.message}),u.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),style:{marginTop:"1rem",padding:"0.5rem 1rem",cursor:"pointer",background:"#5865f2",color:"white",border:"none",borderRadius:"4px"},children:"Try Again"})]}):this.props.children}}window.DOMPurify=Pv;Uv.createRoot(document.getElementById("root")).render(u.jsx(bi.StrictMode,{children:u.jsx(eS,{children:u.jsx(P0,{})})}));export{aS as A,gg as C,X as a,vg as b,bg as c,jd as d,Cd as e,Xa as f,Ia as g,u as j,mg as l,nn as n,_ as r,lS as s,yg as v};
