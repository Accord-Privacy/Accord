var Ev=Object.defineProperty;var jv=(o,l,u)=>l in o?Ev(o,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[l]=u;var ue=(o,l,u)=>jv(o,typeof l!="symbol"?l+"":l,u);(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))r(h);new MutationObserver(h=>{for(const m of h)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function u(h){const m={};return h.integrity&&(m.integrity=h.integrity),h.referrerPolicy&&(m.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?m.credentials="include":h.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function r(h){if(h.ep)return;h.ep=!0;const m=u(h);fetch(h.href,m)}})();function Sg(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Wd={exports:{}},eo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function Cv(){if(Bp)return eo;Bp=1;var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function u(r,h,m){var p=null;if(m!==void 0&&(p=""+m),h.key!==void 0&&(p=""+h.key),"key"in h){m={};for(var b in h)b!=="key"&&(m[b]=h[b])}else m=h;return h=m.ref,{$$typeof:o,type:r,key:p,ref:h!==void 0?h:null,props:m}}return eo.Fragment=l,eo.jsx=u,eo.jsxs=u,eo}var Lp;function Tv(){return Lp||(Lp=1,Wd.exports=Cv()),Wd.exports}var s=Tv(),Pd={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function Av(){if(Hp)return Be;Hp=1;var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),Q=Symbol.iterator;function U(S){return S===null||typeof S!="object"?null:(S=Q&&S[Q]||S["@@iterator"],typeof S=="function"?S:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,te={};function ce(S,D,H){this.props=S,this.context=D,this.refs=te,this.updater=H||L}ce.prototype.isReactComponent={},ce.prototype.setState=function(S,D){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,D,"setState")},ce.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function me(){}me.prototype=ce.prototype;function fe(S,D,H){this.props=S,this.context=D,this.refs=te,this.updater=H||L}var de=fe.prototype=new me;de.constructor=fe,J(de,ce.prototype),de.isPureReactComponent=!0;var ke=Array.isArray;function He(){}var Te={H:null,A:null,T:null,S:null},we=Object.prototype.hasOwnProperty;function re(S,D,H){var le=H.ref;return{$$typeof:o,type:S,key:D,ref:le!==void 0?le:null,props:H}}function Oe(S,D){return re(S.type,D,S.props)}function je(S){return typeof S=="object"&&S!==null&&S.$$typeof===o}function ye(S){var D={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(H){return D[H]})}var ie=/\/+/g;function Y(S,D){return typeof S=="object"&&S!==null&&S.key!=null?ye(""+S.key):D.toString(36)}function O(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(He,He):(S.status="pending",S.then(function(D){S.status==="pending"&&(S.status="fulfilled",S.value=D)},function(D){S.status==="pending"&&(S.status="rejected",S.reason=D)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function E(S,D,H,le,P){var ae=typeof S;(ae==="undefined"||ae==="boolean")&&(S=null);var pe=!1;if(S===null)pe=!0;else switch(ae){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(S.$$typeof){case o:case l:pe=!0;break;case A:return pe=S._init,E(pe(S._payload),D,H,le,P)}}if(pe)return P=P(S),pe=le===""?"."+Y(S,0):le,ke(P)?(H="",pe!=null&&(H=pe.replace(ie,"$&/")+"/"),E(P,D,H,"",function(ze){return ze})):P!=null&&(je(P)&&(P=Oe(P,H+(P.key==null||S&&S.key===P.key?"":(""+P.key).replace(ie,"$&/")+"/")+pe)),D.push(P)),1;pe=0;var Me=le===""?".":le+":";if(ke(S))for(var Ue=0;Ue<S.length;Ue++)le=S[Ue],ae=Me+Y(le,Ue),pe+=E(le,D,H,ae,P);else if(Ue=U(S),typeof Ue=="function")for(S=Ue.call(S),Ue=0;!(le=S.next()).done;)le=le.value,ae=Me+Y(le,Ue++),pe+=E(le,D,H,ae,P);else if(ae==="object"){if(typeof S.then=="function")return E(O(S),D,H,le,P);throw D=String(S),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return pe}function K(S,D,H){if(S==null)return S;var le=[],P=0;return E(S,le,"","",function(ae){return D.call(H,ae,P++)}),le}function V(S){if(S._status===-1){var D=S._result;D=D(),D.then(function(H){(S._status===0||S._status===-1)&&(S._status=1,S._result=H)},function(H){(S._status===0||S._status===-1)&&(S._status=2,S._result=H)}),S._status===-1&&(S._status=0,S._result=D)}if(S._status===1)return S._result.default;throw S._result}var ne=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},se={map:K,forEach:function(S,D,H){K(S,function(){D.apply(this,arguments)},H)},count:function(S){var D=0;return K(S,function(){D++}),D},toArray:function(S){return K(S,function(D){return D})||[]},only:function(S){if(!je(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return Be.Activity=T,Be.Children=se,Be.Component=ce,Be.Fragment=u,Be.Profiler=h,Be.PureComponent=fe,Be.StrictMode=r,Be.Suspense=v,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Te,Be.__COMPILER_RUNTIME={__proto__:null,c:function(S){return Te.H.useMemoCache(S)}},Be.cache=function(S){return function(){return S.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(S,D,H){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var le=J({},S.props),P=S.key;if(D!=null)for(ae in D.key!==void 0&&(P=""+D.key),D)!we.call(D,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&D.ref===void 0||(le[ae]=D[ae]);var ae=arguments.length-2;if(ae===1)le.children=H;else if(1<ae){for(var pe=Array(ae),Me=0;Me<ae;Me++)pe[Me]=arguments[Me+2];le.children=pe}return re(S.type,P,le)},Be.createContext=function(S){return S={$$typeof:p,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:m,_context:S},S},Be.createElement=function(S,D,H){var le,P={},ae=null;if(D!=null)for(le in D.key!==void 0&&(ae=""+D.key),D)we.call(D,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(P[le]=D[le]);var pe=arguments.length-2;if(pe===1)P.children=H;else if(1<pe){for(var Me=Array(pe),Ue=0;Ue<pe;Ue++)Me[Ue]=arguments[Ue+2];P.children=Me}if(S&&S.defaultProps)for(le in pe=S.defaultProps,pe)P[le]===void 0&&(P[le]=pe[le]);return re(S,ae,P)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(S){return{$$typeof:b,render:S}},Be.isValidElement=je,Be.lazy=function(S){return{$$typeof:A,_payload:{_status:-1,_result:S},_init:V}},Be.memo=function(S,D){return{$$typeof:x,type:S,compare:D===void 0?null:D}},Be.startTransition=function(S){var D=Te.T,H={};Te.T=H;try{var le=S(),P=Te.S;P!==null&&P(H,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(He,ne)}catch(ae){ne(ae)}finally{D!==null&&H.types!==null&&(D.types=H.types),Te.T=D}},Be.unstable_useCacheRefresh=function(){return Te.H.useCacheRefresh()},Be.use=function(S){return Te.H.use(S)},Be.useActionState=function(S,D,H){return Te.H.useActionState(S,D,H)},Be.useCallback=function(S,D){return Te.H.useCallback(S,D)},Be.useContext=function(S){return Te.H.useContext(S)},Be.useDebugValue=function(){},Be.useDeferredValue=function(S,D){return Te.H.useDeferredValue(S,D)},Be.useEffect=function(S,D){return Te.H.useEffect(S,D)},Be.useEffectEvent=function(S){return Te.H.useEffectEvent(S)},Be.useId=function(){return Te.H.useId()},Be.useImperativeHandle=function(S,D,H){return Te.H.useImperativeHandle(S,D,H)},Be.useInsertionEffect=function(S,D){return Te.H.useInsertionEffect(S,D)},Be.useLayoutEffect=function(S,D){return Te.H.useLayoutEffect(S,D)},Be.useMemo=function(S,D){return Te.H.useMemo(S,D)},Be.useOptimistic=function(S,D){return Te.H.useOptimistic(S,D)},Be.useReducer=function(S,D,H){return Te.H.useReducer(S,D,H)},Be.useRef=function(S){return Te.H.useRef(S)},Be.useState=function(S){return Te.H.useState(S)},Be.useSyncExternalStore=function(S,D,H){return Te.H.useSyncExternalStore(S,D,H)},Be.useTransition=function(){return Te.H.useTransition()},Be.version="19.2.4",Be}var qp;function Cf(){return qp||(qp=1,Pd.exports=Av()),Pd.exports}var w=Cf();const Vr=Sg(w);var ef={exports:{}},to={},tf={exports:{}},nf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function kv(){return Kp||(Kp=1,(function(o){function l(E,K){var V=E.length;E.push(K);e:for(;0<V;){var ne=V-1>>>1,se=E[ne];if(0<h(se,K))E[ne]=K,E[V]=se,V=ne;else break e}}function u(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var K=E[0],V=E.pop();if(V!==K){E[0]=V;e:for(var ne=0,se=E.length,S=se>>>1;ne<S;){var D=2*(ne+1)-1,H=E[D],le=D+1,P=E[le];if(0>h(H,V))le<se&&0>h(P,H)?(E[ne]=P,E[le]=V,ne=le):(E[ne]=H,E[D]=V,ne=D);else if(le<se&&0>h(P,V))E[ne]=P,E[le]=V,ne=le;else break e}}return K}function h(E,K){var V=E.sortIndex-K.sortIndex;return V!==0?V:E.id-K.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;o.unstable_now=function(){return m.now()}}else{var p=Date,b=p.now();o.unstable_now=function(){return p.now()-b}}var v=[],x=[],A=1,T=null,Q=3,U=!1,L=!1,J=!1,te=!1,ce=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function de(E){for(var K=u(x);K!==null;){if(K.callback===null)r(x);else if(K.startTime<=E)r(x),K.sortIndex=K.expirationTime,l(v,K);else break;K=u(x)}}function ke(E){if(J=!1,de(E),!L)if(u(v)!==null)L=!0,He||(He=!0,ye());else{var K=u(x);K!==null&&O(ke,K.startTime-E)}}var He=!1,Te=-1,we=5,re=-1;function Oe(){return te?!0:!(o.unstable_now()-re<we)}function je(){if(te=!1,He){var E=o.unstable_now();re=E;var K=!0;try{e:{L=!1,J&&(J=!1,me(Te),Te=-1),U=!0;var V=Q;try{t:{for(de(E),T=u(v);T!==null&&!(T.expirationTime>E&&Oe());){var ne=T.callback;if(typeof ne=="function"){T.callback=null,Q=T.priorityLevel;var se=ne(T.expirationTime<=E);if(E=o.unstable_now(),typeof se=="function"){T.callback=se,de(E),K=!0;break t}T===u(v)&&r(v),de(E)}else r(v);T=u(v)}if(T!==null)K=!0;else{var S=u(x);S!==null&&O(ke,S.startTime-E),K=!1}}break e}finally{T=null,Q=V,U=!1}K=void 0}}finally{K?ye():He=!1}}}var ye;if(typeof fe=="function")ye=function(){fe(je)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Y=ie.port2;ie.port1.onmessage=je,ye=function(){Y.postMessage(null)}}else ye=function(){ce(je,0)};function O(E,K){Te=ce(function(){E(o.unstable_now())},K)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(E){E.callback=null},o.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<E?Math.floor(1e3/E):5},o.unstable_getCurrentPriorityLevel=function(){return Q},o.unstable_next=function(E){switch(Q){case 1:case 2:case 3:var K=3;break;default:K=Q}var V=Q;Q=K;try{return E()}finally{Q=V}},o.unstable_requestPaint=function(){te=!0},o.unstable_runWithPriority=function(E,K){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var V=Q;Q=E;try{return K()}finally{Q=V}},o.unstable_scheduleCallback=function(E,K,V){var ne=o.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ne+V:ne):V=ne,E){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=V+se,E={id:A++,callback:K,priorityLevel:E,startTime:V,expirationTime:se,sortIndex:-1},V>ne?(E.sortIndex=V,l(x,E),u(v)===null&&E===u(x)&&(J?(me(Te),Te=-1):J=!0,O(ke,V-ne))):(E.sortIndex=se,l(v,E),L||U||(L=!0,He||(He=!0,ye()))),E},o.unstable_shouldYield=Oe,o.unstable_wrapCallback=function(E){var K=Q;return function(){var V=Q;Q=K;try{return E.apply(this,arguments)}finally{Q=V}}}})(nf)),nf}var Yp;function Rv(){return Yp||(Yp=1,tf.exports=kv()),tf.exports}var af={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function Mv(){if(Gp)return Sn;Gp=1;var o=Cf();function l(v){var x="https://react.dev/errors/"+v;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)x+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var r={d:{f:u,r:function(){throw Error(l(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},h=Symbol.for("react.portal");function m(v,x,A){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:T==null?null:""+T,children:v,containerInfo:x,implementation:A}}var p=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(v,x){if(v==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sn.createPortal=function(v,x){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(l(299));return m(v,x,null,A)},Sn.flushSync=function(v){var x=p.T,A=r.p;try{if(p.T=null,r.p=2,v)return v()}finally{p.T=x,r.p=A,r.d.f()}},Sn.preconnect=function(v,x){typeof v=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,r.d.C(v,x))},Sn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Sn.preinit=function(v,x){if(typeof v=="string"&&x&&typeof x.as=="string"){var A=x.as,T=b(A,x.crossOrigin),Q=typeof x.integrity=="string"?x.integrity:void 0,U=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;A==="style"?r.d.S(v,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:T,integrity:Q,fetchPriority:U}):A==="script"&&r.d.X(v,{crossOrigin:T,integrity:Q,fetchPriority:U,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Sn.preinitModule=function(v,x){if(typeof v=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var A=b(x.as,x.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&r.d.M(v)},Sn.preload=function(v,x){if(typeof v=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var A=x.as,T=b(A,x.crossOrigin);r.d.L(v,A,{crossOrigin:T,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Sn.preloadModule=function(v,x){if(typeof v=="string")if(x){var A=b(x.as,x.crossOrigin);r.d.m(v,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else r.d.m(v)},Sn.requestFormReset=function(v){r.d.r(v)},Sn.unstable_batchedUpdates=function(v,x){return v(x)},Sn.useFormState=function(v,x,A){return p.H.useFormState(v,x,A)},Sn.useFormStatus=function(){return p.H.useHostTransitionStatus()},Sn.version="19.2.4",Sn}var Vp;function Dv(){if(Vp)return af.exports;Vp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(l){console.error(l)}}return o(),af.exports=Mv(),af.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function Ov(){if(Zp)return to;Zp=1;var o=Rv(),l=Cf(),u=Dv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(m(e)!==e)throw Error(r(188))}function x(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var c=i.alternate;if(c===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===n)return v(i),e;if(c===a)return v(i),t;c=c.sibling}throw Error(r(188))}if(n.return!==a.return)n=i,a=c;else{for(var f=!1,g=i.child;g;){if(g===n){f=!0,n=i,a=c;break}if(g===a){f=!0,a=i,n=c;break}g=g.sibling}if(!f){for(g=c.child;g;){if(g===n){f=!0,n=c,a=i;break}if(g===a){f=!0,a=c,n=i;break}g=g.sibling}if(!f)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function A(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=A(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,Q=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),Oe=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function ye(e){return e===null||typeof e!="object"?null:(e=je&&e[je]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case ce:return"Profiler";case te:return"StrictMode";case ke:return"Suspense";case He:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case fe:return e.displayName||"Context";case me:return(e._context.displayName||"Context")+".Consumer";case de:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Te:return t=e.displayName||null,t!==null?t:Y(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return Y(e(t))}catch{}}return null}var O=Array.isArray,E=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ne=[],se=-1;function S(e){return{current:e}}function D(e){0>se||(e.current=ne[se],ne[se]=null,se--)}function H(e,t){se++,ne[se]=e.current,e.current=t}var le=S(null),P=S(null),ae=S(null),pe=S(null);function Me(e,t){switch(H(ae,t),H(P,e),H(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sp(t),e=cp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(le),H(le,e)}function Ue(){D(le),D(P),D(ae)}function ze(e){e.memoizedState!==null&&H(pe,e);var t=le.current,n=cp(t,e.type);t!==n&&(H(P,e),H(le,n))}function $e(e){P.current===e&&(D(le),D(P)),pe.current===e&&(D(pe),$c._currentValue=V)}var Wt,jt;function Zt(e){if(Wt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wt=t&&t[1]||"",jt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+e+jt}var Ht=!1;function on(e,t){if(!e||Ht)return"";Ht=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(G){var q=G}Reflect.construct(e,[],F)}else{try{F.call()}catch(G){q=G}e.call(F.prototype)}}else{try{throw Error()}catch(G){q=G}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),f=c[0],g=c[1];if(f&&g){var N=f.split(`
`),B=g.split(`
`);for(i=a=0;a<N.length&&!N[a].includes("DetermineComponentFrameRoot");)a++;for(;i<B.length&&!B[i].includes("DetermineComponentFrameRoot");)i++;if(a===N.length||i===B.length)for(a=N.length-1,i=B.length-1;1<=a&&0<=i&&N[a]!==B[i];)i--;for(;1<=a&&0<=i;a--,i--)if(N[a]!==B[i]){if(a!==1||i!==1)do if(a--,i--,0>i||N[a]!==B[i]){var X=`
`+N[a].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=a&&0<=i);break}}}finally{Ht=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Zt(n):""}function Rn(e,t){switch(e.tag){case 26:case 27:case 5:return Zt(e.type);case 16:return Zt("Lazy");case 13:return e.child!==t&&t!==null?Zt("Suspense Fallback"):Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return on(e.type,!1);case 11:return on(e.type.render,!1);case 1:return on(e.type,!0);case 31:return Zt("Activity");default:return""}}function Pt(e){try{var t="",n=null;do t+=Rn(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var nn=Object.prototype.hasOwnProperty,yn=o.unstable_scheduleCallback,rn=o.unstable_cancelCallback,oe=o.unstable_shouldYield,Ie=o.unstable_requestPaint,k=o.unstable_now,ge=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,Ye=o.unstable_UserBlockingPriority,bt=o.unstable_NormalPriority,Le=o.unstable_LowPriority,Z=o.unstable_IdlePriority,Xe=o.log,un=o.unstable_setDisableYieldValue,qt=null,Rt=null;function Kt(e){if(typeof Xe=="function"&&un(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(qt,e)}catch{}}var At=Math.clz32?Math.clz32:Cl,$a=Math.log,lt=Math.LN2;function Cl(e){return e>>>=0,e===0?32:31-($a(e)/lt|0)|0}var De=256,dn=262144,Mn=4194304;function vn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ct(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,c=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var g=a&134217727;return g!==0?(a=g&~c,a!==0?i=vn(a):(f&=g,f!==0?i=vn(f):n||(n=g&~e,n!==0&&(i=vn(n))))):(g=a&~c,g!==0?i=vn(g):f!==0?i=vn(f):n||(n=a&~e,n!==0&&(i=vn(n)))),i===0?0:t!==0&&t!==i&&(t&c)===0&&(c=i&-i,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:i}function ba(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function it(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qn(){var e=Mn;return Mn<<=1,(Mn&62914560)===0&&(Mn=4194304),e}function In(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function en(e,t,n,a,i,c){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var g=e.entanglements,N=e.expirationTimes,B=e.hiddenUpdates;for(n=f&~n;0<n;){var X=31-At(n),F=1<<X;g[X]=0,N[X]=-1;var q=B[X];if(q!==null)for(B[X]=null,X=0;X<q.length;X++){var G=q[X];G!==null&&(G.lane&=-536870913)}n&=~F}a!==0&&xa(e,a,0),c!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=c&~(f&~t))}function xa(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-At(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-At(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Sa(e,t){var n=t&-t;return n=(n&42)!==0?1:qe(n),(n&(e.suspendedLanes|t))!==0?0:n}function qe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function an(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ia(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:kp(e.type))}function sa(e,t){var n=K.p;try{return K.p=e,t()}finally{K.p=n}}var ln=Math.random().toString(36).slice(2),ft="__reactFiber$"+ln,ht="__reactProps$"+ln,bn="__reactContainer$"+ln,On="__reactEvents$"+ln,ca="__reactListeners$"+ln,Tl="__reactHandles$"+ln,Ma="__reactResources$"+ln,Se="__reactMarker$"+ln;function j(e){delete e[ft],delete e[ht],delete e[On],delete e[ca],delete e[Tl]}function ee(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bn]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mp(e);e!==null;){if(n=e[ft])return n;e=mp(e)}return t}e=n,n=e.parentNode}return null}function ve(e){if(e=e[ft]||e[bn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Fe(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function St(e){var t=e[Ma];return t||(t=e[Ma]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[Se]=!0}var Yt=new Set,xn={};function sn(e,t){Jn(e,t),Jn(e+"Capture",t)}function Jn(e,t){for(xn[e]=t,e=0;e<t.length;e++)Yt.add(t[e])}var kt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fa={},Wa={};function Ks(e){return nn.call(Wa,e)?!0:nn.call(Fa,e)?!1:kt.test(e)?Wa[e]=!0:(Fa[e]=!0,!1)}function Al(e,t,n){if(Ks(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function pi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Mt(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ys(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ru(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(f){n=""+f,c.call(this,f)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gi(e){if(!e._valueTracker){var t=Ys(e)?"checked":"value";e._valueTracker=ru(e,t,""+e[t])}}function Gs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Ys(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var po=/[\n"\\]/g;function Un(e){return e.replace(po,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vi(e,t,n,a,i,c,f,g){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+fn(t)):e.value!==""+fn(t)&&(e.value=""+fn(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Zs(e,f,fn(t)):n!=null?Zs(e,f,fn(n)):a!=null&&e.removeAttribute("value"),i==null&&c!=null&&(e.defaultChecked=!!c),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+fn(g):e.removeAttribute("name")}function Vs(e,t,n,a,i,c,f,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Gi(e);return}n=n!=null?""+fn(n):"",t=t!=null?""+fn(t):n,g||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=g?e.checked:!!a,e.defaultChecked=!!a,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),Gi(e)}function Zs(e,t,n){t==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Pa(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+fn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function go(e,t,n){if(t!=null&&(t=""+fn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+fn(n):""}function yo(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(r(92));if(O(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=fn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Gi(e)}function kl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zi(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Xs.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function vo(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Zi(e,i,a)}else for(var c in t)t.hasOwnProperty(c)&&Zi(e,c,t[c])}function el(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(e){return Xi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function oa(){}var Dt=null;function Is(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tl=null,Da=null;function Qi(e){var t=ve(e);if(t&&(e=t.stateNode)){var n=e[ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vi(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Un(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[ht]||null;if(!i)throw Error(r(90));Vi(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Gs(a)}break e;case"textarea":go(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Pa(e,!!n.multiple,t,!1)}}}var Oa=!1;function Js(e,t,n){if(Oa)return e(t,n);Oa=!0;try{var a=e(t);return a}finally{if(Oa=!1,(tl!==null||Da!==null)&&(fr(),tl&&(t=tl,e=Da,Da=tl=null,Qi(t),e)))for(t=0;t<e.length;t++)Qi(e[t])}}function Ua(e,t){var n=e.stateNode;if(n===null)return null;var a=n[ht]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=!1;if(wn)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){yi=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{yi=!1}var _a=null,Ii=null,Ml=null;function vi(){if(Ml)return Ml;var e,t=Ii,n=t.length,a,i="value"in _a?_a.value:_a.textContent,c=i.length;for(e=0;e<n&&t[e]===i[e];e++);var f=n-e;for(a=1;a<=f&&t[n-a]===i[c-a];a++);return Ml=i.slice(e,1<a?1-a:void 0)}function Dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bi(){return!0}function Ji(){return!1}function hn(e){function t(n,a,i,c,f){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?bi:Ji,this.isPropagationStopped=Ji,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),t}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=hn(za),Ba=T({},za,{view:0,detail:0}),Ul=hn(Ba),$s,nl,xi,zl=T({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?($s=e.screenX-xi.screenX,nl=e.screenY-xi.screenY):nl=$s=0,xi=e),$s)},movementY:function(e){return"movementY"in e?e.movementY:nl}}),Fs=hn(zl),uu=T({},zl,{dataTransfer:0}),Ws=hn(uu),Ps=T({},Ba,{relatedTarget:0}),Si=hn(Ps),du=T({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=hn(du),hu=T({},za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bo=hn(hu),mu=T({},za,{data:0}),$i=hn(mu),ec={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nc[e])?!!t[e]:!1}function Na(){return xo}var ac=T({},Ba,{key:function(e){if(e.key){var t=ec[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(e){return e.type==="keypress"?Dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),So=hn(ac),Fi=T({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=hn(Fi),Wi=T({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),lc=hn(Wi),_i=T({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bl=hn(_i),wo=T({},zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_o=hn(wo),No=T({},za,{newState:0,oldState:0}),ic=hn(No),Pi=[9,13,27,32],sc=wn&&"CompositionEvent"in window,al=null;wn&&"documentMode"in document&&(al=document.documentMode);var Eo=wn&&"TextEvent"in window&&!al,Ni=wn&&(!sc||al&&8<al&&11>=al),es=" ",jo=!1;function Co(e,t){switch(e){case"keyup":return Pi.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var La=!1;function To(e,t){switch(e){case"compositionend":return cc(t);case"keypress":return t.which!==32?null:(jo=!0,es);case"textInput":return e=t.data,e===es&&jo?null:e;default:return null}}function pu(e,t){if(La)return e==="compositionend"||!sc&&Co(e,t)?(e=vi(),Ml=Ii=_a=null,La=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ni&&t.locale!=="ko"?null:t.data;default:return null}}var Ao={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ao[e.type]:t==="textarea"}function Ot(e,t,n,a){tl?Da?Da.push(a):Da=[a]:tl=a,t=br(t,"onChange"),0<t.length&&(n=new Ol("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ea=null,Ll=null;function Ro(e){ep(e,0)}function Ei(e){var t=Fe(e);if(Gs(t))return e}function oc(e,t){if(e==="change")return t}var rc=!1;if(wn){var uc;if(wn){var ts="oninput"in document;if(!ts){var dc=document.createElement("div");dc.setAttribute("oninput","return;"),ts=typeof dc.oninput=="function"}uc=ts}else uc=!1;rc=uc&&(!document.documentMode||9<document.documentMode)}function Hl(){Ea&&(Ea.detachEvent("onpropertychange",ns),Ll=Ea=null)}function ns(e){if(e.propertyName==="value"&&Ei(Ll)){var t=[];Ot(t,Ll,e,Is(e)),Js(Ro,t)}}function $n(e,t,n){e==="focusin"?(Hl(),Ea=t,Ll=n,Ea.attachEvent("onpropertychange",ns)):e==="focusout"&&Hl()}function gu(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ei(Ll)}function Mo(e,t){if(e==="click")return Ei(t)}function ll(e,t){if(e==="input"||e==="change")return Ei(t)}function ra(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:ra;function ua(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!nn.call(t,i)||!Ut(e[i],t[i]))return!1}return!0}function as(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function il(e,t){var n=as(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=as(n)}}function fc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Do(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=gi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gi(e.document)}return t}function hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yu=wn&&"documentMode"in document&&11>=document.documentMode,ql=null,zn=null,Kl=null,ji=!1;function ls(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ji||ql==null||ql!==gi(a)||(a=ql,"selectionStart"in a&&hc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Kl&&ua(Kl,a)||(Kl=a,a=br(zn,"onSelect"),0<a.length&&(t=new Ol("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ql)))}function Ha(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qa={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},mc={},Oo={};wn&&(Oo=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function sl(e){if(mc[e])return mc[e];if(!qa[e])return e;var t=qa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Oo)return mc[e]=t[n];return e}var Uo=sl("animationend"),pc=sl("animationiteration"),gc=sl("animationstart"),vu=sl("transitionrun"),bu=sl("transitionstart"),xu=sl("transitioncancel"),yc=sl("transitionend"),vc=new Map,Yl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yl.push("scrollEnd");function Bn(e,t){vc.set(e,t),sn(t,[e])}var Ci=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_n=[],Gl=0,is=0;function Vl(){for(var e=Gl,t=is=Gl=0;t<e;){var n=_n[t];_n[t++]=null;var a=_n[t];_n[t++]=null;var i=_n[t];_n[t++]=null;var c=_n[t];if(_n[t++]=null,a!==null&&i!==null){var f=a.pending;f===null?i.next=i:(i.next=f.next,f.next=i),a.pending=i}c!==0&&bc(n,i,c)}}function ss(e,t,n,a){_n[Gl++]=e,_n[Gl++]=t,_n[Gl++]=n,_n[Gl++]=a,is|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function cs(e,t,n,a){return ss(e,t,n,a),os(e)}function cl(e,t){return ss(e,null,null,t),os(e)}function bc(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,c=e.return;c!==null;)c.childLanes|=n,a=c.alternate,a!==null&&(a.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(i=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,i&&t!==null&&(i=31-At(n),e=c.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),c):null}function os(e){if(50<Gc)throw Gc=0,wd=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ka={};function Su(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,t,n,a){return new Su(e,t,n,a)}function xc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ja(e,t){var n=e.alternate;return n===null?(n=Nn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zo(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ti(e,t,n,a,i,c){var f=0;if(a=e,typeof e=="function")xc(e)&&(f=1);else if(typeof e=="string")f=hv(e,n,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=Nn(31,n,t,i),e.elementType=re,e.lanes=c,e;case J:return ol(n.children,i,c,t);case te:f=8,i|=24;break;case ce:return e=Nn(12,n,t,i|2),e.elementType=ce,e.lanes=c,e;case ke:return e=Nn(13,n,t,i),e.elementType=ke,e.lanes=c,e;case He:return e=Nn(19,n,t,i),e.elementType=He,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fe:f=10;break e;case me:f=9;break e;case de:f=11;break e;case Te:f=14;break e;case we:f=16,a=null;break e}f=29,n=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=Nn(f,n,t,i),t.elementType=e,t.type=a,t.lanes=c,t}function ol(e,t,n,a){return e=Nn(7,e,a,t),e.lanes=n,e}function da(e,t,n){return e=Nn(6,e,null,t),e.lanes=n,e}function Bo(e){var t=Nn(18,null,null,0);return t.stateNode=e,t}function rs(e,t,n){return t=Nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Sc=new WeakMap;function Xt(e,t){if(typeof e=="object"&&e!==null){var n=Sc.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Pt(t)},Sc.set(e,t),t)}return{value:e,source:t,stack:Pt(t)}}var Ya=[],rl=0,us=null,Zl=0,Ln=[],Hn=0,Ga=null,Fn=1,Wn="";function fa(e,t){Ya[rl++]=Zl,Ya[rl++]=us,us=e,Zl=t}function wc(e,t,n){Ln[Hn++]=Fn,Ln[Hn++]=Wn,Ln[Hn++]=Ga,Ga=e;var a=Fn;e=Wn;var i=32-At(a)-1;a&=~(1<<i),n+=1;var c=32-At(t)+i;if(30<c){var f=i-i%5;c=(a&(1<<f)-1).toString(32),a>>=f,i-=f,Fn=1<<32-At(t)+i|n<<i|a,Wn=c+e}else Fn=1<<c|n<<i|a,Wn=e}function ds(e){e.return!==null&&(fa(e,1),wc(e,1,0))}function fs(e){for(;e===us;)us=Ya[--rl],Ya[rl]=null,Zl=Ya[--rl],Ya[rl]=null;for(;e===Ga;)Ga=Ln[--Hn],Ln[Hn]=null,Wn=Ln[--Hn],Ln[Hn]=null,Fn=Ln[--Hn],Ln[Hn]=null}function _c(e,t){Ln[Hn++]=Fn,Ln[Hn++]=Wn,Ln[Hn++]=Ga,Fn=t.id,Wn=t.overflow,Ga=e}var Qt=null,mt=null,d=!1,y=null,_=!1,R=Error(r(519));function I(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw he(Xt(t,e)),R}function xe(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[ft]=e,t[ht]=a,n){case"dialog":et("cancel",t),et("close",t);break;case"iframe":case"object":case"embed":et("load",t);break;case"video":case"audio":for(n=0;n<Zc.length;n++)et(Zc[n],t);break;case"source":et("error",t);break;case"img":case"image":case"link":et("error",t),et("load",t);break;case"details":et("toggle",t);break;case"input":et("invalid",t),Vs(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":et("invalid",t);break;case"textarea":et("invalid",t),yo(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||lp(t.textContent,n)?(a.popover!=null&&(et("beforetoggle",t),et("toggle",t)),a.onScroll!=null&&et("scroll",t),a.onScrollEnd!=null&&et("scrollend",t),a.onClick!=null&&(t.onclick=oa),t=!0):t=!1,t||I(e,!0)}function be(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:_=!1;return;case 27:case 3:_=!0;return;default:Qt=Qt.return}}function We(e){if(e!==Qt)return!1;if(!d)return be(e),d=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Bd(e.type,e.memoizedProps)),n=!n),n&&mt&&I(e),be(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));mt=hp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));mt=hp(e)}else t===27?(t=mt,li(e.type)?(e=Yd,Yd=null,mt=e):mt=t):mt=Qt?ma(e.stateNode.nextSibling):null;return!0}function Qe(){mt=Qt=null,d=!1}function Ne(){var e=y;return e!==null&&(Gn===null?Gn=e:Gn.push.apply(Gn,e),y=null),e}function he(e){y===null?y=[e]:y.push(e)}var wt=S(null),rt=null,tt=null;function _t(e,t,n){H(wt,t._currentValue),t._currentValue=n}function En(e){e._currentValue=wt.current,D(wt)}function wu(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function _u(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){var f=i.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=i;for(var N=0;N<t.length;N++)if(g.context===t[N]){c.lanes|=n,g=c.alternate,g!==null&&(g.lanes|=n),wu(c.return,n,e),a||(f=null);break e}c=g.next}}else if(i.tag===18){if(f=i.return,f===null)throw Error(r(341));f.lanes|=n,c=f.alternate,c!==null&&(c.lanes|=n),wu(f,n,e),f=null}else f=i.child;if(f!==null)f.return=i;else for(f=i;f!==null;){if(f===e){f=null;break}if(i=f.sibling,i!==null){i.return=f.return,f=i;break}f=f.return}i=f}}function hs(e,t,n,a){e=null;for(var i=t,c=!1;i!==null;){if(!c){if((i.flags&524288)!==0)c=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var f=i.alternate;if(f===null)throw Error(r(387));if(f=f.memoizedProps,f!==null){var g=i.type;Ut(i.pendingProps.value,f.value)||(e!==null?e.push(g):e=[g])}}else if(i===pe.current){if(f=i.alternate,f===null)throw Error(r(387));f.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push($c):e=[$c])}i=i.return}e!==null&&_u(t,e,n,a),t.flags|=262144}function Lo(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){rt=e,tt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mn(e){return Gf(rt,e)}function Ho(e,t){return rt===null&&Ai(e),Gf(e,t)}function Gf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},tt===null){if(e===null)throw Error(r(308));tt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tt=tt.next=t;return n}var ry=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},uy=o.unstable_scheduleCallback,dy=o.unstable_NormalPriority,It={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nu(){return{controller:new ry,data:new Map,refCount:0}}function Nc(e){e.refCount--,e.refCount===0&&uy(dy,function(){e.controller.abort()})}var Ec=null,Eu=0,ms=0,ps=null;function fy(e,t){if(Ec===null){var n=Ec=[];Eu=0,ms=Td(),ps={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Eu++,t.then(Vf,Vf),t}function Vf(){if(--Eu===0&&Ec!==null){ps!==null&&(ps.status="fulfilled");var e=Ec;Ec=null,ms=0,ps=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hy(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Zf=E.S;E.S=function(e,t){Tm=k(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&fy(e,t),Zf!==null&&Zf(e,t)};var ki=S(null);function ju(){var e=ki.current;return e!==null?e:vt.pooledCache}function qo(e,t){t===null?H(ki,ki.current):H(ki,t.pool)}function Xf(){var e=ju();return e===null?null:{parent:It._currentValue,pool:e}}var gs=Error(r(460)),Cu=Error(r(474)),Ko=Error(r(542)),Yo={then:function(){}};function Qf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function If(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(oa,oa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$f(e),e;default:if(typeof t.status=="string")t.then(oa,oa);else{if(e=vt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$f(e),e}throw Mi=t,gs}}function Ri(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Mi=n,gs):n}}var Mi=null;function Jf(){if(Mi===null)throw Error(r(459));var e=Mi;return Mi=null,e}function $f(e){if(e===gs||e===Ko)throw Error(r(483))}var ys=null,jc=0;function Go(e){var t=jc;return jc+=1,ys===null&&(ys=[]),If(ys,e,t)}function Cc(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vo(e,t){throw t.$$typeof===Q?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ff(e){function t(M,C){if(e){var z=M.deletions;z===null?(M.deletions=[C],M.flags|=16):z.push(C)}}function n(M,C){if(!e)return null;for(;C!==null;)t(M,C),C=C.sibling;return null}function a(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function i(M,C){return M=ja(M,C),M.index=0,M.sibling=null,M}function c(M,C,z){return M.index=z,e?(z=M.alternate,z!==null?(z=z.index,z<C?(M.flags|=67108866,C):z):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function f(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function g(M,C,z,$){return C===null||C.tag!==6?(C=da(z,M.mode,$),C.return=M,C):(C=i(C,z),C.return=M,C)}function N(M,C,z,$){var Ae=z.type;return Ae===J?X(M,C,z.props.children,$,z.key):C!==null&&(C.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===we&&Ri(Ae)===C.type)?(C=i(C,z.props),Cc(C,z),C.return=M,C):(C=Ti(z.type,z.key,z.props,null,M.mode,$),Cc(C,z),C.return=M,C)}function B(M,C,z,$){return C===null||C.tag!==4||C.stateNode.containerInfo!==z.containerInfo||C.stateNode.implementation!==z.implementation?(C=rs(z,M.mode,$),C.return=M,C):(C=i(C,z.children||[]),C.return=M,C)}function X(M,C,z,$,Ae){return C===null||C.tag!==7?(C=ol(z,M.mode,$,Ae),C.return=M,C):(C=i(C,z),C.return=M,C)}function F(M,C,z){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=da(""+C,M.mode,z),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case U:return z=Ti(C.type,C.key,C.props,null,M.mode,z),Cc(z,C),z.return=M,z;case L:return C=rs(C,M.mode,z),C.return=M,C;case we:return C=Ri(C),F(M,C,z)}if(O(C)||ye(C))return C=ol(C,M.mode,z,null),C.return=M,C;if(typeof C.then=="function")return F(M,Go(C),z);if(C.$$typeof===fe)return F(M,Ho(M,C),z);Vo(M,C)}return null}function q(M,C,z,$){var Ae=C!==null?C.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return Ae!==null?null:g(M,C,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return z.key===Ae?N(M,C,z,$):null;case L:return z.key===Ae?B(M,C,z,$):null;case we:return z=Ri(z),q(M,C,z,$)}if(O(z)||ye(z))return Ae!==null?null:X(M,C,z,$,null);if(typeof z.then=="function")return q(M,C,Go(z),$);if(z.$$typeof===fe)return q(M,C,Ho(M,z),$);Vo(M,z)}return null}function G(M,C,z,$,Ae){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return M=M.get(z)||null,g(C,M,""+$,Ae);if(typeof $=="object"&&$!==null){switch($.$$typeof){case U:return M=M.get($.key===null?z:$.key)||null,N(C,M,$,Ae);case L:return M=M.get($.key===null?z:$.key)||null,B(C,M,$,Ae);case we:return $=Ri($),G(M,C,z,$,Ae)}if(O($)||ye($))return M=M.get(z)||null,X(C,M,$,Ae,null);if(typeof $.then=="function")return G(M,C,z,Go($),Ae);if($.$$typeof===fe)return G(M,C,z,Ho(C,$),Ae);Vo(C,$)}return null}function _e(M,C,z,$){for(var Ae=null,st=null,Ee=C,Ve=C=0,at=null;Ee!==null&&Ve<z.length;Ve++){Ee.index>Ve?(at=Ee,Ee=null):at=Ee.sibling;var ct=q(M,Ee,z[Ve],$);if(ct===null){Ee===null&&(Ee=at);break}e&&Ee&&ct.alternate===null&&t(M,Ee),C=c(ct,C,Ve),st===null?Ae=ct:st.sibling=ct,st=ct,Ee=at}if(Ve===z.length)return n(M,Ee),d&&fa(M,Ve),Ae;if(Ee===null){for(;Ve<z.length;Ve++)Ee=F(M,z[Ve],$),Ee!==null&&(C=c(Ee,C,Ve),st===null?Ae=Ee:st.sibling=Ee,st=Ee);return d&&fa(M,Ve),Ae}for(Ee=a(Ee);Ve<z.length;Ve++)at=G(Ee,M,Ve,z[Ve],$),at!==null&&(e&&at.alternate!==null&&Ee.delete(at.key===null?Ve:at.key),C=c(at,C,Ve),st===null?Ae=at:st.sibling=at,st=at);return e&&Ee.forEach(function(ri){return t(M,ri)}),d&&fa(M,Ve),Ae}function Re(M,C,z,$){if(z==null)throw Error(r(151));for(var Ae=null,st=null,Ee=C,Ve=C=0,at=null,ct=z.next();Ee!==null&&!ct.done;Ve++,ct=z.next()){Ee.index>Ve?(at=Ee,Ee=null):at=Ee.sibling;var ri=q(M,Ee,ct.value,$);if(ri===null){Ee===null&&(Ee=at);break}e&&Ee&&ri.alternate===null&&t(M,Ee),C=c(ri,C,Ve),st===null?Ae=ri:st.sibling=ri,st=ri,Ee=at}if(ct.done)return n(M,Ee),d&&fa(M,Ve),Ae;if(Ee===null){for(;!ct.done;Ve++,ct=z.next())ct=F(M,ct.value,$),ct!==null&&(C=c(ct,C,Ve),st===null?Ae=ct:st.sibling=ct,st=ct);return d&&fa(M,Ve),Ae}for(Ee=a(Ee);!ct.done;Ve++,ct=z.next())ct=G(Ee,M,Ve,ct.value,$),ct!==null&&(e&&ct.alternate!==null&&Ee.delete(ct.key===null?Ve:ct.key),C=c(ct,C,Ve),st===null?Ae=ct:st.sibling=ct,st=ct);return e&&Ee.forEach(function(Nv){return t(M,Nv)}),d&&fa(M,Ve),Ae}function yt(M,C,z,$){if(typeof z=="object"&&z!==null&&z.type===J&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case U:e:{for(var Ae=z.key;C!==null;){if(C.key===Ae){if(Ae=z.type,Ae===J){if(C.tag===7){n(M,C.sibling),$=i(C,z.props.children),$.return=M,M=$;break e}}else if(C.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===we&&Ri(Ae)===C.type){n(M,C.sibling),$=i(C,z.props),Cc($,z),$.return=M,M=$;break e}n(M,C);break}else t(M,C);C=C.sibling}z.type===J?($=ol(z.props.children,M.mode,$,z.key),$.return=M,M=$):($=Ti(z.type,z.key,z.props,null,M.mode,$),Cc($,z),$.return=M,M=$)}return f(M);case L:e:{for(Ae=z.key;C!==null;){if(C.key===Ae)if(C.tag===4&&C.stateNode.containerInfo===z.containerInfo&&C.stateNode.implementation===z.implementation){n(M,C.sibling),$=i(C,z.children||[]),$.return=M,M=$;break e}else{n(M,C);break}else t(M,C);C=C.sibling}$=rs(z,M.mode,$),$.return=M,M=$}return f(M);case we:return z=Ri(z),yt(M,C,z,$)}if(O(z))return _e(M,C,z,$);if(ye(z)){if(Ae=ye(z),typeof Ae!="function")throw Error(r(150));return z=Ae.call(z),Re(M,C,z,$)}if(typeof z.then=="function")return yt(M,C,Go(z),$);if(z.$$typeof===fe)return yt(M,C,Ho(M,z),$);Vo(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,C!==null&&C.tag===6?(n(M,C.sibling),$=i(C,z),$.return=M,M=$):(n(M,C),$=da(z,M.mode,$),$.return=M,M=$),f(M)):n(M,C)}return function(M,C,z,$){try{jc=0;var Ae=yt(M,C,z,$);return ys=null,Ae}catch(Ee){if(Ee===gs||Ee===Ko)throw Ee;var st=Nn(29,Ee,null,M.mode);return st.lanes=$,st.return=M,st}finally{}}}var Di=Ff(!0),Wf=Ff(!1),Xl=!1;function Tu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Au(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ql(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Il(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ot&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=os(e),bc(e,null,n),t}return ss(e,a,t,n),os(e)}function Tc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ce(e,n)}}function ku(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?i=c=f:c=c.next=f,n=n.next}while(n!==null);c===null?i=c=t:c=c.next=t}else i=c=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ru=!1;function Ac(){if(Ru){var e=ps;if(e!==null)throw e}}function kc(e,t,n,a){Ru=!1;var i=e.updateQueue;Xl=!1;var c=i.firstBaseUpdate,f=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var N=g,B=N.next;N.next=null,f===null?c=B:f.next=B,f=N;var X=e.alternate;X!==null&&(X=X.updateQueue,g=X.lastBaseUpdate,g!==f&&(g===null?X.firstBaseUpdate=B:g.next=B,X.lastBaseUpdate=N))}if(c!==null){var F=i.baseState;f=0,X=B=N=null,g=c;do{var q=g.lane&-536870913,G=q!==g.lane;if(G?(nt&q)===q:(a&q)===q){q!==0&&q===ms&&(Ru=!0),X!==null&&(X=X.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var _e=e,Re=g;q=t;var yt=n;switch(Re.tag){case 1:if(_e=Re.payload,typeof _e=="function"){F=_e.call(yt,F,q);break e}F=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Re.payload,q=typeof _e=="function"?_e.call(yt,F,q):_e,q==null)break e;F=T({},F,q);break e;case 2:Xl=!0}}q=g.callback,q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=i.callbacks,G===null?i.callbacks=[q]:G.push(q))}else G={lane:q,tag:g.tag,payload:g.payload,callback:g.callback,next:null},X===null?(B=X=G,N=F):X=X.next=G,f|=q;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;G=g,g=G.next,G.next=null,i.lastBaseUpdate=G,i.shared.pending=null}}while(!0);X===null&&(N=F),i.baseState=N,i.firstBaseUpdate=B,i.lastBaseUpdate=X,c===null&&(i.shared.lanes=0),Pl|=f,e.lanes=f,e.memoizedState=F}}function Pf(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function eh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Pf(n[e],t)}var vs=S(null),Zo=S(0);function th(e,t){e=vl,H(Zo,e),H(vs,t),vl=e|t.baseLanes}function Mu(){H(Zo,vl),H(vs,vs.current)}function Du(){vl=Zo.current,D(vs),D(Zo)}var Pn=S(null),ha=null;function Jl(e){var t=e.alternate;H(Gt,Gt.current&1),H(Pn,e),ha===null&&(t===null||vs.current!==null||t.memoizedState!==null)&&(ha=e)}function Ou(e){H(Gt,Gt.current),H(Pn,e),ha===null&&(ha=e)}function nh(e){e.tag===22?(H(Gt,Gt.current),H(Pn,e),ha===null&&(ha=e)):$l()}function $l(){H(Gt,Gt.current),H(Pn,Pn.current)}function ea(e){D(Pn),ha===e&&(ha=null),D(Gt)}var Gt=S(0);function Xo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||qd(n)||Kd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=0,Ke=null,pt=null,Jt=null,Qo=!1,bs=!1,Oi=!1,Io=0,Rc=0,xs=null,my=0;function zt(){throw Error(r(321))}function Uu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function zu(e,t,n,a,i,c){return ul=c,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?Hh:Fu,Oi=!1,c=n(a,i),Oi=!1,bs&&(c=lh(t,n,a,i)),ah(e),c}function ah(e){E.H=Oc;var t=pt!==null&&pt.next!==null;if(ul=0,Jt=pt=Ke=null,Qo=!1,Rc=0,xs=null,t)throw Error(r(300));e===null||$t||(e=e.dependencies,e!==null&&Lo(e)&&($t=!0))}function lh(e,t,n,a){Ke=e;var i=0;do{if(bs&&(xs=null),Rc=0,bs=!1,25<=i)throw Error(r(301));if(i+=1,Jt=pt=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}E.H=qh,c=t(n,a)}while(bs);return c}function py(){var e=E.H,t=e.useState()[0];return t=typeof t.then=="function"?Mc(t):t,e=e.useState()[0],(pt!==null?pt.memoizedState:null)!==e&&(Ke.flags|=1024),t}function Bu(){var e=Io!==0;return Io=0,e}function Lu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hu(e){if(Qo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qo=!1}ul=0,Jt=pt=Ke=null,bs=!1,Rc=Io=0,xs=null}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ke.memoizedState=Jt=e:Jt=Jt.next=e,Jt}function Vt(){if(pt===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=Jt===null?Ke.memoizedState:Jt.next;if(t!==null)Jt=t,pt=e;else{if(e===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Jt===null?Ke.memoizedState=Jt=e:Jt=Jt.next=e}return Jt}function Jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mc(e){var t=Rc;return Rc+=1,xs===null&&(xs=[]),e=If(xs,e,t),t=Ke,(Jt===null?t.memoizedState:Jt.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?Hh:Fu),e}function $o(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Mc(e);if(e.$$typeof===fe)return mn(e)}throw Error(r(438,String(e)))}function qu(e){var t=null,n=Ke.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Ke.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Jo(),Ke.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Oe;return t.index++,n}function dl(e,t){return typeof t=="function"?t(e):t}function Fo(e){var t=Vt();return Ku(t,pt,e)}function Ku(e,t,n){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var i=e.baseQueue,c=a.pending;if(c!==null){if(i!==null){var f=i.next;i.next=c.next,c.next=f}t.baseQueue=i=c,a.pending=null}if(c=e.baseState,i===null)e.memoizedState=c;else{t=i.next;var g=f=null,N=null,B=t,X=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(nt&F)===F:(ul&F)===F){var q=B.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===ms&&(X=!0);else if((ul&q)===q){B=B.next,q===ms&&(X=!0);continue}else F={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(g=N=F,f=c):N=N.next=F,Ke.lanes|=q,Pl|=q;F=B.action,Oi&&n(c,F),c=B.hasEagerState?B.eagerState:n(c,F)}else q={lane:F,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(g=N=q,f=c):N=N.next=q,Ke.lanes|=F,Pl|=F;B=B.next}while(B!==null&&B!==t);if(N===null?f=c:N.next=g,!Ut(c,e.memoizedState)&&($t=!0,X&&(n=ps,n!==null)))throw n;e.memoizedState=c,e.baseState=f,e.baseQueue=N,a.lastRenderedState=c}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Yu(e){var t=Vt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,c=t.memoizedState;if(i!==null){n.pending=null;var f=i=i.next;do c=e(c,f.action),f=f.next;while(f!==i);Ut(c,t.memoizedState)||($t=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,a]}function ih(e,t,n){var a=Ke,i=Vt(),c=d;if(c){if(n===void 0)throw Error(r(407));n=n()}else n=t();var f=!Ut((pt||i).memoizedState,n);if(f&&(i.memoizedState=n,$t=!0),i=i.queue,Zu(oh.bind(null,a,i,e),[e]),i.getSnapshot!==t||f||Jt!==null&&Jt.memoizedState.tag&1){if(a.flags|=2048,Ss(9,{destroy:void 0},ch.bind(null,a,i,n,t),null),vt===null)throw Error(r(349));c||(ul&127)!==0||sh(a,t,n)}return n}function sh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t=Jo(),Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ch(e,t,n,a){t.value=n,t.getSnapshot=a,rh(t)&&uh(e)}function oh(e,t,n){return n(function(){rh(t)&&uh(e)})}function rh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function uh(e){var t=cl(e,2);t!==null&&Vn(t,e,2)}function Gu(e){var t=jn();if(typeof e=="function"){var n=e;if(e=n(),Oi){Kt(!0);try{n()}finally{Kt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:e},t}function dh(e,t,n,a){return e.baseState=n,Ku(e,pt,typeof a=="function"?a:dl)}function gy(e,t,n,a,i){if(er(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){c.listeners.push(f)}};E.T!==null?n(!0):c.isTransition=!1,a(c),n=t.pending,n===null?(c.next=t.pending=c,fh(t,c)):(c.next=n.next,t.pending=n.next=c)}}function fh(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var c=E.T,f={};E.T=f;try{var g=n(i,a),N=E.S;N!==null&&N(f,g),hh(e,t,g)}catch(B){Vu(e,t,B)}finally{c!==null&&f.types!==null&&(c.types=f.types),E.T=c}}else try{c=n(i,a),hh(e,t,c)}catch(B){Vu(e,t,B)}}function hh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){mh(e,t,a)},function(a){return Vu(e,t,a)}):mh(e,t,n)}function mh(e,t,n){t.status="fulfilled",t.value=n,ph(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,fh(e,n)))}function Vu(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,ph(t),t=t.next;while(t!==a)}e.action=null}function ph(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function gh(e,t){return t}function yh(e,t){if(d){var n=vt.formState;if(n!==null){e:{var a=Ke;if(d){if(mt){t:{for(var i=mt,c=_;i.nodeType!==8;){if(!c){i=null;break t}if(i=ma(i.nextSibling),i===null){i=null;break t}}c=i.data,i=c==="F!"||c==="F"?i:null}if(i){mt=ma(i.nextSibling),a=i.data==="F!";break e}}I(a)}a=!1}a&&(t=n[0])}}return n=jn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gh,lastRenderedState:t},n.queue=a,n=zh.bind(null,Ke,a),a.dispatch=n,a=Gu(!1),c=$u.bind(null,Ke,!1,a.queue),a=jn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=gy.bind(null,Ke,i,c,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function vh(e){var t=Vt();return bh(t,pt,e)}function bh(e,t,n){if(t=Ku(e,t,gh)[0],e=Fo(dl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Mc(t)}catch(f){throw f===gs?Ko:f}else a=t;t=Vt();var i=t.queue,c=i.dispatch;return n!==t.memoizedState&&(Ke.flags|=2048,Ss(9,{destroy:void 0},yy.bind(null,i,n),null)),[a,c,e]}function yy(e,t){e.action=t}function xh(e){var t=Vt(),n=pt;if(n!==null)return bh(t,n,e);Vt(),t=t.memoizedState,n=Vt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ss(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Ke.updateQueue,t===null&&(t=Jo(),Ke.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Sh(){return Vt().memoizedState}function Wo(e,t,n,a){var i=jn();Ke.flags|=e,i.memoizedState=Ss(1|t,{destroy:void 0},n,a===void 0?null:a)}function Po(e,t,n,a){var i=Vt();a=a===void 0?null:a;var c=i.memoizedState.inst;pt!==null&&a!==null&&Uu(a,pt.memoizedState.deps)?i.memoizedState=Ss(t,c,n,a):(Ke.flags|=e,i.memoizedState=Ss(1|t,c,n,a))}function wh(e,t){Wo(8390656,8,e,t)}function Zu(e,t){Po(2048,8,e,t)}function vy(e){Ke.flags|=4;var t=Ke.updateQueue;if(t===null)t=Jo(),Ke.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function _h(e){var t=Vt().memoizedState;return vy({ref:t,nextImpl:e}),function(){if((ot&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Nh(e,t){return Po(4,2,e,t)}function Eh(e,t){return Po(4,4,e,t)}function jh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ch(e,t,n){n=n!=null?n.concat([e]):null,Po(4,4,jh.bind(null,t,e),n)}function Xu(){}function Th(e,t){var n=Vt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Uu(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ah(e,t){var n=Vt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Uu(t,a[1]))return a[0];if(a=e(),Oi){Kt(!0);try{e()}finally{Kt(!1)}}return n.memoizedState=[a,t],a}function Qu(e,t,n){return n===void 0||(ul&1073741824)!==0&&(nt&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=km(),Ke.lanes|=e,Pl|=e,n)}function kh(e,t,n,a){return Ut(n,t)?n:vs.current!==null?(e=Qu(e,n,a),Ut(e,t)||($t=!0),e):(ul&42)===0||(ul&1073741824)!==0&&(nt&261930)===0?($t=!0,e.memoizedState=n):(e=km(),Ke.lanes|=e,Pl|=e,t)}function Rh(e,t,n,a,i){var c=K.p;K.p=c!==0&&8>c?c:8;var f=E.T,g={};E.T=g,$u(e,!1,t,n);try{var N=i(),B=E.S;if(B!==null&&B(g,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=hy(N,a);Dc(e,t,X,aa(e))}else Dc(e,t,a,aa(e))}catch(F){Dc(e,t,{then:function(){},status:"rejected",reason:F},aa())}finally{K.p=c,f!==null&&g.types!==null&&(f.types=g.types),E.T=f}}function by(){}function Iu(e,t,n,a){if(e.tag!==5)throw Error(r(476));var i=Mh(e).queue;Rh(e,i,t,V,n===null?by:function(){return Dh(e),n(a)})}function Mh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:V},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Dh(e){var t=Mh(e);t.next===null&&(t=e.alternate.memoizedState),Dc(e,t.next.queue,{},aa())}function Ju(){return mn($c)}function Oh(){return Vt().memoizedState}function Uh(){return Vt().memoizedState}function xy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=aa();e=Ql(n);var a=Il(t,e,n);a!==null&&(Vn(a,t,n),Tc(a,t,n)),t={cache:Nu()},e.payload=t;return}t=t.return}}function Sy(e,t,n){var a=aa();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},er(e)?Bh(t,n):(n=cs(e,t,n,a),n!==null&&(Vn(n,e,a),Lh(n,t,a)))}function zh(e,t,n){var a=aa();Dc(e,t,n,a)}function Dc(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(er(e))Bh(t,i);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var f=t.lastRenderedState,g=c(f,n);if(i.hasEagerState=!0,i.eagerState=g,Ut(g,f))return ss(e,t,i,0),vt===null&&Vl(),!1}catch{}finally{}if(n=cs(e,t,i,a),n!==null)return Vn(n,e,a),Lh(n,t,a),!0}return!1}function $u(e,t,n,a){if(a={lane:2,revertLane:Td(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},er(e)){if(t)throw Error(r(479))}else t=cs(e,n,a,2),t!==null&&Vn(t,e,2)}function er(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function Bh(e,t){bs=Qo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Lh(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ce(e,n)}}var Oc={readContext:mn,use:$o,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};Oc.useEffectEvent=zt;var Hh={readContext:mn,use:$o,useCallback:function(e,t){return jn().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:wh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Wo(4194308,4,jh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wo(4194308,4,e,t)},useInsertionEffect:function(e,t){Wo(4,2,e,t)},useMemo:function(e,t){var n=jn();t=t===void 0?null:t;var a=e();if(Oi){Kt(!0);try{e()}finally{Kt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=jn();if(n!==void 0){var i=n(t);if(Oi){Kt(!0);try{n(t)}finally{Kt(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=Sy.bind(null,Ke,e),[a.memoizedState,e]},useRef:function(e){var t=jn();return e={current:e},t.memoizedState=e},useState:function(e){e=Gu(e);var t=e.queue,n=zh.bind(null,Ke,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xu,useDeferredValue:function(e,t){var n=jn();return Qu(n,e,t)},useTransition:function(){var e=Gu(!1);return e=Rh.bind(null,Ke,e.queue,!0,!1),jn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Ke,i=jn();if(d){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),vt===null)throw Error(r(349));(nt&127)!==0||sh(a,t,n)}i.memoizedState=n;var c={value:n,getSnapshot:t};return i.queue=c,wh(oh.bind(null,a,c,e),[e]),a.flags|=2048,Ss(9,{destroy:void 0},ch.bind(null,a,c,n,t),null),n},useId:function(){var e=jn(),t=vt.identifierPrefix;if(d){var n=Wn,a=Fn;n=(a&~(1<<32-At(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Io++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=my++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ju,useFormState:yh,useActionState:yh,useOptimistic:function(e){var t=jn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$u.bind(null,Ke,!0,n),n.dispatch=t,[e,t]},useMemoCache:qu,useCacheRefresh:function(){return jn().memoizedState=xy.bind(null,Ke)},useEffectEvent:function(e){var t=jn(),n={impl:e};return t.memoizedState=n,function(){if((ot&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Fu={readContext:mn,use:$o,useCallback:Th,useContext:mn,useEffect:Zu,useImperativeHandle:Ch,useInsertionEffect:Nh,useLayoutEffect:Eh,useMemo:Ah,useReducer:Fo,useRef:Sh,useState:function(){return Fo(dl)},useDebugValue:Xu,useDeferredValue:function(e,t){var n=Vt();return kh(n,pt.memoizedState,e,t)},useTransition:function(){var e=Fo(dl)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:Mc(e),t]},useSyncExternalStore:ih,useId:Oh,useHostTransitionStatus:Ju,useFormState:vh,useActionState:vh,useOptimistic:function(e,t){var n=Vt();return dh(n,pt,e,t)},useMemoCache:qu,useCacheRefresh:Uh};Fu.useEffectEvent=_h;var qh={readContext:mn,use:$o,useCallback:Th,useContext:mn,useEffect:Zu,useImperativeHandle:Ch,useInsertionEffect:Nh,useLayoutEffect:Eh,useMemo:Ah,useReducer:Yu,useRef:Sh,useState:function(){return Yu(dl)},useDebugValue:Xu,useDeferredValue:function(e,t){var n=Vt();return pt===null?Qu(n,e,t):kh(n,pt.memoizedState,e,t)},useTransition:function(){var e=Yu(dl)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:Mc(e),t]},useSyncExternalStore:ih,useId:Oh,useHostTransitionStatus:Ju,useFormState:xh,useActionState:xh,useOptimistic:function(e,t){var n=Vt();return pt!==null?dh(n,pt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qu,useCacheRefresh:Uh};qh.useEffectEvent=_h;function Wu(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:T({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pu={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=aa(),i=Ql(a);i.payload=t,n!=null&&(i.callback=n),t=Il(e,i,a),t!==null&&(Vn(t,e,a),Tc(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=aa(),i=Ql(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Il(e,i,a),t!==null&&(Vn(t,e,a),Tc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=aa(),a=Ql(n);a.tag=2,t!=null&&(a.callback=t),t=Il(e,a,n),t!==null&&(Vn(t,e,n),Tc(t,e,n))}};function Kh(e,t,n,a,i,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,f):t.prototype&&t.prototype.isPureReactComponent?!ua(n,a)||!ua(i,c):!0}function Yh(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Pu.enqueueReplaceState(t,t.state,null)}function Ui(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=T({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Gh(e){Ci(e)}function Vh(e){console.error(e)}function Zh(e){Ci(e)}function tr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Xh(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function ed(e,t,n){return n=Ql(n),n.tag=3,n.payload={element:null},n.callback=function(){tr(e,t)},n}function Qh(e){return e=Ql(e),e.tag=3,e}function Ih(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var c=a.value;e.payload=function(){return i(c)},e.callback=function(){Xh(t,n,a)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Xh(t,n,a),typeof i!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var g=a.stack;this.componentDidCatch(a.value,{componentStack:g!==null?g:""})})}function wy(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&hs(t,n,i,!0),n=Pn.current,n!==null){switch(n.tag){case 31:case 13:return ha===null?hr():n.alternate===null&&Bt===0&&(Bt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Yo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Ed(e,a,i)),!1;case 22:return n.flags|=65536,a===Yo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Ed(e,a,i)),!1}throw Error(r(435,n.tag))}return Ed(e,a,i),hr(),!1}if(d)return t=Pn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==R&&(e=Error(r(422),{cause:a}),he(Xt(e,n)))):(a!==R&&(t=Error(r(423),{cause:a}),he(Xt(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Xt(a,n),i=ed(e.stateNode,a,i),ku(e,i),Bt!==4&&(Bt=2)),!1;var c=Error(r(520),{cause:a});if(c=Xt(c,n),Yc===null?Yc=[c]:Yc.push(c),Bt!==4&&(Bt=2),t===null)return!0;a=Xt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=ed(n.stateNode,a,e),ku(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ei===null||!ei.has(c))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Qh(i),Ih(i,e,n,a),ku(n,i),!1}n=n.return}while(n!==null);return!1}var td=Error(r(461)),$t=!1;function pn(e,t,n,a){t.child=e===null?Wf(t,null,n,a):Di(t,e.child,n,a)}function Jh(e,t,n,a,i){n=n.render;var c=t.ref;if("ref"in a){var f={};for(var g in a)g!=="ref"&&(f[g]=a[g])}else f=a;return Ai(t),a=zu(e,t,n,f,c,i),g=Bu(),e!==null&&!$t?(Lu(e,t,i),fl(e,t,i)):(d&&g&&ds(t),t.flags|=1,pn(e,t,a,i),t.child)}function $h(e,t,n,a,i){if(e===null){var c=n.type;return typeof c=="function"&&!xc(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,Fh(e,t,c,a,i)):(e=Ti(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!rd(e,i)){var f=c.memoizedProps;if(n=n.compare,n=n!==null?n:ua,n(f,a)&&e.ref===t.ref)return fl(e,t,i)}return t.flags|=1,e=ja(c,a),e.ref=t.ref,e.return=t,t.child=e}function Fh(e,t,n,a,i){if(e!==null){var c=e.memoizedProps;if(ua(c,a)&&e.ref===t.ref)if($t=!1,t.pendingProps=a=c,rd(e,i))(e.flags&131072)!==0&&($t=!0);else return t.lanes=e.lanes,fl(e,t,i)}return nd(e,t,n,a,i)}function Wh(e,t,n,a){var i=a.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~c}else a=0,t.child=null;return Ph(e,t,c,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&qo(t,c!==null?c.cachePool:null),c!==null?th(t,c):Mu(),nh(t);else return a=t.lanes=536870912,Ph(e,t,c!==null?c.baseLanes|n:n,n,a)}else c!==null?(qo(t,c.cachePool),th(t,c),$l(),t.memoizedState=null):(e!==null&&qo(t,null),Mu(),$l());return pn(e,t,i,n),t.child}function Uc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ph(e,t,n,a,i){var c=ju();return c=c===null?null:{parent:It._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&qo(t,null),Mu(),nh(t),e!==null&&hs(e,t,a,!0),t.childLanes=i,null}function nr(e,t){return t=lr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function em(e,t,n){return Di(t,e.child,null,n),e=nr(t,t.pendingProps),e.flags|=2,ea(t),t.memoizedState=null,e}function _y(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(d){if(a.mode==="hidden")return e=nr(t,a),t.lanes=536870912,Uc(null,e);if(Ou(t),(e=mt)?(e=fp(e,_),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ga!==null?{id:Fn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=Bo(e),n.return=t,t.child=n,Qt=t,mt=null)):e=null,e===null)throw I(t);return t.lanes=536870912,null}return nr(t,a)}var c=e.memoizedState;if(c!==null){var f=c.dehydrated;if(Ou(t),i)if(t.flags&256)t.flags&=-257,t=em(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if($t||hs(e,t,n,!1),i=(n&e.childLanes)!==0,$t||i){if(a=vt,a!==null&&(f=Sa(a,n),f!==0&&f!==c.retryLane))throw c.retryLane=f,cl(e,f),Vn(a,e,f),td;hr(),t=em(e,t,n)}else e=c.treeContext,mt=ma(f.nextSibling),Qt=t,d=!0,y=null,_=!1,e!==null&&_c(t,e),t=nr(t,a),t.flags|=4096;return t}return e=ja(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ar(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function nd(e,t,n,a,i){return Ai(t),n=zu(e,t,n,a,void 0,i),a=Bu(),e!==null&&!$t?(Lu(e,t,i),fl(e,t,i)):(d&&a&&ds(t),t.flags|=1,pn(e,t,n,i),t.child)}function tm(e,t,n,a,i,c){return Ai(t),t.updateQueue=null,n=lh(t,a,n,i),ah(e),a=Bu(),e!==null&&!$t?(Lu(e,t,c),fl(e,t,c)):(d&&a&&ds(t),t.flags|=1,pn(e,t,n,c),t.child)}function nm(e,t,n,a,i){if(Ai(t),t.stateNode===null){var c=Ka,f=n.contextType;typeof f=="object"&&f!==null&&(c=mn(f)),c=new n(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Pu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},Tu(t),f=n.contextType,c.context=typeof f=="object"&&f!==null?mn(f):Ka,c.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Wu(t,n,f,a),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(f=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),f!==c.state&&Pu.enqueueReplaceState(c,c.state,null),kc(t,a,c,i),Ac(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,N=Ui(n,g);c.props=N;var B=c.context,X=n.contextType;f=Ka,typeof X=="object"&&X!==null&&(f=mn(X));var F=n.getDerivedStateFromProps;X=typeof F=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,X||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||B!==f)&&Yh(t,c,a,f),Xl=!1;var q=t.memoizedState;c.state=q,kc(t,a,c,i),Ac(),B=t.memoizedState,g||q!==B||Xl?(typeof F=="function"&&(Wu(t,n,F,a),B=t.memoizedState),(N=Xl||Kh(t,n,N,a,q,B,f))?(X||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=B),c.props=a,c.state=B,c.context=f,a=N):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,Au(e,t),f=t.memoizedProps,X=Ui(n,f),c.props=X,F=t.pendingProps,q=c.context,B=n.contextType,N=Ka,typeof B=="object"&&B!==null&&(N=mn(B)),g=n.getDerivedStateFromProps,(B=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==F||q!==N)&&Yh(t,c,a,N),Xl=!1,q=t.memoizedState,c.state=q,kc(t,a,c,i),Ac();var G=t.memoizedState;f!==F||q!==G||Xl||e!==null&&e.dependencies!==null&&Lo(e.dependencies)?(typeof g=="function"&&(Wu(t,n,g,a),G=t.memoizedState),(X=Xl||Kh(t,n,X,a,q,G,N)||e!==null&&e.dependencies!==null&&Lo(e.dependencies))?(B||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,G,N),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,G,N)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=G),c.props=a,c.state=G,c.context=N,a=X):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,ar(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=Di(t,e.child,null,i),t.child=Di(t,null,n,i)):pn(e,t,n,i),t.memoizedState=c.state,e=t.child):e=fl(e,t,i),e}function am(e,t,n,a){return Qe(),t.flags|=256,pn(e,t,n,a),t.child}var ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(e){return{baseLanes:e,cachePool:Xf()}}function id(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=na),e}function lm(e,t,n){var a=t.pendingProps,i=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(Gt.current&2)!==0),f&&(i=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(d){if(i?Jl(t):$l(),(e=mt)?(e=fp(e,_),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ga!==null?{id:Fn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=Bo(e),n.return=t,t.child=n,Qt=t,mt=null)):e=null,e===null)throw I(t);return Kd(e)?t.lanes=32:t.lanes=536870912,null}var g=a.children;return a=a.fallback,i?($l(),i=t.mode,g=lr({mode:"hidden",children:g},i),a=ol(a,i,n,null),g.return=t,a.return=t,g.sibling=a,t.child=g,a=t.child,a.memoizedState=ld(n),a.childLanes=id(e,f,n),t.memoizedState=ad,Uc(null,a)):(Jl(t),sd(t,g))}var N=e.memoizedState;if(N!==null&&(g=N.dehydrated,g!==null)){if(c)t.flags&256?(Jl(t),t.flags&=-257,t=cd(e,t,n)):t.memoizedState!==null?($l(),t.child=e.child,t.flags|=128,t=null):($l(),g=a.fallback,i=t.mode,a=lr({mode:"visible",children:a.children},i),g=ol(g,i,n,null),g.flags|=2,a.return=t,g.return=t,a.sibling=g,t.child=a,Di(t,e.child,null,n),a=t.child,a.memoizedState=ld(n),a.childLanes=id(e,f,n),t.memoizedState=ad,t=Uc(null,a));else if(Jl(t),Kd(g)){if(f=g.nextSibling&&g.nextSibling.dataset,f)var B=f.dgst;f=B,a=Error(r(419)),a.stack="",a.digest=f,he({value:a,source:null,stack:null}),t=cd(e,t,n)}else if($t||hs(e,t,n,!1),f=(n&e.childLanes)!==0,$t||f){if(f=vt,f!==null&&(a=Sa(f,n),a!==0&&a!==N.retryLane))throw N.retryLane=a,cl(e,a),Vn(f,e,a),td;qd(g)||hr(),t=cd(e,t,n)}else qd(g)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,mt=ma(g.nextSibling),Qt=t,d=!0,y=null,_=!1,e!==null&&_c(t,e),t=sd(t,a.children),t.flags|=4096);return t}return i?($l(),g=a.fallback,i=t.mode,N=e.child,B=N.sibling,a=ja(N,{mode:"hidden",children:a.children}),a.subtreeFlags=N.subtreeFlags&65011712,B!==null?g=ja(B,g):(g=ol(g,i,n,null),g.flags|=2),g.return=t,a.return=t,a.sibling=g,t.child=a,Uc(null,a),a=t.child,g=e.child.memoizedState,g===null?g=ld(n):(i=g.cachePool,i!==null?(N=It._currentValue,i=i.parent!==N?{parent:N,pool:N}:i):i=Xf(),g={baseLanes:g.baseLanes|n,cachePool:i}),a.memoizedState=g,a.childLanes=id(e,f,n),t.memoizedState=ad,Uc(e.child,a)):(Jl(t),n=e.child,e=n.sibling,n=ja(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function sd(e,t){return t=lr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function lr(e,t){return e=Nn(22,e,null,t),e.lanes=0,e}function cd(e,t,n){return Di(t,e.child,null,n),e=sd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function im(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),wu(e.return,t,n)}function od(e,t,n,a,i,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=n,f.tailMode=i,f.treeForkCount=c)}function sm(e,t,n){var a=t.pendingProps,i=a.revealOrder,c=a.tail;a=a.children;var f=Gt.current,g=(f&2)!==0;if(g?(f=f&1|2,t.flags|=128):f&=1,H(Gt,f),pn(e,t,a,n),a=d?Zl:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&im(e,n,t);else if(e.tag===19)im(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Xo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),od(t,!1,i,n,c,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}od(t,!0,n,null,c,a);break;case"together":od(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function fl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(hs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=ja(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ja(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Lo(e)))}function Ny(e,t,n){switch(t.tag){case 3:Me(t,t.stateNode.containerInfo),_t(t,It,e.memoizedState.cache),Qe();break;case 27:case 5:ze(t);break;case 4:Me(t,t.stateNode.containerInfo);break;case 10:_t(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ou(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Jl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?lm(e,t,n):(Jl(t),e=fl(e,t,n),e!==null?e.sibling:null);Jl(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(hs(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return sm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),H(Gt,Gt.current),a)break;return null;case 22:return t.lanes=0,Wh(e,t,n,t.pendingProps);case 24:_t(t,It,e.memoizedState.cache)}return fl(e,t,n)}function cm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$t=!0;else{if(!rd(e,n)&&(t.flags&128)===0)return $t=!1,Ny(e,t,n);$t=(e.flags&131072)!==0}else $t=!1,d&&(t.flags&1048576)!==0&&wc(t,Zl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ri(t.elementType),t.type=e,typeof e=="function")xc(e)?(a=Ui(e,a),t.tag=1,t=nm(null,t,e,a,n)):(t.tag=0,t=nd(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===de){t.tag=11,t=Jh(null,t,e,a,n);break e}else if(i===Te){t.tag=14,t=$h(null,t,e,a,n);break e}}throw t=Y(e)||e,Error(r(306,t,""))}}return t;case 0:return nd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Ui(a,t.pendingProps),nm(e,t,a,i,n);case 3:e:{if(Me(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var c=t.memoizedState;i=c.element,Au(e,t),kc(t,a,null,n);var f=t.memoizedState;if(a=f.cache,_t(t,It,a),a!==c.cache&&_u(t,[It],n,!0),Ac(),a=f.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=am(e,t,a,n);break e}else if(a!==i){i=Xt(Error(r(424)),t),he(i),t=am(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(mt=ma(e.firstChild),Qt=t,d=!0,y=null,_=!0,n=Wf(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Qe(),a===i){t=fl(e,t,n);break e}pn(e,t,a,n)}t=t.child}return t;case 26:return ar(e,t),e===null?(n=vp(t.type,null,t.pendingProps,null))?t.memoizedState=n:d||(n=t.type,e=t.pendingProps,a=xr(ae.current).createElement(n),a[ft]=t,a[ht]=e,gn(a,n,e),Ge(a),t.stateNode=a):t.memoizedState=vp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ze(t),e===null&&d&&(a=t.stateNode=pp(t.type,t.pendingProps,ae.current),Qt=t,_=!0,i=mt,li(t.type)?(Yd=i,mt=ma(a.firstChild)):mt=i),pn(e,t,t.pendingProps.children,n),ar(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&d&&((i=a=mt)&&(a=ev(a,t.type,t.pendingProps,_),a!==null?(t.stateNode=a,Qt=t,mt=ma(a.firstChild),_=!1,i=!0):i=!1),i||I(t)),ze(t),i=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,a=c.children,Bd(i,c)?a=null:f!==null&&Bd(i,f)&&(t.flags|=32),t.memoizedState!==null&&(i=zu(e,t,py,null,null,n),$c._currentValue=i),ar(e,t),pn(e,t,a,n),t.child;case 6:return e===null&&d&&((e=n=mt)&&(n=tv(n,t.pendingProps,_),n!==null?(t.stateNode=n,Qt=t,mt=null,e=!0):e=!1),e||I(t)),null;case 13:return lm(e,t,n);case 4:return Me(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Di(t,null,a,n):pn(e,t,a,n),t.child;case 11:return Jh(e,t,t.type,t.pendingProps,n);case 7:return pn(e,t,t.pendingProps,n),t.child;case 8:return pn(e,t,t.pendingProps.children,n),t.child;case 12:return pn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,_t(t,t.type,a.value),pn(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Ai(t),i=mn(i),a=a(i),t.flags|=1,pn(e,t,a,n),t.child;case 14:return $h(e,t,t.type,t.pendingProps,n);case 15:return Fh(e,t,t.type,t.pendingProps,n);case 19:return sm(e,t,n);case 31:return _y(e,t,n);case 22:return Wh(e,t,n,t.pendingProps);case 24:return Ai(t),a=mn(It),e===null?(i=ju(),i===null&&(i=vt,c=Nu(),i.pooledCache=c,c.refCount++,c!==null&&(i.pooledCacheLanes|=n),i=c),t.memoizedState={parent:a,cache:i},Tu(t),_t(t,It,i)):((e.lanes&n)!==0&&(Au(e,t),kc(t,null,null,n),Ac()),i=e.memoizedState,c=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),_t(t,It,a)):(a=c.cache,_t(t,It,a),a!==i.cache&&_u(t,[It],n,!0))),pn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function hl(e){e.flags|=4}function ud(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Om())e.flags|=8192;else throw Mi=Yo,Cu}else e.flags&=-16777217}function om(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_p(t))if(Om())e.flags|=8192;else throw Mi=Yo,Cu}function ir(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Qn():536870912,e.lanes|=t,Es|=t)}function zc(e,t){if(!d)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ey(e,t,n){var a=t.pendingProps;switch(fs(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return Nt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),En(It),Ue(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(We(t)?hl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ne())),Nt(t),null;case 26:var i=t.type,c=t.memoizedState;return e===null?(hl(t),c!==null?(Nt(t),om(t,c)):(Nt(t),ud(t,i,null,a,n))):c?c!==e.memoizedState?(hl(t),Nt(t),om(t,c)):(Nt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&hl(t),Nt(t),ud(t,i,e,a,n)),null;case 27:if($e(t),n=ae.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&hl(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Nt(t),null}e=le.current,We(t)?xe(t):(e=pp(i,a,n),t.stateNode=e,hl(t))}return Nt(t),null;case 5:if($e(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&hl(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Nt(t),null}if(c=le.current,We(t))xe(t);else{var f=xr(ae.current);switch(c){case 1:c=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:c=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":c=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":c=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":c=f.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof a.is=="string"?f.createElement("select",{is:a.is}):f.createElement("select"),a.multiple?c.multiple=!0:a.size&&(c.size=a.size);break;default:c=typeof a.is=="string"?f.createElement(i,{is:a.is}):f.createElement(i)}}c[ft]=t,c[ht]=a;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)c.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=c;e:switch(gn(c,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&hl(t)}}return Nt(t),ud(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&hl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=ae.current,We(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Qt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[ft]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||lp(e.nodeValue,n)),e||I(t,!0)}else e=xr(e).createTextNode(a),e[ft]=t,t.stateNode=e}return Nt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=We(t),n!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ft]=t}else Qe(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Nt(t),e=!1}else n=Ne(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ea(t),t):(ea(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Nt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=We(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[ft]=t}else Qe(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Nt(t),i=!1}else i=Ne(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(ea(t),t):(ea(t),null)}return ea(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ir(t,t.updateQueue),Nt(t),null);case 4:return Ue(),e===null&&Md(t.stateNode.containerInfo),Nt(t),null;case 10:return En(t.type),Nt(t),null;case 19:if(D(Gt),a=t.memoizedState,a===null)return Nt(t),null;if(i=(t.flags&128)!==0,c=a.rendering,c===null)if(i)zc(a,!1);else{if(Bt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Xo(e),c!==null){for(t.flags|=128,zc(a,!1),e=c.updateQueue,t.updateQueue=e,ir(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)zo(n,e),n=n.sibling;return H(Gt,Gt.current&1|2),d&&fa(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&k()>ur&&(t.flags|=128,i=!0,zc(a,!1),t.lanes=4194304)}else{if(!i)if(e=Xo(c),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ir(t,e),zc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!d)return Nt(t),null}else 2*k()-a.renderingStartTime>ur&&n!==536870912&&(t.flags|=128,i=!0,zc(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(e=a.last,e!==null?e.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=k(),e.sibling=null,n=Gt.current,H(Gt,i?n&1|2:n&1),d&&fa(t,a.treeForkCount),e):(Nt(t),null);case 22:case 23:return ea(t),Du(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),n=t.updateQueue,n!==null&&ir(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&D(ki),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),En(It),Nt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function jy(e,t){switch(fs(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return En(It),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $e(t),null;case 31:if(t.memoizedState!==null){if(ea(t),t.alternate===null)throw Error(r(340));Qe()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ea(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Qe()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(Gt),null;case 4:return Ue(),null;case 10:return En(t.type),null;case 22:case 23:return ea(t),Du(),e!==null&&D(ki),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return En(It),null;case 25:return null;default:return null}}function rm(e,t){switch(fs(t),t.tag){case 3:En(It),Ue();break;case 26:case 27:case 5:$e(t);break;case 4:Ue();break;case 31:t.memoizedState!==null&&ea(t);break;case 13:ea(t);break;case 19:D(Gt);break;case 10:En(t.type);break;case 22:case 23:ea(t),Du(),e!==null&&D(ki);break;case 24:En(It)}}function Bc(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var c=n.create,f=n.inst;a=c(),f.destroy=a}n=n.next}while(n!==i)}}catch(g){dt(t,t.return,g)}}function Fl(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var c=i.next;a=c;do{if((a.tag&e)===e){var f=a.inst,g=f.destroy;if(g!==void 0){f.destroy=void 0,i=t;var N=n,B=g;try{B()}catch(X){dt(i,N,X)}}}a=a.next}while(a!==c)}}catch(X){dt(t,t.return,X)}}function um(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{eh(t,n)}catch(a){dt(e,e.return,a)}}}function dm(e,t,n){n.props=Ui(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){dt(e,t,a)}}function Lc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){dt(e,t,i)}}function Va(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){dt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){dt(e,t,i)}else n.current=null}function fm(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){dt(e,e.return,i)}}function dd(e,t,n){try{var a=e.stateNode;Iy(a,e.type,n,t),a[ht]=t}catch(i){dt(e,e.return,i)}}function hm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&li(e.type)||e.tag===4}function fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&li(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=oa));else if(a!==4&&(a===27&&li(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(hd(e,t,n),e=e.sibling;e!==null;)hd(e,t,n),e=e.sibling}function sr(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&li(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(sr(e,t,n),e=e.sibling;e!==null;)sr(e,t,n),e=e.sibling}function mm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);gn(t,a,n),t[ft]=e,t[ht]=n}catch(c){dt(e,e.return,c)}}var ml=!1,Ft=!1,md=!1,pm=typeof WeakSet=="function"?WeakSet:Set,cn=null;function Cy(e,t){if(e=e.containerInfo,Ud=Cr,e=Do(e),hc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var f=0,g=-1,N=-1,B=0,X=0,F=e,q=null;t:for(;;){for(var G;F!==n||i!==0&&F.nodeType!==3||(g=f+i),F!==c||a!==0&&F.nodeType!==3||(N=f+a),F.nodeType===3&&(f+=F.nodeValue.length),(G=F.firstChild)!==null;)q=F,F=G;for(;;){if(F===e)break t;if(q===n&&++B===i&&(g=f),q===c&&++X===a&&(N=f),(G=F.nextSibling)!==null)break;F=q,q=F.parentNode}F=G}n=g===-1||N===-1?null:{start:g,end:N}}else n=null}n=n||{start:0,end:0}}else n=null;for(zd={focusedElem:e,selectionRange:n},Cr=!1,cn=t;cn!==null;)if(t=cn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,cn=e;else for(;cn!==null;){switch(t=cn,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,i=c.memoizedProps,c=c.memoizedState,a=n.stateNode;try{var _e=Ui(n.type,i);e=a.getSnapshotBeforeUpdate(_e,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(Re){dt(n,n.return,Re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,cn=e;break}cn=t.return}}function gm(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:gl(e,n),a&4&&Bc(5,n);break;case 1:if(gl(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){dt(n,n.return,f)}else{var i=Ui(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){dt(n,n.return,f)}}a&64&&um(n),a&512&&Lc(n,n.return);break;case 3:if(gl(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{eh(e,t)}catch(f){dt(n,n.return,f)}}break;case 27:t===null&&a&4&&mm(n);case 26:case 5:gl(e,n),t===null&&a&4&&fm(n),a&512&&Lc(n,n.return);break;case 12:gl(e,n);break;case 31:gl(e,n),a&4&&bm(e,n);break;case 13:gl(e,n),a&4&&xm(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=zy.bind(null,n),nv(e,n))));break;case 22:if(a=n.memoizedState!==null||ml,!a){t=t!==null&&t.memoizedState!==null||Ft,i=ml;var c=Ft;ml=a,(Ft=t)&&!c?yl(e,n,(n.subtreeFlags&8772)!==0):gl(e,n),ml=i,Ft=c}break;case 30:break;default:gl(e,n)}}function ym(e){var t=e.alternate;t!==null&&(e.alternate=null,ym(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&j(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tt=null,qn=!1;function pl(e,t,n){for(n=n.child;n!==null;)vm(e,t,n),n=n.sibling}function vm(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(qt,n)}catch{}switch(n.tag){case 26:Ft||Va(n,t),pl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ft||Va(n,t);var a=Tt,i=qn;li(n.type)&&(Tt=n.stateNode,qn=!1),pl(e,t,n),Qc(n.stateNode),Tt=a,qn=i;break;case 5:Ft||Va(n,t);case 6:if(a=Tt,i=qn,Tt=null,pl(e,t,n),Tt=a,qn=i,Tt!==null)if(qn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(n.stateNode)}catch(c){dt(n,t,c)}else try{Tt.removeChild(n.stateNode)}catch(c){dt(n,t,c)}break;case 18:Tt!==null&&(qn?(e=Tt,up(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ds(e)):up(Tt,n.stateNode));break;case 4:a=Tt,i=qn,Tt=n.stateNode.containerInfo,qn=!0,pl(e,t,n),Tt=a,qn=i;break;case 0:case 11:case 14:case 15:Fl(2,n,t),Ft||Fl(4,n,t),pl(e,t,n);break;case 1:Ft||(Va(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&dm(n,t,a)),pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:Ft=(a=Ft)||n.memoizedState!==null,pl(e,t,n),Ft=a;break;default:pl(e,t,n)}}function bm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ds(e)}catch(n){dt(t,t.return,n)}}}function xm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ds(e)}catch(n){dt(t,t.return,n)}}function Ty(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new pm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new pm),t;default:throw Error(r(435,e.tag))}}function cr(e,t){var n=Ty(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=By.bind(null,e,a);a.then(i,i)}})}function Kn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],c=e,f=t,g=f;e:for(;g!==null;){switch(g.tag){case 27:if(li(g.type)){Tt=g.stateNode,qn=!1;break e}break;case 5:Tt=g.stateNode,qn=!1;break e;case 3:case 4:Tt=g.stateNode.containerInfo,qn=!0;break e}g=g.return}if(Tt===null)throw Error(r(160));vm(c,f,i),Tt=null,qn=!1,c=i.alternate,c!==null&&(c.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Sm(t,e),t=t.sibling}var Ca=null;function Sm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kn(t,e),Yn(e),a&4&&(Fl(3,e,e.return),Bc(3,e),Fl(5,e,e.return));break;case 1:Kn(t,e),Yn(e),a&512&&(Ft||n===null||Va(n,n.return)),a&64&&ml&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Ca;if(Kn(t,e),Yn(e),a&512&&(Ft||n===null||Va(n,n.return)),a&4){var c=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":c=i.getElementsByTagName("title")[0],(!c||c[Se]||c[ft]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=i.createElement(a),i.head.insertBefore(c,i.querySelector("head > title"))),gn(c,a,n),c[ft]=e,Ge(c),a=c;break e;case"link":var f=Sp("link","href",i).get(a+(n.href||""));if(f){for(var g=0;g<f.length;g++)if(c=f[g],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(g,1);break t}}c=i.createElement(a),gn(c,a,n),i.head.appendChild(c);break;case"meta":if(f=Sp("meta","content",i).get(a+(n.content||""))){for(g=0;g<f.length;g++)if(c=f[g],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(g,1);break t}}c=i.createElement(a),gn(c,a,n),i.head.appendChild(c);break;default:throw Error(r(468,a))}c[ft]=e,Ge(c),a=c}e.stateNode=a}else wp(i,e.type,e.stateNode);else e.stateNode=xp(i,a,e.memoizedProps);else c!==a?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,a===null?wp(i,e.type,e.stateNode):xp(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&dd(e,e.memoizedProps,n.memoizedProps)}break;case 27:Kn(t,e),Yn(e),a&512&&(Ft||n===null||Va(n,n.return)),n!==null&&a&4&&dd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Kn(t,e),Yn(e),a&512&&(Ft||n===null||Va(n,n.return)),e.flags&32){i=e.stateNode;try{kl(i,"")}catch(_e){dt(e,e.return,_e)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,dd(e,i,n!==null?n.memoizedProps:i)),a&1024&&(md=!0);break;case 6:if(Kn(t,e),Yn(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(_e){dt(e,e.return,_e)}}break;case 3:if(_r=null,i=Ca,Ca=Sr(t.containerInfo),Kn(t,e),Ca=i,Yn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ds(t.containerInfo)}catch(_e){dt(e,e.return,_e)}md&&(md=!1,wm(e));break;case 4:a=Ca,Ca=Sr(e.stateNode.containerInfo),Kn(t,e),Yn(e),Ca=a;break;case 12:Kn(t,e),Yn(e);break;case 31:Kn(t,e),Yn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,cr(e,a)));break;case 13:Kn(t,e),Yn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(rr=k()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,cr(e,a)));break;case 22:i=e.memoizedState!==null;var N=n!==null&&n.memoizedState!==null,B=ml,X=Ft;if(ml=B||i,Ft=X||N,Kn(t,e),Ft=X,ml=B,Yn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||N||ml||Ft||zi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){N=n=t;try{if(c=N.stateNode,i)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{g=N.stateNode;var F=N.memoizedProps.style,q=F!=null&&F.hasOwnProperty("display")?F.display:null;g.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(_e){dt(N,N.return,_e)}}}else if(t.tag===6){if(n===null){N=t;try{N.stateNode.nodeValue=i?"":N.memoizedProps}catch(_e){dt(N,N.return,_e)}}}else if(t.tag===18){if(n===null){N=t;try{var G=N.stateNode;i?dp(G,!0):dp(N.stateNode,!1)}catch(_e){dt(N,N.return,_e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,cr(e,n))));break;case 19:Kn(t,e),Yn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,cr(e,a)));break;case 30:break;case 21:break;default:Kn(t,e),Yn(e)}}function Yn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(hm(a)){n=a;break}a=a.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var i=n.stateNode,c=fd(e);sr(e,c,i);break;case 5:var f=n.stateNode;n.flags&32&&(kl(f,""),n.flags&=-33);var g=fd(e);sr(e,g,f);break;case 3:case 4:var N=n.stateNode.containerInfo,B=fd(e);hd(e,B,N);break;default:throw Error(r(161))}}catch(X){dt(e,e.return,X)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)gm(e,t.alternate,t),t=t.sibling}function zi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fl(4,t,t.return),zi(t);break;case 1:Va(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&dm(t,t.return,n),zi(t);break;case 27:Qc(t.stateNode);case 26:case 5:Va(t,t.return),zi(t);break;case 22:t.memoizedState===null&&zi(t);break;case 30:zi(t);break;default:zi(t)}e=e.sibling}}function yl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,c=t,f=c.flags;switch(c.tag){case 0:case 11:case 15:yl(i,c,n),Bc(4,c);break;case 1:if(yl(i,c,n),a=c,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(B){dt(a,a.return,B)}if(a=c,i=a.updateQueue,i!==null){var g=a.stateNode;try{var N=i.shared.hiddenCallbacks;if(N!==null)for(i.shared.hiddenCallbacks=null,i=0;i<N.length;i++)Pf(N[i],g)}catch(B){dt(a,a.return,B)}}n&&f&64&&um(c),Lc(c,c.return);break;case 27:mm(c);case 26:case 5:yl(i,c,n),n&&a===null&&f&4&&fm(c),Lc(c,c.return);break;case 12:yl(i,c,n);break;case 31:yl(i,c,n),n&&f&4&&bm(i,c);break;case 13:yl(i,c,n),n&&f&4&&xm(i,c);break;case 22:c.memoizedState===null&&yl(i,c,n),Lc(c,c.return);break;case 30:break;default:yl(i,c,n)}t=t.sibling}}function pd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Nc(n))}function gd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nc(e))}function Ta(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_m(e,t,n,a),t=t.sibling}function _m(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ta(e,t,n,a),i&2048&&Bc(9,t);break;case 1:Ta(e,t,n,a);break;case 3:Ta(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nc(e)));break;case 12:if(i&2048){Ta(e,t,n,a),e=t.stateNode;try{var c=t.memoizedProps,f=c.id,g=c.onPostCommit;typeof g=="function"&&g(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){dt(t,t.return,N)}}else Ta(e,t,n,a);break;case 31:Ta(e,t,n,a);break;case 13:Ta(e,t,n,a);break;case 23:break;case 22:c=t.stateNode,f=t.alternate,t.memoizedState!==null?c._visibility&2?Ta(e,t,n,a):Hc(e,t):c._visibility&2?Ta(e,t,n,a):(c._visibility|=2,ws(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&pd(f,t);break;case 24:Ta(e,t,n,a),i&2048&&gd(t.alternate,t);break;default:Ta(e,t,n,a)}}function ws(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,f=t,g=n,N=a,B=f.flags;switch(f.tag){case 0:case 11:case 15:ws(c,f,g,N,i),Bc(8,f);break;case 23:break;case 22:var X=f.stateNode;f.memoizedState!==null?X._visibility&2?ws(c,f,g,N,i):Hc(c,f):(X._visibility|=2,ws(c,f,g,N,i)),i&&B&2048&&pd(f.alternate,f);break;case 24:ws(c,f,g,N,i),i&&B&2048&&gd(f.alternate,f);break;default:ws(c,f,g,N,i)}t=t.sibling}}function Hc(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Hc(n,a),i&2048&&pd(a.alternate,a);break;case 24:Hc(n,a),i&2048&&gd(a.alternate,a);break;default:Hc(n,a)}t=t.sibling}}var qc=8192;function _s(e,t,n){if(e.subtreeFlags&qc)for(e=e.child;e!==null;)Nm(e,t,n),e=e.sibling}function Nm(e,t,n){switch(e.tag){case 26:_s(e,t,n),e.flags&qc&&e.memoizedState!==null&&mv(n,Ca,e.memoizedState,e.memoizedProps);break;case 5:_s(e,t,n);break;case 3:case 4:var a=Ca;Ca=Sr(e.stateNode.containerInfo),_s(e,t,n),Ca=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=qc,qc=16777216,_s(e,t,n),qc=a):_s(e,t,n));break;default:_s(e,t,n)}}function Em(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Kc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];cn=a,Cm(a,e)}Em(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jm(e),e=e.sibling}function jm(e){switch(e.tag){case 0:case 11:case 15:Kc(e),e.flags&2048&&Fl(9,e,e.return);break;case 3:Kc(e);break;case 12:Kc(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,or(e)):Kc(e);break;default:Kc(e)}}function or(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];cn=a,Cm(a,e)}Em(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fl(8,t,t.return),or(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,or(t));break;default:or(t)}e=e.sibling}}function Cm(e,t){for(;cn!==null;){var n=cn;switch(n.tag){case 0:case 11:case 15:Fl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Nc(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,cn=a;else e:for(n=e;cn!==null;){a=cn;var i=a.sibling,c=a.return;if(ym(a),a===n){cn=null;break e}if(i!==null){i.return=c,cn=i;break e}cn=c}}}var Ay={getCacheForType:function(e){var t=mn(It),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return mn(It).controller.signal}},ky=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,Pe=null,nt=0,ut=0,ta=null,Wl=!1,Ns=!1,yd=!1,vl=0,Bt=0,Pl=0,Bi=0,vd=0,na=0,Es=0,Yc=null,Gn=null,bd=!1,rr=0,Tm=0,ur=1/0,dr=null,ei=null,tn=0,ti=null,js=null,bl=0,xd=0,Sd=null,Am=null,Gc=0,wd=null;function aa(){return(ot&2)!==0&&nt!==0?nt&-nt:E.T!==null?Td():ia()}function km(){if(na===0)if((nt&536870912)===0||d){var e=dn;dn<<=1,(dn&3932160)===0&&(dn=262144),na=e}else na=536870912;return e=Pn.current,e!==null&&(e.flags|=32),na}function Vn(e,t,n){(e===vt&&(ut===2||ut===9)||e.cancelPendingCommit!==null)&&(Cs(e,0),ni(e,nt,na,!1)),Dn(e,n),((ot&2)===0||e!==vt)&&(e===vt&&((ot&2)===0&&(Bi|=n),Bt===4&&ni(e,nt,na,!1)),Za(e))}function Rm(e,t,n){if((ot&6)!==0)throw Error(r(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ba(e,t),i=a?Dy(e,t):Nd(e,t,!0),c=a;do{if(i===0){Ns&&!a&&ni(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!Ry(n)){i=Nd(e,t,!1),c=!1;continue}if(i===2){if(c=t,e.errorRecoveryDisabledLanes&c)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var g=e;i=Yc;var N=g.current.memoizedState.isDehydrated;if(N&&(Cs(g,f).flags|=256),f=Nd(g,f,!1),f!==2){if(yd&&!N){g.errorRecoveryDisabledLanes|=c,Bi|=c,i=4;break e}c=Gn,Gn=i,c!==null&&(Gn===null?Gn=c:Gn.push.apply(Gn,c))}i=f}if(c=!1,i!==2)continue}}if(i===1){Cs(e,0),ni(e,t,0,!0);break}e:{switch(a=e,c=i,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:ni(a,t,na,!Wl);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=rr+300-k(),10<i)){if(ni(a,t,na,!Wl),Ct(a,0,!0)!==0)break e;bl=t,a.timeoutHandle=op(Mm.bind(null,a,n,Gn,dr,bd,t,na,Bi,Es,Wl,c,"Throttled",-0,0),i);break e}Mm(a,n,Gn,dr,bd,t,na,Bi,Es,Wl,c,null,-0,0)}}break}while(!0);Za(e)}function Mm(e,t,n,a,i,c,f,g,N,B,X,F,q,G){if(e.timeoutHandle=-1,F=t.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oa},Nm(t,c,F);var _e=(c&62914560)===c?rr-k():(c&4194048)===c?Tm-k():0;if(_e=pv(F,_e),_e!==null){bl=c,e.cancelPendingCommit=_e(qm.bind(null,e,t,c,n,a,i,f,g,N,X,F,null,q,G)),ni(e,c,f,!B);return}}qm(e,t,c,n,a,i,f,g,N)}function Ry(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],c=i.getSnapshot;i=i.value;try{if(!Ut(c(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ni(e,t,n,a){t&=~vd,t&=~Bi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var c=31-At(i),f=1<<c;a[c]=-1,i&=~f}n!==0&&xa(e,n,t)}function fr(){return(ot&6)===0?(Vc(0),!1):!0}function _d(){if(Pe!==null){if(ut===0)var e=Pe.return;else e=Pe,tt=rt=null,Hu(e),ys=null,jc=0,e=Pe;for(;e!==null;)rm(e.alternate,e),e=e.return;Pe=null}}function Cs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Fy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),bl=0,_d(),vt=e,Pe=n=ja(e.current,null),nt=t,ut=0,ta=null,Wl=!1,Ns=ba(e,t),yd=!1,Es=na=vd=Bi=Pl=Bt=0,Gn=Yc=null,bd=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-At(a),c=1<<i;t|=e[i],a&=~c}return vl=t,Vl(),n}function Dm(e,t){Ke=null,E.H=Oc,t===gs||t===Ko?(t=Jf(),ut=3):t===Cu?(t=Jf(),ut=4):ut=t===td?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ta=t,Pe===null&&(Bt=1,tr(e,Xt(t,e.current)))}function Om(){var e=Pn.current;return e===null?!0:(nt&4194048)===nt?ha===null:(nt&62914560)===nt||(nt&536870912)!==0?e===ha:!1}function Um(){var e=E.H;return E.H=Oc,e===null?Oc:e}function zm(){var e=E.A;return E.A=Ay,e}function hr(){Bt=4,Wl||(nt&4194048)!==nt&&Pn.current!==null||(Ns=!0),(Pl&134217727)===0&&(Bi&134217727)===0||vt===null||ni(vt,nt,na,!1)}function Nd(e,t,n){var a=ot;ot|=2;var i=Um(),c=zm();(vt!==e||nt!==t)&&(dr=null,Cs(e,t)),t=!1;var f=Bt;e:do try{if(ut!==0&&Pe!==null){var g=Pe,N=ta;switch(ut){case 8:_d(),f=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(t=!0);var B=ut;if(ut=0,ta=null,Ts(e,g,N,B),n&&Ns){f=0;break e}break;default:B=ut,ut=0,ta=null,Ts(e,g,N,B)}}My(),f=Bt;break}catch(X){Dm(e,X)}while(!0);return t&&e.shellSuspendCounter++,tt=rt=null,ot=a,E.H=i,E.A=c,Pe===null&&(vt=null,nt=0,Vl()),f}function My(){for(;Pe!==null;)Bm(Pe)}function Dy(e,t){var n=ot;ot|=2;var a=Um(),i=zm();vt!==e||nt!==t?(dr=null,ur=k()+500,Cs(e,t)):Ns=ba(e,t);e:do try{if(ut!==0&&Pe!==null){t=Pe;var c=ta;t:switch(ut){case 1:ut=0,ta=null,Ts(e,t,c,1);break;case 2:case 9:if(Qf(c)){ut=0,ta=null,Lm(t);break}t=function(){ut!==2&&ut!==9||vt!==e||(ut=7),Za(e)},c.then(t,t);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Qf(c)?(ut=0,ta=null,Lm(t)):(ut=0,ta=null,Ts(e,t,c,7));break;case 5:var f=null;switch(Pe.tag){case 26:f=Pe.memoizedState;case 5:case 27:var g=Pe;if(f?_p(f):g.stateNode.complete){ut=0,ta=null;var N=g.sibling;if(N!==null)Pe=N;else{var B=g.return;B!==null?(Pe=B,mr(B)):Pe=null}break t}}ut=0,ta=null,Ts(e,t,c,5);break;case 6:ut=0,ta=null,Ts(e,t,c,6);break;case 8:_d(),Bt=6;break e;default:throw Error(r(462))}}Oy();break}catch(X){Dm(e,X)}while(!0);return tt=rt=null,E.H=a,E.A=i,ot=n,Pe!==null?0:(vt=null,nt=0,Vl(),Bt)}function Oy(){for(;Pe!==null&&!oe();)Bm(Pe)}function Bm(e){var t=cm(e.alternate,e,vl);e.memoizedProps=e.pendingProps,t===null?mr(e):Pe=t}function Lm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=tm(n,t,t.pendingProps,t.type,void 0,nt);break;case 11:t=tm(n,t,t.pendingProps,t.type.render,t.ref,nt);break;case 5:Hu(t);default:rm(n,t),t=Pe=zo(t,vl),t=cm(n,t,vl)}e.memoizedProps=e.pendingProps,t===null?mr(e):Pe=t}function Ts(e,t,n,a){tt=rt=null,Hu(t),ys=null,jc=0;var i=t.return;try{if(wy(e,i,t,n,nt)){Bt=1,tr(e,Xt(n,e.current)),Pe=null;return}}catch(c){if(i!==null)throw Pe=i,c;Bt=1,tr(e,Xt(n,e.current)),Pe=null;return}t.flags&32768?(d||a===1?e=!0:Ns||(nt&536870912)!==0?e=!1:(Wl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Pn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Hm(t,e)):mr(t)}function mr(e){var t=e;do{if((t.flags&32768)!==0){Hm(t,Wl);return}e=t.return;var n=Ey(t.alternate,t,vl);if(n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Bt===0&&(Bt=5)}function Hm(e,t){do{var n=jy(e.alternate,e);if(n!==null){n.flags&=32767,Pe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Pe=e;return}Pe=e=n}while(e!==null);Bt=6,Pe=null}function qm(e,t,n,a,i,c,f,g,N){e.cancelPendingCommit=null;do pr();while(tn!==0);if((ot&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=is,en(e,n,c,f,g,N),e===vt&&(Pe=vt=null,nt=0),js=t,ti=e,bl=n,xd=c,Sd=i,Am=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ly(bt,function(){return Zm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=E.T,E.T=null,i=K.p,K.p=2,f=ot,ot|=4;try{Cy(e,t,n)}finally{ot=f,K.p=i,E.T=a}}tn=1,Km(),Ym(),Gm()}}function Km(){if(tn===1){tn=0;var e=ti,t=js,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=E.T,E.T=null;var a=K.p;K.p=2;var i=ot;ot|=4;try{Sm(t,e);var c=zd,f=Do(e.containerInfo),g=c.focusedElem,N=c.selectionRange;if(f!==g&&g&&g.ownerDocument&&fc(g.ownerDocument.documentElement,g)){if(N!==null&&hc(g)){var B=N.start,X=N.end;if(X===void 0&&(X=B),"selectionStart"in g)g.selectionStart=B,g.selectionEnd=Math.min(X,g.value.length);else{var F=g.ownerDocument||document,q=F&&F.defaultView||window;if(q.getSelection){var G=q.getSelection(),_e=g.textContent.length,Re=Math.min(N.start,_e),yt=N.end===void 0?Re:Math.min(N.end,_e);!G.extend&&Re>yt&&(f=yt,yt=Re,Re=f);var M=il(g,Re),C=il(g,yt);if(M&&C&&(G.rangeCount!==1||G.anchorNode!==M.node||G.anchorOffset!==M.offset||G.focusNode!==C.node||G.focusOffset!==C.offset)){var z=F.createRange();z.setStart(M.node,M.offset),G.removeAllRanges(),Re>yt?(G.addRange(z),G.extend(C.node,C.offset)):(z.setEnd(C.node,C.offset),G.addRange(z))}}}}for(F=[],G=g;G=G.parentNode;)G.nodeType===1&&F.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<F.length;g++){var $=F[g];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Cr=!!Ud,zd=Ud=null}finally{ot=i,K.p=a,E.T=n}}e.current=t,tn=2}}function Ym(){if(tn===2){tn=0;var e=ti,t=js,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=E.T,E.T=null;var a=K.p;K.p=2;var i=ot;ot|=4;try{gm(e,t.alternate,t)}finally{ot=i,K.p=a,E.T=n}}tn=3}}function Gm(){if(tn===4||tn===3){tn=0,Ie();var e=ti,t=js,n=bl,a=Am;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tn=5:(tn=0,js=ti=null,Vm(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ei=null),an(n),t=t.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(qt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=E.T,i=K.p,K.p=2,E.T=null;try{for(var c=e.onRecoverableError,f=0;f<a.length;f++){var g=a[f];c(g.value,{componentStack:g.stack})}}finally{E.T=t,K.p=i}}(bl&3)!==0&&pr(),Za(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===wd?Gc++:(Gc=0,wd=e):Gc=0,Vc(0)}}function Vm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Nc(t)))}function pr(){return Km(),Ym(),Gm(),Zm()}function Zm(){if(tn!==5)return!1;var e=ti,t=xd;xd=0;var n=an(bl),a=E.T,i=K.p;try{K.p=32>n?32:n,E.T=null,n=Sd,Sd=null;var c=ti,f=bl;if(tn=0,js=ti=null,bl=0,(ot&6)!==0)throw Error(r(331));var g=ot;if(ot|=4,jm(c.current),_m(c,c.current,f,n),ot=g,Vc(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(qt,c)}catch{}return!0}finally{K.p=i,E.T=a,Vm(e,t)}}function Xm(e,t,n){t=Xt(n,t),t=ed(e.stateNode,t,2),e=Il(e,t,2),e!==null&&(Dn(e,2),Za(e))}function dt(e,t,n){if(e.tag===3)Xm(e,e,n);else for(;t!==null;){if(t.tag===3){Xm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ei===null||!ei.has(a))){e=Xt(n,e),n=Qh(2),a=Il(t,n,2),a!==null&&(Ih(n,a,t,e),Dn(a,2),Za(a));break}}t=t.return}}function Ed(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new ky;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(yd=!0,i.add(n),e=Uy.bind(null,e,t,n),t.then(e,e))}function Uy(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,vt===e&&(nt&n)===n&&(Bt===4||Bt===3&&(nt&62914560)===nt&&300>k()-rr?(ot&2)===0&&Cs(e,0):vd|=n,Es===nt&&(Es=0)),Za(e)}function Qm(e,t){t===0&&(t=Qn()),e=cl(e,t),e!==null&&(Dn(e,t),Za(e))}function zy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qm(e,n)}function By(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),Qm(e,n)}function Ly(e,t){return yn(e,t)}var gr=null,As=null,jd=!1,yr=!1,Cd=!1,ai=0;function Za(e){e!==As&&e.next===null&&(As===null?gr=As=e:As=As.next=e),yr=!0,jd||(jd=!0,qy())}function Vc(e,t){if(!Cd&&yr){Cd=!0;do for(var n=!1,a=gr;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var c=0;else{var f=a.suspendedLanes,g=a.pingedLanes;c=(1<<31-At(42|e)+1)-1,c&=i&~(f&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,Fm(a,c))}else c=nt,c=Ct(a,a===vt?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||ba(a,c)||(n=!0,Fm(a,c));a=a.next}while(n);Cd=!1}}function Hy(){Im()}function Im(){yr=jd=!1;var e=0;ai!==0&&$y()&&(e=ai);for(var t=k(),n=null,a=gr;a!==null;){var i=a.next,c=Jm(a,t);c===0?(a.next=null,n===null?gr=i:n.next=i,i===null&&(As=n)):(n=a,(e!==0||(c&3)!==0)&&(yr=!0)),a=i}tn!==0&&tn!==5||Vc(e),ai!==0&&(ai=0)}function Jm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var f=31-At(c),g=1<<f,N=i[f];N===-1?((g&n)===0||(g&a)!==0)&&(i[f]=it(g,t)):N<=t&&(e.expiredLanes|=g),c&=~g}if(t=vt,n=nt,n=Ct(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(ut===2||ut===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&rn(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ba(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&rn(a),an(n)){case 2:case 8:n=Ye;break;case 32:n=bt;break;case 268435456:n=Z;break;default:n=bt}return a=$m.bind(null,e),n=yn(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&rn(a),e.callbackPriority=2,e.callbackNode=null,2}function $m(e,t){if(tn!==0&&tn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(pr()&&e.callbackNode!==n)return null;var a=nt;return a=Ct(e,e===vt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Rm(e,a,t),Jm(e,k()),e.callbackNode!=null&&e.callbackNode===n?$m.bind(null,e):null)}function Fm(e,t){if(pr())return null;Rm(e,t,!0)}function qy(){Wy(function(){(ot&6)!==0?yn(Ze,Hy):Im()})}function Td(){if(ai===0){var e=ms;e===0&&(e=De,De<<=1,(De&261888)===0&&(De=256)),ai=e}return ai}function Wm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wa(""+e)}function Pm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Ky(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var c=Wm((i[ht]||null).action),f=a.submitter;f&&(t=(t=f[ht]||null)?Wm(t.formAction):f.getAttribute("formAction"),t!==null&&(c=t,f=null));var g=new Ol("action","action",null,a,i);e.push({event:g,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ai!==0){var N=f?Pm(i,f):new FormData(i);Iu(n,{pending:!0,data:N,method:i.method,action:c},null,N)}}else typeof c=="function"&&(g.preventDefault(),N=f?Pm(i,f):new FormData(i),Iu(n,{pending:!0,data:N,method:i.method,action:c},c,N))},currentTarget:i}]})}}for(var Ad=0;Ad<Yl.length;Ad++){var kd=Yl[Ad],Yy=kd.toLowerCase(),Gy=kd[0].toUpperCase()+kd.slice(1);Bn(Yy,"on"+Gy)}Bn(Uo,"onAnimationEnd"),Bn(pc,"onAnimationIteration"),Bn(gc,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(vu,"onTransitionRun"),Bn(bu,"onTransitionStart"),Bn(xu,"onTransitionCancel"),Bn(yc,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zc));function ep(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var f=a.length-1;0<=f;f--){var g=a[f],N=g.instance,B=g.currentTarget;if(g=g.listener,N!==c&&i.isPropagationStopped())break e;c=g,i.currentTarget=B;try{c(i)}catch(X){Ci(X)}i.currentTarget=null,c=N}else for(f=0;f<a.length;f++){if(g=a[f],N=g.instance,B=g.currentTarget,g=g.listener,N!==c&&i.isPropagationStopped())break e;c=g,i.currentTarget=B;try{c(i)}catch(X){Ci(X)}i.currentTarget=null,c=N}}}}function et(e,t){var n=t[On];n===void 0&&(n=t[On]=new Set);var a=e+"__bubble";n.has(a)||(tp(t,e,2,!1),n.add(a))}function Rd(e,t,n){var a=0;t&&(a|=4),tp(n,e,a,t)}var vr="_reactListening"+Math.random().toString(36).slice(2);function Md(e){if(!e[vr]){e[vr]=!0,Yt.forEach(function(n){n!=="selectionchange"&&(Vy.has(n)||Rd(n,!1,e),Rd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vr]||(t[vr]=!0,Rd("selectionchange",!1,t))}}function tp(e,t,n,a){switch(kp(t)){case 2:var i=vv;break;case 8:i=bv;break;default:i=Qd}n=i.bind(null,t,n,e),i=void 0,!yi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dd(e,t,n,a,i){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var f=a.tag;if(f===3||f===4){var g=a.stateNode.containerInfo;if(g===i)break;if(f===4)for(f=a.return;f!==null;){var N=f.tag;if((N===3||N===4)&&f.stateNode.containerInfo===i)return;f=f.return}for(;g!==null;){if(f=ee(g),f===null)return;if(N=f.tag,N===5||N===6||N===26||N===27){a=c=f;continue e}g=g.parentNode}}a=a.return}Js(function(){var B=c,X=Is(n),F=[];e:{var q=vc.get(e);if(q!==void 0){var G=Ol,_e=e;switch(e){case"keypress":if(Dl(n)===0)break e;case"keydown":case"keyup":G=So;break;case"focusin":_e="focus",G=Si;break;case"focusout":_e="blur",G=Si;break;case"beforeblur":case"afterblur":G=Si;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ws;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=lc;break;case Uo:case pc:case gc:G=fu;break;case yc:G=Bl;break;case"scroll":case"scrollend":G=Ul;break;case"wheel":G=_o;break;case"copy":case"cut":case"paste":G=bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=wi;break;case"toggle":case"beforetoggle":G=ic}var Re=(t&4)!==0,yt=!Re&&(e==="scroll"||e==="scrollend"),M=Re?q!==null?q+"Capture":null:q;Re=[];for(var C=B,z;C!==null;){var $=C;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||M===null||($=Ua(C,M),$!=null&&Re.push(Xc(C,$,z))),yt)break;C=C.return}0<Re.length&&(q=new G(q,_e,null,n,X),F.push({event:q,listeners:Re}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",q&&n!==Dt&&(_e=n.relatedTarget||n.fromElement)&&(ee(_e)||_e[bn]))break e;if((G||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,G?(_e=n.relatedTarget||n.toElement,G=B,_e=_e?ee(_e):null,_e!==null&&(yt=m(_e),Re=_e.tag,_e!==yt||Re!==5&&Re!==27&&Re!==6)&&(_e=null)):(G=null,_e=B),G!==_e)){if(Re=Fs,$="onMouseLeave",M="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(Re=wi,$="onPointerLeave",M="onPointerEnter",C="pointer"),yt=G==null?q:Fe(G),z=_e==null?q:Fe(_e),q=new Re($,C+"leave",G,n,X),q.target=yt,q.relatedTarget=z,$=null,ee(X)===B&&(Re=new Re(M,C+"enter",_e,n,X),Re.target=z,Re.relatedTarget=yt,$=Re),yt=$,G&&_e)t:{for(Re=Zy,M=G,C=_e,z=0,$=M;$;$=Re($))z++;$=0;for(var Ae=C;Ae;Ae=Re(Ae))$++;for(;0<z-$;)M=Re(M),z--;for(;0<$-z;)C=Re(C),$--;for(;z--;){if(M===C||C!==null&&M===C.alternate){Re=M;break t}M=Re(M),C=Re(C)}Re=null}else Re=null;G!==null&&np(F,q,G,Re,!1),_e!==null&&yt!==null&&np(F,yt,_e,Re,!0)}}e:{if(q=B?Fe(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var st=oc;else if(ko(q))if(rc)st=ll;else{st=gu;var Ee=$n}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&el(B.elementType)&&(st=oc):st=Mo;if(st&&(st=st(e,B))){Ot(F,st,n,X);break e}Ee&&Ee(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Zs(q,"number",q.value)}switch(Ee=B?Fe(B):window,e){case"focusin":(ko(Ee)||Ee.contentEditable==="true")&&(ql=Ee,zn=B,Kl=null);break;case"focusout":Kl=zn=ql=null;break;case"mousedown":ji=!0;break;case"contextmenu":case"mouseup":case"dragend":ji=!1,ls(F,n,X);break;case"selectionchange":if(yu)break;case"keydown":case"keyup":ls(F,n,X)}var Ve;if(sc)e:{switch(e){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else La?Co(e,n)&&(at="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(at="onCompositionStart");at&&(Ni&&n.locale!=="ko"&&(La||at!=="onCompositionStart"?at==="onCompositionEnd"&&La&&(Ve=vi()):(_a=X,Ii="value"in _a?_a.value:_a.textContent,La=!0)),Ee=br(B,at),0<Ee.length&&(at=new $i(at,e,null,n,X),F.push({event:at,listeners:Ee}),Ve?at.data=Ve:(Ve=cc(n),Ve!==null&&(at.data=Ve)))),(Ve=Eo?To(e,n):pu(e,n))&&(at=br(B,"onBeforeInput"),0<at.length&&(Ee=new $i("onBeforeInput","beforeinput",null,n,X),F.push({event:Ee,listeners:at}),Ee.data=Ve)),Ky(F,e,B,n,X)}ep(F,t)})}function Xc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function br(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,c=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||c===null||(i=Ua(e,n),i!=null&&a.unshift(Xc(e,i,c)),i=Ua(e,t),i!=null&&a.push(Xc(e,i,c))),e.tag===3)return a;e=e.return}return[]}function Zy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function np(e,t,n,a,i){for(var c=t._reactName,f=[];n!==null&&n!==a;){var g=n,N=g.alternate,B=g.stateNode;if(g=g.tag,N!==null&&N===a)break;g!==5&&g!==26&&g!==27||B===null||(N=B,i?(B=Ua(n,c),B!=null&&f.unshift(Xc(n,B,N))):i||(B=Ua(n,c),B!=null&&f.push(Xc(n,B,N)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var Xy=/\r\n?/g,Qy=/\u0000|\uFFFD/g;function ap(e){return(typeof e=="string"?e:""+e).replace(Xy,`
`).replace(Qy,"")}function lp(e,t){return t=ap(t),ap(e)===t}function gt(e,t,n,a,i,c){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||kl(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&kl(e,""+a);break;case"className":pi(e,"class",a);break;case"tabIndex":pi(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(e,n,a);break;case"style":vo(e,a,c);break;case"data":if(t!=="object"){pi(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=wa(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&gt(e,t,"name",i.name,i,null),gt(e,t,"formEncType",i.formEncType,i,null),gt(e,t,"formMethod",i.formMethod,i,null),gt(e,t,"formTarget",i.formTarget,i,null)):(gt(e,t,"encType",i.encType,i,null),gt(e,t,"method",i.method,i,null),gt(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=wa(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=oa);break;case"onScroll":a!=null&&et("scroll",e);break;case"onScrollEnd":a!=null&&et("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=wa(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":et("beforetoggle",e),et("toggle",e),Al(e,"popover",a);break;case"xlinkActuate":Mt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Mt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Mt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Mt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Mt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Mt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Mt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Mt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Mt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Al(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Qs.get(n)||n,Al(e,n,a))}}function Od(e,t,n,a,i,c){switch(n){case"style":vo(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof a=="string"?kl(e,a):(typeof a=="number"||typeof a=="bigint")&&kl(e,""+a);break;case"onScroll":a!=null&&et("scroll",e);break;case"onScrollEnd":a!=null&&et("scrollend",e);break;case"onClick":a!=null&&(e.onclick=oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xn.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),c=e[ht]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,i),typeof a=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Al(e,n,a)}}}function gn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",e),et("load",e);var a=!1,i=!1,c;for(c in n)if(n.hasOwnProperty(c)){var f=n[c];if(f!=null)switch(c){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:gt(e,t,c,f,n,null)}}i&&gt(e,t,"srcSet",n.srcSet,n,null),a&&gt(e,t,"src",n.src,n,null);return;case"input":et("invalid",e);var g=c=f=i=null,N=null,B=null;for(a in n)if(n.hasOwnProperty(a)){var X=n[a];if(X!=null)switch(a){case"name":i=X;break;case"type":f=X;break;case"checked":N=X;break;case"defaultChecked":B=X;break;case"value":c=X;break;case"defaultValue":g=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,t));break;default:gt(e,t,a,X,n,null)}}Vs(e,c,g,N,B,f,i,!1);return;case"select":et("invalid",e),a=f=c=null;for(i in n)if(n.hasOwnProperty(i)&&(g=n[i],g!=null))switch(i){case"value":c=g;break;case"defaultValue":f=g;break;case"multiple":a=g;default:gt(e,t,i,g,n,null)}t=c,n=f,e.multiple=!!a,t!=null?Pa(e,!!a,t,!1):n!=null&&Pa(e,!!a,n,!0);return;case"textarea":et("invalid",e),c=i=a=null;for(f in n)if(n.hasOwnProperty(f)&&(g=n[f],g!=null))switch(f){case"value":a=g;break;case"defaultValue":i=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:gt(e,t,f,g,n,null)}yo(e,a,i,c);return;case"option":for(N in n)if(n.hasOwnProperty(N)&&(a=n[N],a!=null))switch(N){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:gt(e,t,N,a,n,null)}return;case"dialog":et("beforetoggle",e),et("toggle",e),et("cancel",e),et("close",e);break;case"iframe":case"object":et("load",e);break;case"video":case"audio":for(a=0;a<Zc.length;a++)et(Zc[a],e);break;case"image":et("error",e),et("load",e);break;case"details":et("toggle",e);break;case"embed":case"source":case"link":et("error",e),et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in n)if(n.hasOwnProperty(B)&&(a=n[B],a!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:gt(e,t,B,a,n,null)}return;default:if(el(t)){for(X in n)n.hasOwnProperty(X)&&(a=n[X],a!==void 0&&Od(e,t,X,a,n,void 0));return}}for(g in n)n.hasOwnProperty(g)&&(a=n[g],a!=null&&gt(e,t,g,a,n,null))}function Iy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,c=null,f=null,g=null,N=null,B=null,X=null;for(G in n){var F=n[G];if(n.hasOwnProperty(G)&&F!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=F;default:a.hasOwnProperty(G)||gt(e,t,G,null,a,F)}}for(var q in a){var G=a[q];if(F=n[q],a.hasOwnProperty(q)&&(G!=null||F!=null))switch(q){case"type":c=G;break;case"name":i=G;break;case"checked":B=G;break;case"defaultChecked":X=G;break;case"value":f=G;break;case"defaultValue":g=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,t));break;default:G!==F&&gt(e,t,q,G,a,F)}}Vi(e,f,g,N,B,X,c,i);return;case"select":G=f=g=q=null;for(c in n)if(N=n[c],n.hasOwnProperty(c)&&N!=null)switch(c){case"value":break;case"multiple":G=N;default:a.hasOwnProperty(c)||gt(e,t,c,null,a,N)}for(i in a)if(c=a[i],N=n[i],a.hasOwnProperty(i)&&(c!=null||N!=null))switch(i){case"value":q=c;break;case"defaultValue":g=c;break;case"multiple":f=c;default:c!==N&&gt(e,t,i,c,a,N)}t=g,n=f,a=G,q!=null?Pa(e,!!n,q,!1):!!a!=!!n&&(t!=null?Pa(e,!!n,t,!0):Pa(e,!!n,n?[]:"",!1));return;case"textarea":G=q=null;for(g in n)if(i=n[g],n.hasOwnProperty(g)&&i!=null&&!a.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:gt(e,t,g,null,a,i)}for(f in a)if(i=a[f],c=n[f],a.hasOwnProperty(f)&&(i!=null||c!=null))switch(f){case"value":q=i;break;case"defaultValue":G=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==c&&gt(e,t,f,i,a,c)}go(e,q,G);return;case"option":for(var _e in n)if(q=n[_e],n.hasOwnProperty(_e)&&q!=null&&!a.hasOwnProperty(_e))switch(_e){case"selected":e.selected=!1;break;default:gt(e,t,_e,null,a,q)}for(N in a)if(q=a[N],G=n[N],a.hasOwnProperty(N)&&q!==G&&(q!=null||G!=null))switch(N){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:gt(e,t,N,q,a,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in n)q=n[Re],n.hasOwnProperty(Re)&&q!=null&&!a.hasOwnProperty(Re)&&gt(e,t,Re,null,a,q);for(B in a)if(q=a[B],G=n[B],a.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,t));break;default:gt(e,t,B,q,a,G)}return;default:if(el(t)){for(var yt in n)q=n[yt],n.hasOwnProperty(yt)&&q!==void 0&&!a.hasOwnProperty(yt)&&Od(e,t,yt,void 0,a,q);for(X in a)q=a[X],G=n[X],!a.hasOwnProperty(X)||q===G||q===void 0&&G===void 0||Od(e,t,X,q,a,G);return}}for(var M in n)q=n[M],n.hasOwnProperty(M)&&q!=null&&!a.hasOwnProperty(M)&&gt(e,t,M,null,a,q);for(F in a)q=a[F],G=n[F],!a.hasOwnProperty(F)||q===G||q==null&&G==null||gt(e,t,F,q,a,G)}function ip(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],c=i.transferSize,f=i.initiatorType,g=i.duration;if(c&&g&&ip(f)){for(f=0,g=i.responseEnd,a+=1;a<n.length;a++){var N=n[a],B=N.startTime;if(B>g)break;var X=N.transferSize,F=N.initiatorType;X&&ip(F)&&(N=N.responseEnd,f+=X*(N<g?1:(g-B)/(N-B)))}if(--a,t+=8*(c+f)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ud=null,zd=null;function xr(e){return e.nodeType===9?e:e.ownerDocument}function sp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ld=null;function $y(){var e=window.event;return e&&e.type==="popstate"?e===Ld?!1:(Ld=e,!0):(Ld=null,!1)}var op=typeof setTimeout=="function"?setTimeout:void 0,Fy=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,Wy=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(e){return rp.resolve(null).then(e).catch(Py)}:op;function Py(e){setTimeout(function(){throw e})}function li(e){return e==="head"}function up(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Ds(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Qc(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Qc(n);for(var c=n.firstChild;c;){var f=c.nextSibling,g=c.nodeName;c[Se]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=f}}else n==="body"&&Qc(e.ownerDocument.body);n=i}while(n);Ds(t)}function dp(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Hd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hd(n),j(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ev(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Se])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=ma(e.nextSibling),e===null)break}return null}function tv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ma(e.nextSibling),e===null))return null;return e}function fp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ma(e.nextSibling),e===null))return null;return e}function qd(e){return e.data==="$?"||e.data==="$~"}function Kd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function ma(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Yd=null;function hp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ma(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function mp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function pp(e,t,n){switch(t=xr(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Qc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);j(e)}var pa=new Map,gp=new Set;function Sr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xl=K.d;K.d={f:av,r:lv,D:iv,C:sv,L:cv,m:ov,X:uv,S:rv,M:dv};function av(){var e=xl.f(),t=fr();return e||t}function lv(e){var t=ve(e);t!==null&&t.tag===5&&t.type==="form"?Dh(t):xl.r(e)}var ks=typeof document>"u"?null:document;function yp(e,t,n){var a=ks;if(a&&typeof t=="string"&&t){var i=Un(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),gp.has(i)||(gp.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),gn(t,"link",e),Ge(t),a.head.appendChild(t)))}}function iv(e){xl.D(e),yp("dns-prefetch",e,null)}function sv(e,t){xl.C(e,t),yp("preconnect",e,t)}function cv(e,t,n){xl.L(e,t,n);var a=ks;if(a&&e&&t){var i='link[rel="preload"][as="'+Un(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Un(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Un(n.imageSizes)+'"]')):i+='[href="'+Un(e)+'"]';var c=i;switch(t){case"style":c=Rs(e);break;case"script":c=Ms(e)}pa.has(c)||(e=T({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),pa.set(c,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Ic(c))||t==="script"&&a.querySelector(Jc(c))||(t=a.createElement("link"),gn(t,"link",e),Ge(t),a.head.appendChild(t)))}}function ov(e,t){xl.m(e,t);var n=ks;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Un(a)+'"][href="'+Un(e)+'"]',c=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ms(e)}if(!pa.has(c)&&(e=T({rel:"modulepreload",href:e},t),pa.set(c,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jc(c)))return}a=n.createElement("link"),gn(a,"link",e),Ge(a),n.head.appendChild(a)}}}function rv(e,t,n){xl.S(e,t,n);var a=ks;if(a&&e){var i=St(a).hoistableStyles,c=Rs(e);t=t||"default";var f=i.get(c);if(!f){var g={loading:0,preload:null};if(f=a.querySelector(Ic(c)))g.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},n),(n=pa.get(c))&&Gd(e,n);var N=f=a.createElement("link");Ge(N),gn(N,"link",e),N._p=new Promise(function(B,X){N.onload=B,N.onerror=X}),N.addEventListener("load",function(){g.loading|=1}),N.addEventListener("error",function(){g.loading|=2}),g.loading|=4,wr(f,t,a)}f={type:"stylesheet",instance:f,count:1,state:g},i.set(c,f)}}}function uv(e,t){xl.X(e,t);var n=ks;if(n&&e){var a=St(n).hoistableScripts,i=Ms(e),c=a.get(i);c||(c=n.querySelector(Jc(i)),c||(e=T({src:e,async:!0},t),(t=pa.get(i))&&Vd(e,t),c=n.createElement("script"),Ge(c),gn(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(i,c))}}function dv(e,t){xl.M(e,t);var n=ks;if(n&&e){var a=St(n).hoistableScripts,i=Ms(e),c=a.get(i);c||(c=n.querySelector(Jc(i)),c||(e=T({src:e,async:!0,type:"module"},t),(t=pa.get(i))&&Vd(e,t),c=n.createElement("script"),Ge(c),gn(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(i,c))}}function vp(e,t,n,a){var i=(i=ae.current)?Sr(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Rs(n.href),n=St(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Rs(n.href);var c=St(i).hoistableStyles,f=c.get(e);if(f||(i=i.ownerDocument||i,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,f),(c=i.querySelector(Ic(e)))&&!c._p&&(f.instance=c,f.state.loading=5),pa.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},pa.set(e,n),c||fv(i,e,n,f.state))),t&&a===null)throw Error(r(528,""));return f}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ms(n),n=St(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Rs(e){return'href="'+Un(e)+'"'}function Ic(e){return'link[rel="stylesheet"]['+e+"]"}function bp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function fv(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),gn(t,"link",n),Ge(t),e.head.appendChild(t))}function Ms(e){return'[src="'+Un(e)+'"]'}function Jc(e){return"script[async]"+e}function xp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Un(n.href)+'"]');if(a)return t.instance=a,Ge(a),a;var i=T({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ge(a),gn(a,"style",i),wr(a,n.precedence,e),t.instance=a;case"stylesheet":i=Rs(n.href);var c=e.querySelector(Ic(i));if(c)return t.state.loading|=4,t.instance=c,Ge(c),c;a=bp(n),(i=pa.get(i))&&Gd(a,i),c=(e.ownerDocument||e).createElement("link"),Ge(c);var f=c;return f._p=new Promise(function(g,N){f.onload=g,f.onerror=N}),gn(c,"link",a),t.state.loading|=4,wr(c,n.precedence,e),t.instance=c;case"script":return c=Ms(n.src),(i=e.querySelector(Jc(c)))?(t.instance=i,Ge(i),i):(a=n,(i=pa.get(c))&&(a=T({},n),Vd(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ge(i),gn(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,wr(a,n.precedence,e));return t.instance}function wr(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,c=i,f=0;f<a.length;f++){var g=a[f];if(g.dataset.precedence===t)c=g;else if(c!==i)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Gd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var _r=null;function Sp(e,t,n){if(_r===null){var a=new Map,i=_r=new Map;i.set(n,a)}else i=_r,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var c=n[i];if(!(c[Se]||c[ft]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var f=c.getAttribute(t)||"";f=e+f;var g=a.get(f);g?g.push(c):a.set(f,[c])}}return a}function wp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function hv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _p(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mv(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=Rs(a.href),c=t.querySelector(Ic(i));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Nr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=c,Ge(c);return}c=t.ownerDocument||t,a=bp(a),(i=pa.get(i))&&Gd(a,i),c=c.createElement("link"),Ge(c);var f=c;f._p=new Promise(function(g,N){f.onload=g,f.onerror=N}),gn(c,"link",a),n.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Nr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Zd=0;function pv(e,t){return e.stylesheets&&e.count===0&&jr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&jr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Zd===0&&(Zd=62500*Jy());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Zd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Nr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Er=null;function jr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Er=new Map,t.forEach(gv,e),Er=null,Nr.call(e))}function gv(e,t){if(!(t.state.loading&4)){var n=Er.get(e);if(n)var a=n.get(null);else{n=new Map,Er.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<i.length;c++){var f=i[c];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),a=f)}a&&n.set(null,a)}i=t.instance,f=i.getAttribute("data-precedence"),c=n.get(f)||a,c===a&&n.set(null,i),n.set(f,i),this.count++,a=Nr.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),c?c.parentNode.insertBefore(i,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var $c={$$typeof:fe,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function yv(e,t,n,a,i,c,f,g,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=c,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Np(e,t,n,a,i,c,f,g,N,B,X,F){return e=new yv(e,t,n,f,N,B,X,F,g),t=1,c===!0&&(t|=24),c=Nn(3,null,null,t),e.current=c,c.stateNode=e,t=Nu(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:n,cache:t},Tu(c),e}function Ep(e){return e?(e=Ka,e):Ka}function jp(e,t,n,a,i,c){i=Ep(i),a.context===null?a.context=i:a.pendingContext=i,a=Ql(t),a.payload={element:n},c=c===void 0?null:c,c!==null&&(a.callback=c),n=Il(e,a,t),n!==null&&(Vn(n,e,t),Tc(n,e,t))}function Cp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xd(e,t){Cp(e,t),(e=e.alternate)&&Cp(e,t)}function Tp(e){if(e.tag===13||e.tag===31){var t=cl(e,67108864);t!==null&&Vn(t,e,67108864),Xd(e,67108864)}}function Ap(e){if(e.tag===13||e.tag===31){var t=aa();t=qe(t);var n=cl(e,t);n!==null&&Vn(n,e,t),Xd(e,t)}}var Cr=!0;function vv(e,t,n,a){var i=E.T;E.T=null;var c=K.p;try{K.p=2,Qd(e,t,n,a)}finally{K.p=c,E.T=i}}function bv(e,t,n,a){var i=E.T;E.T=null;var c=K.p;try{K.p=8,Qd(e,t,n,a)}finally{K.p=c,E.T=i}}function Qd(e,t,n,a){if(Cr){var i=Id(a);if(i===null)Dd(e,t,a,Tr,n),Rp(e,a);else if(Sv(i,e,t,n,a))a.stopPropagation();else if(Rp(e,a),t&4&&-1<xv.indexOf(e)){for(;i!==null;){var c=ve(i);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=vn(c.pendingLanes);if(f!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;f;){var N=1<<31-At(f);g.entanglements[1]|=N,f&=~N}Za(c),(ot&6)===0&&(ur=k()+500,Vc(0))}}break;case 31:case 13:g=cl(c,2),g!==null&&Vn(g,c,2),fr(),Xd(c,2)}if(c=Id(a),c===null&&Dd(e,t,a,Tr,n),c===i)break;i=c}i!==null&&a.stopPropagation()}else Dd(e,t,a,null,n)}}function Id(e){return e=Is(e),Jd(e)}var Tr=null;function Jd(e){if(Tr=null,e=ee(e),e!==null){var t=m(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=p(t),e!==null)return e;e=null}else if(n===31){if(e=b(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Tr=e,null}function kp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case Ze:return 2;case Ye:return 8;case bt:case Le:return 32;case Z:return 268435456;default:return 32}default:return 32}}var $d=!1,ii=null,si=null,ci=null,Fc=new Map,Wc=new Map,oi=[],xv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rp(e,t){switch(e){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Fc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(t.pointerId)}}function Pc(e,t,n,a,i,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:c,targetContainers:[i]},t!==null&&(t=ve(t),t!==null&&Tp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Sv(e,t,n,a,i){switch(t){case"focusin":return ii=Pc(ii,e,t,n,a,i),!0;case"dragenter":return si=Pc(si,e,t,n,a,i),!0;case"mouseover":return ci=Pc(ci,e,t,n,a,i),!0;case"pointerover":var c=i.pointerId;return Fc.set(c,Pc(Fc.get(c)||null,e,t,n,a,i)),!0;case"gotpointercapture":return c=i.pointerId,Wc.set(c,Pc(Wc.get(c)||null,e,t,n,a,i)),!0}return!1}function Mp(e){var t=ee(e.target);if(t!==null){var n=m(t);if(n!==null){if(t=n.tag,t===13){if(t=p(n),t!==null){e.blockedOn=t,sa(e.priority,function(){Ap(n)});return}}else if(t===31){if(t=b(n),t!==null){e.blockedOn=t,sa(e.priority,function(){Ap(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ar(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Id(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Dt=a,n.target.dispatchEvent(a),Dt=null}else return t=ve(n),t!==null&&Tp(t),e.blockedOn=n,!1;t.shift()}return!0}function Dp(e,t,n){Ar(e)&&n.delete(t)}function wv(){$d=!1,ii!==null&&Ar(ii)&&(ii=null),si!==null&&Ar(si)&&(si=null),ci!==null&&Ar(ci)&&(ci=null),Fc.forEach(Dp),Wc.forEach(Dp)}function kr(e,t){e.blockedOn===t&&(e.blockedOn=null,$d||($d=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wv)))}var Rr=null;function Op(e){Rr!==e&&(Rr=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Rr===e&&(Rr=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(Jd(a||n)===null)continue;break}var c=ve(n);c!==null&&(e.splice(t,3),t-=3,Iu(c,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Ds(e){function t(N){return kr(N,e)}ii!==null&&kr(ii,e),si!==null&&kr(si,e),ci!==null&&kr(ci,e),Fc.forEach(t),Wc.forEach(t);for(var n=0;n<oi.length;n++){var a=oi[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)Mp(n),n.blockedOn===null&&oi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],c=n[a+1],f=i[ht]||null;if(typeof c=="function")f||Op(n);else if(f){var g=null;if(c&&c.hasAttribute("formAction")){if(i=c,f=c[ht]||null)g=f.formAction;else if(Jd(i)!==null)continue}else g=f.action;typeof g=="function"?n[a+1]=g:(n.splice(a,3),a-=3),Op(n)}}}function Up(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(f){return i=f})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Fd(e){this._internalRoot=e}Mr.prototype.render=Fd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,a=aa();jp(n,a,e,t,null,null)},Mr.prototype.unmount=Fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jp(e.current,2,null,e,null,null),fr(),t[bn]=null}};function Mr(e){this._internalRoot=e}Mr.prototype.unstable_scheduleHydration=function(e){if(e){var t=ia();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oi.length&&t!==0&&t<oi[n].priority;n++);oi.splice(n,0,e),n===0&&Mp(e)}};var zp=l.version;if(zp!=="19.2.4")throw Error(r(527,zp,"19.2.4"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=x(t),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var _v={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dr.isDisabled&&Dr.supportsFiber)try{qt=Dr.inject(_v),Rt=Dr}catch{}}return to.createRoot=function(e,t){if(!h(e))throw Error(r(299));var n=!1,a="",i=Gh,c=Vh,f=Zh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Np(e,1,!1,null,null,n,a,null,i,c,f,Up),e[bn]=t.current,Md(e),new Fd(t)},to.hydrateRoot=function(e,t,n){if(!h(e))throw Error(r(299));var a=!1,i="",c=Gh,f=Vh,g=Zh,N=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.formState!==void 0&&(N=n.formState)),t=Np(e,1,!0,t,n??null,a,i,N,c,f,g,Up),t.context=Ep(null),n=t.current,a=aa(),a=qe(a),i=Ql(a),i.callback=null,Il(n,i,a),n=a,t.current.lanes=n,Dn(t,n),Za(t),e[bn]=t.current,Md(e),new Mr(t)},to.version="19.2.4",to}var Xp;function Uv(){if(Xp)return ef.exports;Xp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(l){console.error(l)}}return o(),ef.exports=Ov(),ef.exports}var zv=Uv();const Bv=Sg(zv);/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:wg,setPrototypeOf:Qp,isFrozen:Lv,getPrototypeOf:Hv,getOwnPropertyDescriptor:qv}=Object;let{freeze:An,seal:va,create:vf}=Object,{apply:bf,construct:xf}=typeof Reflect<"u"&&Reflect;An||(An=function(l){return l});va||(va=function(l){return l});bf||(bf=function(l,u){for(var r=arguments.length,h=new Array(r>2?r-2:0),m=2;m<r;m++)h[m-2]=arguments[m];return l.apply(u,h)});xf||(xf=function(l){for(var u=arguments.length,r=new Array(u>1?u-1:0),h=1;h<u;h++)r[h-1]=arguments[h];return new l(...r)});const Or=kn(Array.prototype.forEach),Kv=kn(Array.prototype.lastIndexOf),Ip=kn(Array.prototype.pop),no=kn(Array.prototype.push),Yv=kn(Array.prototype.splice),Zr=kn(String.prototype.toLowerCase),lf=kn(String.prototype.toString),sf=kn(String.prototype.match),ao=kn(String.prototype.replace),Gv=kn(String.prototype.indexOf),Vv=kn(String.prototype.trim),ka=kn(Object.prototype.hasOwnProperty),Cn=kn(RegExp.prototype.test),lo=Zv(TypeError);function kn(o){return function(l){l instanceof RegExp&&(l.lastIndex=0);for(var u=arguments.length,r=new Array(u>1?u-1:0),h=1;h<u;h++)r[h-1]=arguments[h];return bf(o,l,r)}}function Zv(o){return function(){for(var l=arguments.length,u=new Array(l),r=0;r<l;r++)u[r]=arguments[r];return xf(o,u)}}function Je(o,l){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zr;Qp&&Qp(o,null);let r=l.length;for(;r--;){let h=l[r];if(typeof h=="string"){const m=u(h);m!==h&&(Lv(l)||(l[r]=m),h=m)}o[h]=!0}return o}function Xv(o){for(let l=0;l<o.length;l++)ka(o,l)||(o[l]=null);return o}function Qa(o){const l=vf(null);for(const[u,r]of wg(o))ka(o,u)&&(Array.isArray(r)?l[u]=Xv(r):r&&typeof r=="object"&&r.constructor===Object?l[u]=Qa(r):l[u]=r);return l}function io(o,l){for(;o!==null;){const r=qv(o,l);if(r){if(r.get)return kn(r.get);if(typeof r.value=="function")return kn(r.value)}o=Hv(o)}function u(){return null}return u}const Jp=An(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),cf=An(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),of=An(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Qv=An(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),rf=An(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Iv=An(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$p=An(["#text"]),Fp=An(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),uf=An(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Wp=An(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ur=An(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Jv=va(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$v=va(/<%[\w\W]*|[\w\W]*%>/gm),Fv=va(/\$\{[\w\W]*/gm),Wv=va(/^data-[\-\w.\u00B7-\uFFFF]+$/),Pv=va(/^aria-[\-\w]+$/),_g=va(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eb=va(/^(?:\w+script|data):/i),tb=va(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ng=va(/^html$/i),nb=va(/^[a-z][.\w]*(-[.\w]+)+$/i);var Pp=Object.freeze({__proto__:null,ARIA_ATTR:Pv,ATTR_WHITESPACE:tb,CUSTOM_ELEMENT:nb,DATA_ATTR:Wv,DOCTYPE_NAME:Ng,ERB_EXPR:$v,IS_ALLOWED_URI:_g,IS_SCRIPT_OR_DATA:eb,MUSTACHE_EXPR:Jv,TMPLIT_EXPR:Fv});const so={element:1,text:3,progressingInstruction:7,comment:8,document:9},ab=function(){return typeof window>"u"?null:window},lb=function(l,u){if(typeof l!="object"||typeof l.createPolicy!="function")return null;let r=null;const h="data-tt-policy-suffix";u&&u.hasAttribute(h)&&(r=u.getAttribute(h));const m="dompurify"+(r?"#"+r:"");try{return l.createPolicy(m,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}},eg=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Eg(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ab();const l=Se=>Eg(Se);if(l.version="3.3.1",l.removed=[],!o||!o.document||o.document.nodeType!==so.document||!o.Element)return l.isSupported=!1,l;let{document:u}=o;const r=u,h=r.currentScript,{DocumentFragment:m,HTMLTemplateElement:p,Node:b,Element:v,NodeFilter:x,NamedNodeMap:A=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:T,DOMParser:Q,trustedTypes:U}=o,L=v.prototype,J=io(L,"cloneNode"),te=io(L,"remove"),ce=io(L,"nextSibling"),me=io(L,"childNodes"),fe=io(L,"parentNode");if(typeof p=="function"){const Se=u.createElement("template");Se.content&&Se.content.ownerDocument&&(u=Se.content.ownerDocument)}let de,ke="";const{implementation:He,createNodeIterator:Te,createDocumentFragment:we,getElementsByTagName:re}=u,{importNode:Oe}=r;let je=eg();l.isSupported=typeof wg=="function"&&typeof fe=="function"&&He&&He.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ye,ERB_EXPR:ie,TMPLIT_EXPR:Y,DATA_ATTR:O,ARIA_ATTR:E,IS_SCRIPT_OR_DATA:K,ATTR_WHITESPACE:V,CUSTOM_ELEMENT:ne}=Pp;let{IS_ALLOWED_URI:se}=Pp,S=null;const D=Je({},[...Jp,...cf,...of,...rf,...$p]);let H=null;const le=Je({},[...Fp,...uf,...Wp,...Ur]);let P=Object.seal(vf(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ae=null,pe=null;const Me=Object.seal(vf(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ue=!0,ze=!0,$e=!1,Wt=!0,jt=!1,Zt=!0,Ht=!1,on=!1,Rn=!1,Pt=!1,nn=!1,yn=!1,rn=!0,oe=!1;const Ie="user-content-";let k=!0,ge=!1,Ze={},Ye=null;const bt=Je({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Le=null;const Z=Je({},["audio","video","img","source","image","track"]);let Xe=null;const un=Je({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qt="http://www.w3.org/1998/Math/MathML",Rt="http://www.w3.org/2000/svg",Kt="http://www.w3.org/1999/xhtml";let At=Kt,$a=!1,lt=null;const Cl=Je({},[qt,Rt,Kt],lf);let De=Je({},["mi","mo","mn","ms","mtext"]),dn=Je({},["annotation-xml"]);const Mn=Je({},["title","style","font","a","script"]);let vn=null;const Ct=["application/xhtml+xml","text/html"],ba="text/html";let it=null,Qn=null;const In=u.createElement("form"),Dn=function(j){return j instanceof RegExp||j instanceof Function},en=function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Qn&&Qn===j)){if((!j||typeof j!="object")&&(j={}),j=Qa(j),vn=Ct.indexOf(j.PARSER_MEDIA_TYPE)===-1?ba:j.PARSER_MEDIA_TYPE,it=vn==="application/xhtml+xml"?lf:Zr,S=ka(j,"ALLOWED_TAGS")?Je({},j.ALLOWED_TAGS,it):D,H=ka(j,"ALLOWED_ATTR")?Je({},j.ALLOWED_ATTR,it):le,lt=ka(j,"ALLOWED_NAMESPACES")?Je({},j.ALLOWED_NAMESPACES,lf):Cl,Xe=ka(j,"ADD_URI_SAFE_ATTR")?Je(Qa(un),j.ADD_URI_SAFE_ATTR,it):un,Le=ka(j,"ADD_DATA_URI_TAGS")?Je(Qa(Z),j.ADD_DATA_URI_TAGS,it):Z,Ye=ka(j,"FORBID_CONTENTS")?Je({},j.FORBID_CONTENTS,it):bt,ae=ka(j,"FORBID_TAGS")?Je({},j.FORBID_TAGS,it):Qa({}),pe=ka(j,"FORBID_ATTR")?Je({},j.FORBID_ATTR,it):Qa({}),Ze=ka(j,"USE_PROFILES")?j.USE_PROFILES:!1,Ue=j.ALLOW_ARIA_ATTR!==!1,ze=j.ALLOW_DATA_ATTR!==!1,$e=j.ALLOW_UNKNOWN_PROTOCOLS||!1,Wt=j.ALLOW_SELF_CLOSE_IN_ATTR!==!1,jt=j.SAFE_FOR_TEMPLATES||!1,Zt=j.SAFE_FOR_XML!==!1,Ht=j.WHOLE_DOCUMENT||!1,Pt=j.RETURN_DOM||!1,nn=j.RETURN_DOM_FRAGMENT||!1,yn=j.RETURN_TRUSTED_TYPE||!1,Rn=j.FORCE_BODY||!1,rn=j.SANITIZE_DOM!==!1,oe=j.SANITIZE_NAMED_PROPS||!1,k=j.KEEP_CONTENT!==!1,ge=j.IN_PLACE||!1,se=j.ALLOWED_URI_REGEXP||_g,At=j.NAMESPACE||Kt,De=j.MATHML_TEXT_INTEGRATION_POINTS||De,dn=j.HTML_INTEGRATION_POINTS||dn,P=j.CUSTOM_ELEMENT_HANDLING||{},j.CUSTOM_ELEMENT_HANDLING&&Dn(j.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(P.tagNameCheck=j.CUSTOM_ELEMENT_HANDLING.tagNameCheck),j.CUSTOM_ELEMENT_HANDLING&&Dn(j.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(P.attributeNameCheck=j.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),j.CUSTOM_ELEMENT_HANDLING&&typeof j.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(P.allowCustomizedBuiltInElements=j.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),jt&&(ze=!1),nn&&(Pt=!0),Ze&&(S=Je({},$p),H=[],Ze.html===!0&&(Je(S,Jp),Je(H,Fp)),Ze.svg===!0&&(Je(S,cf),Je(H,uf),Je(H,Ur)),Ze.svgFilters===!0&&(Je(S,of),Je(H,uf),Je(H,Ur)),Ze.mathMl===!0&&(Je(S,rf),Je(H,Wp),Je(H,Ur))),j.ADD_TAGS&&(typeof j.ADD_TAGS=="function"?Me.tagCheck=j.ADD_TAGS:(S===D&&(S=Qa(S)),Je(S,j.ADD_TAGS,it))),j.ADD_ATTR&&(typeof j.ADD_ATTR=="function"?Me.attributeCheck=j.ADD_ATTR:(H===le&&(H=Qa(H)),Je(H,j.ADD_ATTR,it))),j.ADD_URI_SAFE_ATTR&&Je(Xe,j.ADD_URI_SAFE_ATTR,it),j.FORBID_CONTENTS&&(Ye===bt&&(Ye=Qa(Ye)),Je(Ye,j.FORBID_CONTENTS,it)),j.ADD_FORBID_CONTENTS&&(Ye===bt&&(Ye=Qa(Ye)),Je(Ye,j.ADD_FORBID_CONTENTS,it)),k&&(S["#text"]=!0),Ht&&Je(S,["html","head","body"]),S.table&&(Je(S,["tbody"]),delete ae.tbody),j.TRUSTED_TYPES_POLICY){if(typeof j.TRUSTED_TYPES_POLICY.createHTML!="function")throw lo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof j.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw lo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');de=j.TRUSTED_TYPES_POLICY,ke=de.createHTML("")}else de===void 0&&(de=lb(U,h)),de!==null&&typeof ke=="string"&&(ke=de.createHTML(""));An&&An(j),Qn=j}},xa=Je({},[...cf,...of,...Qv]),Ce=Je({},[...rf,...Iv]),Sa=function(j){let ee=fe(j);(!ee||!ee.tagName)&&(ee={namespaceURI:At,tagName:"template"});const ve=Zr(j.tagName),Fe=Zr(ee.tagName);return lt[j.namespaceURI]?j.namespaceURI===Rt?ee.namespaceURI===Kt?ve==="svg":ee.namespaceURI===qt?ve==="svg"&&(Fe==="annotation-xml"||De[Fe]):!!xa[ve]:j.namespaceURI===qt?ee.namespaceURI===Kt?ve==="math":ee.namespaceURI===Rt?ve==="math"&&dn[Fe]:!!Ce[ve]:j.namespaceURI===Kt?ee.namespaceURI===Rt&&!dn[Fe]||ee.namespaceURI===qt&&!De[Fe]?!1:!Ce[ve]&&(Mn[ve]||!xa[ve]):!!(vn==="application/xhtml+xml"&&lt[j.namespaceURI]):!1},qe=function(j){no(l.removed,{element:j});try{fe(j).removeChild(j)}catch{te(j)}},an=function(j,ee){try{no(l.removed,{attribute:ee.getAttributeNode(j),from:ee})}catch{no(l.removed,{attribute:null,from:ee})}if(ee.removeAttribute(j),j==="is")if(Pt||nn)try{qe(ee)}catch{}else try{ee.setAttribute(j,"")}catch{}},ia=function(j){let ee=null,ve=null;if(Rn)j="<remove></remove>"+j;else{const Ge=sf(j,/^[\r\n\t ]+/);ve=Ge&&Ge[0]}vn==="application/xhtml+xml"&&At===Kt&&(j='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+j+"</body></html>");const Fe=de?de.createHTML(j):j;if(At===Kt)try{ee=new Q().parseFromString(Fe,vn)}catch{}if(!ee||!ee.documentElement){ee=He.createDocument(At,"template",null);try{ee.documentElement.innerHTML=$a?ke:Fe}catch{}}const St=ee.body||ee.documentElement;return j&&ve&&St.insertBefore(u.createTextNode(ve),St.childNodes[0]||null),At===Kt?re.call(ee,Ht?"html":"body")[0]:Ht?ee.documentElement:St},sa=function(j){return Te.call(j.ownerDocument||j,j,x.SHOW_ELEMENT|x.SHOW_COMMENT|x.SHOW_TEXT|x.SHOW_PROCESSING_INSTRUCTION|x.SHOW_CDATA_SECTION,null)},ln=function(j){return j instanceof T&&(typeof j.nodeName!="string"||typeof j.textContent!="string"||typeof j.removeChild!="function"||!(j.attributes instanceof A)||typeof j.removeAttribute!="function"||typeof j.setAttribute!="function"||typeof j.namespaceURI!="string"||typeof j.insertBefore!="function"||typeof j.hasChildNodes!="function")},ft=function(j){return typeof b=="function"&&j instanceof b};function ht(Se,j,ee){Or(Se,ve=>{ve.call(l,j,ee,Qn)})}const bn=function(j){let ee=null;if(ht(je.beforeSanitizeElements,j,null),ln(j))return qe(j),!0;const ve=it(j.nodeName);if(ht(je.uponSanitizeElement,j,{tagName:ve,allowedTags:S}),Zt&&j.hasChildNodes()&&!ft(j.firstElementChild)&&Cn(/<[/\w!]/g,j.innerHTML)&&Cn(/<[/\w!]/g,j.textContent)||j.nodeType===so.progressingInstruction||Zt&&j.nodeType===so.comment&&Cn(/<[/\w]/g,j.data))return qe(j),!0;if(!(Me.tagCheck instanceof Function&&Me.tagCheck(ve))&&(!S[ve]||ae[ve])){if(!ae[ve]&&ca(ve)&&(P.tagNameCheck instanceof RegExp&&Cn(P.tagNameCheck,ve)||P.tagNameCheck instanceof Function&&P.tagNameCheck(ve)))return!1;if(k&&!Ye[ve]){const Fe=fe(j)||j.parentNode,St=me(j)||j.childNodes;if(St&&Fe){const Ge=St.length;for(let Yt=Ge-1;Yt>=0;--Yt){const xn=J(St[Yt],!0);xn.__removalCount=(j.__removalCount||0)+1,Fe.insertBefore(xn,ce(j))}}}return qe(j),!0}return j instanceof v&&!Sa(j)||(ve==="noscript"||ve==="noembed"||ve==="noframes")&&Cn(/<\/no(script|embed|frames)/i,j.innerHTML)?(qe(j),!0):(jt&&j.nodeType===so.text&&(ee=j.textContent,Or([ye,ie,Y],Fe=>{ee=ao(ee,Fe," ")}),j.textContent!==ee&&(no(l.removed,{element:j.cloneNode()}),j.textContent=ee)),ht(je.afterSanitizeElements,j,null),!1)},On=function(j,ee,ve){if(rn&&(ee==="id"||ee==="name")&&(ve in u||ve in In))return!1;if(!(ze&&!pe[ee]&&Cn(O,ee))){if(!(Ue&&Cn(E,ee))){if(!(Me.attributeCheck instanceof Function&&Me.attributeCheck(ee,j))){if(!H[ee]||pe[ee]){if(!(ca(j)&&(P.tagNameCheck instanceof RegExp&&Cn(P.tagNameCheck,j)||P.tagNameCheck instanceof Function&&P.tagNameCheck(j))&&(P.attributeNameCheck instanceof RegExp&&Cn(P.attributeNameCheck,ee)||P.attributeNameCheck instanceof Function&&P.attributeNameCheck(ee,j))||ee==="is"&&P.allowCustomizedBuiltInElements&&(P.tagNameCheck instanceof RegExp&&Cn(P.tagNameCheck,ve)||P.tagNameCheck instanceof Function&&P.tagNameCheck(ve))))return!1}else if(!Xe[ee]){if(!Cn(se,ao(ve,V,""))){if(!((ee==="src"||ee==="xlink:href"||ee==="href")&&j!=="script"&&Gv(ve,"data:")===0&&Le[j])){if(!($e&&!Cn(K,ao(ve,V,"")))){if(ve)return!1}}}}}}}return!0},ca=function(j){return j!=="annotation-xml"&&sf(j,ne)},Tl=function(j){ht(je.beforeSanitizeAttributes,j,null);const{attributes:ee}=j;if(!ee||ln(j))return;const ve={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let Fe=ee.length;for(;Fe--;){const St=ee[Fe],{name:Ge,namespaceURI:Yt,value:xn}=St,sn=it(Ge),Jn=xn;let kt=Ge==="value"?Jn:Vv(Jn);if(ve.attrName=sn,ve.attrValue=kt,ve.keepAttr=!0,ve.forceKeepAttr=void 0,ht(je.uponSanitizeAttribute,j,ve),kt=ve.attrValue,oe&&(sn==="id"||sn==="name")&&(an(Ge,j),kt=Ie+kt),Zt&&Cn(/((--!?|])>)|<\/(style|title|textarea)/i,kt)){an(Ge,j);continue}if(sn==="attributename"&&sf(kt,"href")){an(Ge,j);continue}if(ve.forceKeepAttr)continue;if(!ve.keepAttr){an(Ge,j);continue}if(!Wt&&Cn(/\/>/i,kt)){an(Ge,j);continue}jt&&Or([ye,ie,Y],Wa=>{kt=ao(kt,Wa," ")});const Fa=it(j.nodeName);if(!On(Fa,sn,kt)){an(Ge,j);continue}if(de&&typeof U=="object"&&typeof U.getAttributeType=="function"&&!Yt)switch(U.getAttributeType(Fa,sn)){case"TrustedHTML":{kt=de.createHTML(kt);break}case"TrustedScriptURL":{kt=de.createScriptURL(kt);break}}if(kt!==Jn)try{Yt?j.setAttributeNS(Yt,Ge,kt):j.setAttribute(Ge,kt),ln(j)?qe(j):Ip(l.removed)}catch{an(Ge,j)}}ht(je.afterSanitizeAttributes,j,null)},Ma=function Se(j){let ee=null;const ve=sa(j);for(ht(je.beforeSanitizeShadowDOM,j,null);ee=ve.nextNode();)ht(je.uponSanitizeShadowNode,ee,null),bn(ee),Tl(ee),ee.content instanceof m&&Se(ee.content);ht(je.afterSanitizeShadowDOM,j,null)};return l.sanitize=function(Se){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=null,ve=null,Fe=null,St=null;if($a=!Se,$a&&(Se="<!-->"),typeof Se!="string"&&!ft(Se))if(typeof Se.toString=="function"){if(Se=Se.toString(),typeof Se!="string")throw lo("dirty is not a string, aborting")}else throw lo("toString is not a function");if(!l.isSupported)return Se;if(on||en(j),l.removed=[],typeof Se=="string"&&(ge=!1),ge){if(Se.nodeName){const xn=it(Se.nodeName);if(!S[xn]||ae[xn])throw lo("root node is forbidden and cannot be sanitized in-place")}}else if(Se instanceof b)ee=ia("<!---->"),ve=ee.ownerDocument.importNode(Se,!0),ve.nodeType===so.element&&ve.nodeName==="BODY"||ve.nodeName==="HTML"?ee=ve:ee.appendChild(ve);else{if(!Pt&&!jt&&!Ht&&Se.indexOf("<")===-1)return de&&yn?de.createHTML(Se):Se;if(ee=ia(Se),!ee)return Pt?null:yn?ke:""}ee&&Rn&&qe(ee.firstChild);const Ge=sa(ge?Se:ee);for(;Fe=Ge.nextNode();)bn(Fe),Tl(Fe),Fe.content instanceof m&&Ma(Fe.content);if(ge)return Se;if(Pt){if(nn)for(St=we.call(ee.ownerDocument);ee.firstChild;)St.appendChild(ee.firstChild);else St=ee;return(H.shadowroot||H.shadowrootmode)&&(St=Oe.call(r,St,!0)),St}let Yt=Ht?ee.outerHTML:ee.innerHTML;return Ht&&S["!doctype"]&&ee.ownerDocument&&ee.ownerDocument.doctype&&ee.ownerDocument.doctype.name&&Cn(Ng,ee.ownerDocument.doctype.name)&&(Yt="<!DOCTYPE "+ee.ownerDocument.doctype.name+`>
`+Yt),jt&&Or([ye,ie,Y],xn=>{Yt=ao(Yt,xn," ")}),de&&yn?de.createHTML(Yt):Yt},l.setConfig=function(){let Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};en(Se),on=!0},l.clearConfig=function(){Qn=null,on=!1},l.isValidAttribute=function(Se,j,ee){Qn||en({});const ve=it(Se),Fe=it(j);return On(ve,Fe,ee)},l.addHook=function(Se,j){typeof j=="function"&&no(je[Se],j)},l.removeHook=function(Se,j){if(j!==void 0){const ee=Kv(je[Se],j);return ee===-1?void 0:Yv(je[Se],ee,1)[0]}return Ip(je[Se])},l.removeHooks=function(Se){je[Se]=[]},l.removeAllHooks=function(){je=eg()},l}var ib=Eg();function sb(){if(typeof window<"u"){const o=localStorage.getItem("accord_server_url");if(o)return o;if(window.__ACCORD_SERVER_URL__)return window.__ACCORD_SERVER_URL__}return"http://localhost:8080"}async function cb(){if(typeof window>"u")return null;const o=window.location.origin;if(o.includes(":1420")||o.includes(":5173")||o.includes(":3000"))return null;try{const l=await fetch(`${o}/health`,{signal:AbortSignal.timeout(3e3)});if(l.ok){const u=await l.json();if(u&&(u.status==="healthy"||u.status==="ok"))return o}}catch{}return null}class ob{constructor(l){ue(this,"baseUrl");ue(this,"_tokenRefresher",null);ue(this,"_refreshingToken",null);this.baseUrl=(l||sb()).replace(/\/+$/,"")}getBaseUrl(){return this.baseUrl}setBaseUrl(l){this.baseUrl=l.replace(/\/+$/,""),localStorage.setItem("accord_server_url",l)}setTokenRefresher(l){this._tokenRefresher=l}async refreshToken(){return this._tokenRefresher?(this._refreshingToken||(this._refreshingToken=this._tokenRefresher().finally(()=>{this._refreshingToken=null})),this._refreshingToken):null}async request(l,u={},r=!1){const h=`${this.baseUrl}${l}`,m=await fetch(h,{headers:{"Content-Type":"application/json",...u.headers},...u});if(m.status===401&&!r&&this._tokenRefresher){const b=await this.refreshToken();if(b){const v=l.replace(/([?&])token=[^&]*/,`$1token=${encodeURIComponent(b)}`);return this.request(v,u,!0)}}const p=await m.json();if(!m.ok){const b=p;throw new Error(b.error||`HTTP ${m.status}`)}return p}async health(){return this.request("/health")}async register(l,u){return this.request("/register",{method:"POST",body:JSON.stringify({public_key:l,password:u})})}async login(l,u){return this.request("/auth",{method:"POST",body:JSON.stringify({public_key:l,password:u})})}async createNode(l,u,r){const h={name:l,description:r};return this.request(`/nodes?token=${encodeURIComponent(u)}`,{method:"POST",body:JSON.stringify(h)})}async getNodeInfo(l,u){const r=u?`/nodes/${l}?token=${encodeURIComponent(u)}`:`/nodes/${l}`;return this.request(r)}async joinNode(l,u){return this.request(`/nodes/${l}/join?token=${encodeURIComponent(u)}`,{method:"POST"})}async leaveNode(l,u){return this.request(`/nodes/${l}/leave?token=${encodeURIComponent(u)}`,{method:"POST"})}async getUserNodes(l){return this.request(`/nodes?token=${encodeURIComponent(l)}`)}async getNodeChannels(l,u){return this.request(`/nodes/${l}/channels?token=${encodeURIComponent(u)}`)}async getNodeMembers(l,u){const r=await this.request(`/nodes/${l}/members?token=${encodeURIComponent(u)}`);return r&&r.members&&Array.isArray(r.members)?r.members:Array.isArray(r)?r:[]}async getChannelMessages(l,u,r=50,h){let m=`/channels/${l}/messages?limit=${r}&token=${encodeURIComponent(u)}`;return h&&(m+=`&before=${encodeURIComponent(h)}`),this.request(m)}async uploadFile(l,u,r,h,m){const p=new FormData;p.append("file",u),h&&p.append("encrypted_filename",h);const b=new XMLHttpRequest;return new Promise((v,x)=>{b.upload.addEventListener("progress",A=>{A.lengthComputable&&m&&m(A.loaded,A.total)}),b.addEventListener("load",()=>{if(b.status>=200&&b.status<300)try{const A=JSON.parse(b.responseText);v(A)}catch{x(new Error("Invalid JSON response"))}else try{const A=JSON.parse(b.responseText);x(new Error(A.error||`HTTP ${b.status}`))}catch{x(new Error(`Upload failed with status ${b.status}`))}}),b.addEventListener("error",()=>{x(new Error("Upload failed"))}),b.open("POST",`${this.baseUrl}/channels/${l}/files?token=${encodeURIComponent(r)}`),b.send(p)})}async downloadFile(l,u){const r=await fetch(`${this.baseUrl}/files/${l}?token=${encodeURIComponent(u)}`);if(!r.ok){const h=await r.json();throw new Error(h.error||`HTTP ${r.status}`)}return r.arrayBuffer()}async getChannelFiles(l,u){return this.request(`/channels/${l}/files?token=${encodeURIComponent(u)}`)}async deleteFile(l,u){return this.request(`/files/${l}?token=${encodeURIComponent(u)}`,{method:"DELETE"})}async createChannel(l,u,r,h){const m={name:u,channel_type:r};return this.request(`/nodes/${l}/channels?token=${encodeURIComponent(h)}`,{method:"POST",body:JSON.stringify(m)})}async deleteChannel(l,u){return this.request(`/channels/${l}?token=${encodeURIComponent(u)}`,{method:"DELETE"})}async createInvite(l,u){return this.request(`/nodes/${l}/invites?token=${encodeURIComponent(u)}`,{method:"POST"})}async kickMember(l,u,r){return this.request(`/nodes/${l}/members/${u}?token=${encodeURIComponent(r)}`,{method:"DELETE"})}async getUserProfile(l,u){const r=u?`/users/${l}/profile?token=${encodeURIComponent(u)}`:`/users/${l}/profile`;return this.request(r)}async updateProfile(l,u){return this.request(`/users/me/profile?token=${encodeURIComponent(u)}`,{method:"PATCH",body:JSON.stringify(l)})}async joinNodeByInvite(l,u){return this.request(`/invites/${l}/join?token=${encodeURIComponent(u)}`,{method:"POST"})}async getNodeInvites(l,u){const r=await this.request(`/nodes/${l}/invites?token=${encodeURIComponent(u)}`);return r&&r.invites&&Array.isArray(r.invites)?r.invites:Array.isArray(r)?r:[]}async createInviteWithOptions(l,u,r,h){const m={};return r!==void 0&&(m.max_uses=r),h!==void 0&&(m.expires_hours=h),this.request(`/nodes/${l}/invites?token=${encodeURIComponent(u)}`,{method:"POST",body:Object.keys(m).length>0?JSON.stringify(m):void 0})}async revokeInvite(l,u,r){return this.request(`/nodes/${l}/invites/${u}?token=${encodeURIComponent(r)}`,{method:"DELETE"})}async searchMessages(l,u,r,h){let m=`/nodes/${l}/search?q=${encodeURIComponent(u)}&token=${encodeURIComponent(r)}`;return h&&(m+=`&channel=${encodeURIComponent(h)}`),this.request(m)}async editMessage(l,u,r){return this.request(`/messages/${l}`,{method:"PATCH",body:JSON.stringify({user_id:u,encrypted_data:r})})}async deleteMessage(l,u){return this.request(`/messages/${l}?token=${encodeURIComponent(u)}`,{method:"DELETE"})}async getMessageThread(l,u){return this.request(`/messages/${l}/thread?token=${encodeURIComponent(u)}`)}async getMessageReactions(l,u){return this.request(`/messages/${l}/reactions?token=${encodeURIComponent(u)}`)}async addReaction(l,u,r){return this.request(`/messages/${l}/reactions/${encodeURIComponent(u)}?token=${encodeURIComponent(r)}`,{method:"PUT"})}async removeReaction(l,u,r){return this.request(`/messages/${l}/reactions/${encodeURIComponent(u)}?token=${encodeURIComponent(r)}`,{method:"DELETE"})}async pinMessage(l,u){return this.request(`/messages/${l}/pin?token=${encodeURIComponent(u)}`,{method:"PUT"})}async unpinMessage(l,u){return this.request(`/messages/${l}/pin?token=${encodeURIComponent(u)}`,{method:"DELETE"})}async getPinnedMessages(l,u){return this.request(`/channels/${l}/pins?token=${encodeURIComponent(u)}`)}async createDmChannel(l,u){return this.request(`/dm/${l}?token=${encodeURIComponent(u)}`,{method:"POST"})}async getDmChannels(l){return this.request(`/dm?token=${encodeURIComponent(l)}`)}async getNodeAuditLog(l,u,r=50,h){const m=new URLSearchParams({token:u,limit:r.toString()});return h&&m.append("before",h),this.request(`/nodes/${l}/audit-log?${m.toString()}`)}async getRoles(l,u){const r=await this.request(`/nodes/${l}/roles?token=${encodeURIComponent(u)}`);return r&&Array.isArray(r.roles)?r.roles:Array.isArray(r)?r:[]}async importDiscordTemplate(l,u,r){return this.request(`/nodes/${l}/import-discord-template?token=${encodeURIComponent(r)}`,{method:"POST",body:JSON.stringify({template_code:u})})}async testConnection(){try{return await this.health(),!0}catch{return!1}}}function rb(o){return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function ub(o){let l=o.replace(/-/g,"+").replace(/_/g,"/");for(;l.length%4;)l+="=";return atob(l)}function db(o,l){return`accord://${rb(o)}/${l}`}function tg(o){const l=o.trim(),u=l.match(/^accord:\/\/([A-Za-z0-9_-]+)\/([^/?#]+)$/);if(u)try{const m=ub(u[1]);if(m.includes(".")||m.includes(":"))return{relayHost:m,relayUrl:`http://${m}`,inviteCode:u[2]}}catch{}const r=l.match(/^accord:\/\/([^/]+)\/invite\/([^/?#]+)/);if(r){const m=r[1];return{relayHost:m,relayUrl:`http://${m}`,inviteCode:r[2]}}const h=l.match(/^(https?):\/\/([^/]+)\/invite\/([^/?#]+)/);if(h){const m=h[1],p=h[2];return{relayHost:p,relayUrl:`${m}://${p}`,inviteCode:h[3]}}return null}function fb(o){return localStorage.getItem(`accord_token_${o}`)}function hb(o,l){localStorage.setItem(`accord_token_${o}`,l)}function mb(o){return localStorage.getItem(`accord_user_${o}`)}function pb(o,l){localStorage.setItem(`accord_user_${o}`,l)}const W=new ob;W.createNode.bind(W);W.getNodeInfo.bind(W);W.joinNode.bind(W);W.getUserNodes.bind(W);W.getNodeChannels.bind(W);W.getNodeMembers.bind(W);W.getChannelMessages.bind(W);W.createChannel.bind(W);W.deleteChannel.bind(W);W.createInvite.bind(W);W.kickMember.bind(W);W.getUserProfile.bind(W);W.updateProfile.bind(W);W.joinNodeByInvite.bind(W);W.getNodeInvites.bind(W);W.createInviteWithOptions.bind(W);W.revokeInvite.bind(W);W.testConnection.bind(W);W.searchMessages.bind(W);W.getMessageThread.bind(W);W.createDmChannel.bind(W);W.getDmChannels.bind(W);W.getNodeAuditLog.bind(W);class Os{constructor(l,u){ue(this,"ws",null);ue(this,"token");ue(this,"baseUrl");ue(this,"listeners",new Map);ue(this,"reconnectAttempts",0);ue(this,"maxReconnectAttempts",20);ue(this,"reconnectDelay",1e3);ue(this,"maxReconnectDelay",3e4);ue(this,"reconnectTimeout",null);ue(this,"isConnected",!1);ue(this,"isDestroyed",!1);ue(this,"pingInterval",null);ue(this,"connectionStatus","disconnected");ue(this,"messageQueue",[]);ue(this,"onlineHandler",null);ue(this,"offlineHandler",null);this.token=l;const r=u||typeof window<"u"&&window.__ACCORD_SERVER_URL__||"http://localhost:8080";this.baseUrl=String(r).replace(/^http/,"ws"),typeof window<"u"&&(this.onlineHandler=()=>{!this.isConnected&&!this.isDestroyed&&(this.reconnectAttempts=0,this.connect())},this.offlineHandler=()=>{this.setConnectionStatus("disconnected")},window.addEventListener("online",this.onlineHandler),window.addEventListener("offline",this.offlineHandler))}on(l,u){this.listeners.has(l)||this.listeners.set(l,new Set),this.listeners.get(l).add(u)}off(l,u){const r=this.listeners.get(l);r&&r.delete(u)}emit(l,u){const r=this.listeners.get(l);r&&r.forEach(h=>{try{h(u)}catch(m){console.error(`Error in ${l} listener:`,m)}})}setConnectionStatus(l){this.connectionStatus=l,this.emit("connection_status",{status:l,reconnectAttempt:this.reconnectAttempts,maxReconnectAttempts:this.maxReconnectAttempts})}getConnectionInfo(){return{status:this.connectionStatus,reconnectAttempt:this.reconnectAttempts,maxReconnectAttempts:this.maxReconnectAttempts}}retry(){this.isDestroyed=!1,this.reconnectAttempts=0,this.reconnectDelay=1e3,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.connect()}connect(){if(this.isDestroyed||this.ws&&this.ws.readyState===WebSocket.CONNECTING)return;const l=`${this.baseUrl}/ws?token=${encodeURIComponent(this.token)}`;try{this.ws=new WebSocket(l),this.setupEventHandlers()}catch(u){console.error("Failed to create WebSocket connection:",u),this.emit("error",new Error("Failed to create WebSocket connection")),this.scheduleReconnect()}}setupEventHandlers(){this.ws&&(this.ws.onopen=()=>{this.isConnected=!0,this.reconnectAttempts=0,this.reconnectDelay=1e3,this.startPingInterval(),this.flushMessageQueue(),this.setConnectionStatus("connected"),this.emit("connected")},this.ws.onmessage=l=>{try{const u=JSON.parse(l.data);if(u.type==="error"&&u.code==="auth_failed"){this.emit("auth_error"),this.isDestroyed=!0;return}this.emit("message",u),u.type&&this.emit(u.type,u)}catch(u){console.error("Error parsing WebSocket message:",u),this.emit("error",new Error("Invalid message format"))}},this.ws.onclose=l=>{if(this.isConnected=!1,this.stopPingInterval(),l.code===4401||l.code===4403){this.setConnectionStatus("disconnected"),this.emit("auth_error"),this.emit("disconnected");return}this.emit("disconnected"),!this.isDestroyed&&l.code!==1e3?(this.setConnectionStatus("reconnecting"),this.scheduleReconnect()):this.setConnectionStatus("disconnected")},this.ws.onerror=l=>{console.error("WebSocket error:",l),this.emit("error",new Error("WebSocket connection error"))})}scheduleReconnect(){if(this.isDestroyed||this.reconnectTimeout)return;if(typeof navigator<"u"&&!navigator.onLine){this.setConnectionStatus("disconnected");return}if(this.reconnectAttempts>=this.maxReconnectAttempts){console.error("Max reconnection attempts reached"),this.setConnectionStatus("disconnected"),this.emit("error",new Error("Max reconnection attempts reached"));return}this.reconnectAttempts++;const l=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),this.maxReconnectDelay);this.setConnectionStatus("reconnecting"),this.emit("reconnecting",{attempt:this.reconnectAttempts,maxAttempts:this.maxReconnectAttempts}),this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=null,this.connect()},l)}startPingInterval(){this.pingInterval=setInterval(()=>{this.isConnected&&this.ping()},3e4)}stopPingInterval(){this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}sendMessage(l){if(!this.isConnected||!this.ws){console.warn("WebSocket not connected, cannot send message");return}const u={message_type:l,message_id:this.generateId(),timestamp:Math.floor(Date.now()/1e3)};try{this.ws.send(JSON.stringify(u))}catch(r){console.error("Error sending WebSocket message:",r),this.emit("error",new Error("Failed to send message"))}}send(l){if(!this.isConnected||!this.ws){this.messageQueue.push(l);return}try{this.ws.send(l)}catch(u){console.error("Error sending WebSocket message:",u),this.messageQueue.push(l),this.emit("error",new Error("Failed to send message"))}}flushMessageQueue(){for(;this.messageQueue.length>0&&this.isConnected&&this.ws;){const l=this.messageQueue.shift();try{this.ws.send(l)}catch{this.messageQueue.unshift(l);break}}}getQueuedMessageCount(){return this.messageQueue.length}createNode(l,u){this.sendMessage({CreateNode:{name:l,description:u}})}joinNode(l){this.sendMessage({JoinNode:{node_id:l}})}leaveNode(l){this.sendMessage({LeaveNode:{node_id:l}})}getNodeInfo(l){this.sendMessage({GetNodeInfo:{node_id:l}})}createChannel(l,u){this.sendMessage({CreateChannel:{node_id:l,name:u}})}joinChannel(l){this.sendMessage({JoinChannel:{channel_id:l}})}leaveChannel(l){this.sendMessage({LeaveChannel:{channel_id:l}})}sendDirectMessage(l,u){this.sendMessage({DirectMessage:{to_user:l,encrypted_data:u}})}sendChannelMessage(l,u,r){this.sendMessage({ChannelMessage:{channel_id:l,encrypted_data:u,reply_to:r}})}sendEditMessage(l,u){this.sendMessage({EditMessage:{message_id:l,encrypted_data:u}})}sendDeleteMessage(l){this.sendMessage({DeleteMessage:{message_id:l}})}addReaction(l,u){this.sendMessage({AddReaction:{message_id:l,emoji:u}})}removeReaction(l,u){this.sendMessage({RemoveReaction:{message_id:l,emoji:u}})}pinMessage(l){this.sendMessage({PinMessage:{message_id:l}})}unpinMessage(l){this.sendMessage({UnpinMessage:{message_id:l}})}sendTypingStart(l){this.sendMessage({TypingStart:{channel_id:l}})}ping(){this.sendMessage("Ping")}pong(){this.sendMessage("Pong")}generateId(){var l;return((l=crypto.randomUUID)==null?void 0:l.call(crypto))??"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,u=>{const r=Math.random()*16|0;return(u==="x"?r:r&3|8).toString(16)})}isSocketConnected(){return this.isConnected}disconnect(){this.isDestroyed=!0,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.stopPingInterval(),this.ws&&(this.ws.close(1e3,"Client disconnect"),this.ws=null),typeof window<"u"&&(this.onlineHandler&&window.removeEventListener("online",this.onlineHandler),this.offlineHandler&&window.removeEventListener("offline",this.offlineHandler)),this.messageQueue=[],this.listeners.clear()}}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Tf(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function Ja(o,l=""){if(!Number.isSafeInteger(o)||o<0){const u=l&&`"${l}" `;throw new Error(`${u}expected integer >= 0, got ${o}`)}}function Lt(o,l,u=""){const r=Tf(o),h=o==null?void 0:o.length,m=l!==void 0;if(!r||m&&h!==l){const p=u&&`"${u}" `,b=m?` of length ${l}`:"",v=r?`length=${h}`:`type=${typeof o}`;throw new Error(p+"expected Uint8Array"+b+", got "+v)}return o}function Af(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash must wrapped by utils.createHasher");Ja(o.outputLen),Ja(o.blockLen)}function Jr(o,l=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(l&&o.finished)throw new Error("Hash#digest() has already been called")}function gb(o,l){Lt(o,void 0,"digestInto() output");const u=l.outputLen;if(o.length<u)throw new Error('"digestInto() output" expected to be of length >='+u)}function oo(...o){for(let l=0;l<o.length;l++)o[l].fill(0)}function Xr(o){return new DataView(o.buffer,o.byteOffset,o.byteLength)}function Xa(o,l){return o<<32-l|o>>>l}const jg=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",yb=Array.from({length:256},(o,l)=>l.toString(16).padStart(2,"0"));function lu(o){if(Lt(o),jg)return o.toHex();let l="";for(let u=0;u<o.length;u++)l+=yb[o[u]];return l}const Sl={_0:48,_9:57,A:65,F:70,a:97,f:102};function ng(o){if(o>=Sl._0&&o<=Sl._9)return o-Sl._0;if(o>=Sl.A&&o<=Sl.F)return o-(Sl.A-10);if(o>=Sl.a&&o<=Sl.f)return o-(Sl.a-10)}function $r(o){if(typeof o!="string")throw new Error("hex string expected, got "+typeof o);if(jg)return Uint8Array.fromHex(o);const l=o.length,u=l/2;if(l%2)throw new Error("hex string expected, got unpadded hex of length "+l);const r=new Uint8Array(u);for(let h=0,m=0;h<u;h++,m+=2){const p=ng(o.charCodeAt(m)),b=ng(o.charCodeAt(m+1));if(p===void 0||b===void 0){const v=o[m]+o[m+1];throw new Error('hex string expected, got non-hex character "'+v+'" at index '+m)}r[h]=p*16+b}return r}function vb(o){if(typeof o!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(o))}function ag(o,l=""){return typeof o=="string"?vb(o):Lt(o,void 0,l)}function mi(...o){let l=0;for(let r=0;r<o.length;r++){const h=o[r];Lt(h),l+=h.length}const u=new Uint8Array(l);for(let r=0,h=0;r<o.length;r++){const m=o[r];u.set(m,h),h+=m.length}return u}function bb(o,l){if(l!==void 0&&{}.toString.call(l)!=="[object Object]")throw new Error("options must be object or undefined");return Object.assign(o,l)}function xb(o,l={}){const u=(h,m)=>o(m).update(h).digest(),r=o(void 0);return u.outputLen=r.outputLen,u.blockLen=r.blockLen,u.create=h=>o(h),Object.assign(u,l),Object.freeze(u)}function Cg(o=32){const l=typeof globalThis=="object"?globalThis.crypto:null;if(typeof(l==null?void 0:l.getRandomValues)!="function")throw new Error("crypto.getRandomValues must be defined");return l.getRandomValues(new Uint8Array(o))}const Sb=o=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,o])});function wb(o,l,u){return o&l^~o&u}function _b(o,l,u){return o&l^o&u^l&u}class Nb{constructor(l,u,r,h){ue(this,"blockLen");ue(this,"outputLen");ue(this,"padOffset");ue(this,"isLE");ue(this,"buffer");ue(this,"view");ue(this,"finished",!1);ue(this,"length",0);ue(this,"pos",0);ue(this,"destroyed",!1);this.blockLen=l,this.outputLen=u,this.padOffset=r,this.isLE=h,this.buffer=new Uint8Array(l),this.view=Xr(this.buffer)}update(l){Jr(this),Lt(l);const{view:u,buffer:r,blockLen:h}=this,m=l.length;for(let p=0;p<m;){const b=Math.min(h-this.pos,m-p);if(b===h){const v=Xr(l);for(;h<=m-p;p+=h)this.process(v,p);continue}r.set(l.subarray(p,p+b),this.pos),this.pos+=b,p+=b,this.pos===h&&(this.process(u,0),this.pos=0)}return this.length+=l.length,this.roundClean(),this}digestInto(l){Jr(this),gb(l,this),this.finished=!0;const{buffer:u,view:r,blockLen:h,isLE:m}=this;let{pos:p}=this;u[p++]=128,oo(this.buffer.subarray(p)),this.padOffset>h-p&&(this.process(r,0),p=0);for(let T=p;T<h;T++)u[T]=0;r.setBigUint64(h-8,BigInt(this.length*8),m),this.process(r,0);const b=Xr(l),v=this.outputLen;if(v%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const x=v/4,A=this.get();if(x>A.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<x;T++)b.setUint32(4*T,A[T],m)}digest(){const{buffer:l,outputLen:u}=this;this.digestInto(l);const r=l.slice(0,u);return this.destroy(),r}_cloneInto(l){l||(l=new this.constructor),l.set(...this.get());const{blockLen:u,buffer:r,length:h,finished:m,destroyed:p,pos:b}=this;return l.destroyed=p,l.finished=m,l.length=h,l.pos=b,h%u&&l.buffer.set(r),l}clone(){return this._cloneInto()}}const ui=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Eb=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),di=new Uint32Array(64);class jb extends Nb{constructor(l){super(64,l,8,!1)}get(){const{A:l,B:u,C:r,D:h,E:m,F:p,G:b,H:v}=this;return[l,u,r,h,m,p,b,v]}set(l,u,r,h,m,p,b,v){this.A=l|0,this.B=u|0,this.C=r|0,this.D=h|0,this.E=m|0,this.F=p|0,this.G=b|0,this.H=v|0}process(l,u){for(let T=0;T<16;T++,u+=4)di[T]=l.getUint32(u,!1);for(let T=16;T<64;T++){const Q=di[T-15],U=di[T-2],L=Xa(Q,7)^Xa(Q,18)^Q>>>3,J=Xa(U,17)^Xa(U,19)^U>>>10;di[T]=J+di[T-7]+L+di[T-16]|0}let{A:r,B:h,C:m,D:p,E:b,F:v,G:x,H:A}=this;for(let T=0;T<64;T++){const Q=Xa(b,6)^Xa(b,11)^Xa(b,25),U=A+Q+wb(b,v,x)+Eb[T]+di[T]|0,J=(Xa(r,2)^Xa(r,13)^Xa(r,22))+_b(r,h,m)|0;A=x,x=v,v=b,b=p+U|0,p=m,m=h,h=r,r=U+J|0}r=r+this.A|0,h=h+this.B|0,m=m+this.C|0,p=p+this.D|0,b=b+this.E|0,v=v+this.F|0,x=x+this.G|0,A=A+this.H|0,this.set(r,h,m,p,b,v,x,A)}roundClean(){oo(di)}destroy(){this.set(0,0,0,0,0,0,0,0),oo(this.buffer)}}class Cb extends jb{constructor(){super(32);ue(this,"A",ui[0]|0);ue(this,"B",ui[1]|0);ue(this,"C",ui[2]|0);ue(this,"D",ui[3]|0);ue(this,"E",ui[4]|0);ue(this,"F",ui[5]|0);ue(this,"G",ui[6]|0);ue(this,"H",ui[7]|0)}}const Hs=xb(()=>new Cb,Sb(1));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kf=BigInt(0),Sf=BigInt(1);function Fr(o,l=""){if(typeof o!="boolean"){const u=l&&`"${l}" `;throw new Error(u+"expected boolean, got type="+typeof o)}return o}function Tg(o){if(typeof o=="bigint"){if(!Qr(o))throw new Error("positive bigint expected, got "+o)}else Ja(o);return o}function zr(o){const l=Tg(o).toString(16);return l.length&1?"0"+l:l}function Ag(o){if(typeof o!="string")throw new Error("hex string expected, got "+typeof o);return o===""?kf:BigInt("0x"+o)}function iu(o){return Ag(lu(o))}function kg(o){return Ag(lu(Tb(Lt(o)).reverse()))}function Rf(o,l){Ja(l),o=Tg(o);const u=$r(o.toString(16).padStart(l*2,"0"));if(u.length!==l)throw new Error("number too large");return u}function Rg(o,l){return Rf(o,l).reverse()}function Tb(o){return Uint8Array.from(o)}const Qr=o=>typeof o=="bigint"&&kf<=o;function Ab(o,l,u){return Qr(o)&&Qr(l)&&Qr(u)&&l<=o&&o<u}function kb(o,l,u,r){if(!Ab(l,u,r))throw new Error("expected valid "+o+": "+u+" <= n < "+r+", got "+l)}function Rb(o){let l;for(l=0;o>kf;o>>=Sf,l+=1);return l}const Mf=o=>(Sf<<BigInt(o))-Sf;function Mb(o,l,u){if(Ja(o,"hashLen"),Ja(l,"qByteLen"),typeof u!="function")throw new Error("hmacFn must be a function");const r=te=>new Uint8Array(te),h=Uint8Array.of(),m=Uint8Array.of(0),p=Uint8Array.of(1),b=1e3;let v=r(o),x=r(o),A=0;const T=()=>{v.fill(1),x.fill(0),A=0},Q=(...te)=>u(x,mi(v,...te)),U=(te=h)=>{x=Q(m,te),v=Q(),te.length!==0&&(x=Q(p,te),v=Q())},L=()=>{if(A++>=b)throw new Error("drbg: tried max amount of iterations");let te=0;const ce=[];for(;te<l;){v=Q();const me=v.slice();ce.push(me),te+=v.length}return mi(...ce)};return(te,ce)=>{T(),U(te);let me;for(;!(me=ce(L()));)U();return T(),me}}function Df(o,l={},u={}){if(!o||typeof o!="object")throw new Error("expected valid options object");function r(m,p,b){const v=o[m];if(b&&v===void 0)return;const x=typeof v;if(x!==p||v===null)throw new Error(`param "${m}" is invalid: expected ${p}, got ${x}`)}const h=(m,p)=>Object.entries(m).forEach(([b,v])=>r(b,v,p));h(l,!1),h(u,!0)}function lg(o){const l=new WeakMap;return(u,...r)=>{const h=l.get(u);if(h!==void 0)return h;const m=o(u,...r);return l.set(u,m),m}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const la=BigInt(0),Tn=BigInt(1),Hi=BigInt(2),Mg=BigInt(3),Dg=BigInt(4),Og=BigInt(5),Db=BigInt(7),Ug=BigInt(8),Ob=BigInt(9),zg=BigInt(16);function Ra(o,l){const u=o%l;return u>=la?u:l+u}function ig(o,l){if(o===la)throw new Error("invert: expected non-zero number");if(l<=la)throw new Error("invert: expected positive modulus, got "+l);let u=Ra(o,l),r=l,h=la,m=Tn;for(;u!==la;){const b=r/u,v=r%u,x=h-m*b;r=u,u=v,h=m,m=x}if(r!==Tn)throw new Error("invert: does not exist");return Ra(h,l)}function Of(o,l,u){if(!o.eql(o.sqr(l),u))throw new Error("Cannot find square root")}function Bg(o,l){const u=(o.ORDER+Tn)/Dg,r=o.pow(l,u);return Of(o,r,l),r}function Ub(o,l){const u=(o.ORDER-Og)/Ug,r=o.mul(l,Hi),h=o.pow(r,u),m=o.mul(l,h),p=o.mul(o.mul(m,Hi),h),b=o.mul(m,o.sub(p,o.ONE));return Of(o,b,l),b}function zb(o){const l=Uf(o),u=Lg(o),r=u(l,l.neg(l.ONE)),h=u(l,r),m=u(l,l.neg(r)),p=(o+Db)/zg;return(b,v)=>{let x=b.pow(v,p),A=b.mul(x,r);const T=b.mul(x,h),Q=b.mul(x,m),U=b.eql(b.sqr(A),v),L=b.eql(b.sqr(T),v);x=b.cmov(x,A,U),A=b.cmov(Q,T,L);const J=b.eql(b.sqr(A),v),te=b.cmov(x,A,J);return Of(b,te,v),te}}function Lg(o){if(o<Mg)throw new Error("sqrt is not defined for small field");let l=o-Tn,u=0;for(;l%Hi===la;)l/=Hi,u++;let r=Hi;const h=Uf(o);for(;sg(h,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(u===1)return Bg;let m=h.pow(r,l);const p=(l+Tn)/Hi;return function(v,x){if(v.is0(x))return x;if(sg(v,x)!==1)throw new Error("Cannot find square root");let A=u,T=v.mul(v.ONE,m),Q=v.pow(x,l),U=v.pow(x,p);for(;!v.eql(Q,v.ONE);){if(v.is0(Q))return v.ZERO;let L=1,J=v.sqr(Q);for(;!v.eql(J,v.ONE);)if(L++,J=v.sqr(J),L===A)throw new Error("Cannot find square root");const te=Tn<<BigInt(A-L-1),ce=v.pow(T,te);A=L,T=v.sqr(ce),Q=v.mul(Q,T),U=v.mul(U,ce)}return U}}function Bb(o){return o%Dg===Mg?Bg:o%Ug===Og?Ub:o%zg===Ob?zb(o):Lg(o)}const Lb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Hb(o){const l={ORDER:"bigint",BYTES:"number",BITS:"number"},u=Lb.reduce((r,h)=>(r[h]="function",r),l);return Df(o,u),o}function qb(o,l,u){if(u<la)throw new Error("invalid exponent, negatives unsupported");if(u===la)return o.ONE;if(u===Tn)return l;let r=o.ONE,h=l;for(;u>la;)u&Tn&&(r=o.mul(r,h)),h=o.sqr(h),u>>=Tn;return r}function Hg(o,l,u=!1){const r=new Array(l.length).fill(u?o.ZERO:void 0),h=l.reduce((p,b,v)=>o.is0(b)?p:(r[v]=p,o.mul(p,b)),o.ONE),m=o.inv(h);return l.reduceRight((p,b,v)=>o.is0(b)?p:(r[v]=o.mul(p,r[v]),o.mul(p,b)),m),r}function sg(o,l){const u=(o.ORDER-Tn)/Hi,r=o.pow(l,u),h=o.eql(r,o.ONE),m=o.eql(r,o.ZERO),p=o.eql(r,o.neg(o.ONE));if(!h&&!m&&!p)throw new Error("invalid Legendre symbol result");return h?1:m?0:-1}function Kb(o,l){l!==void 0&&Ja(l);const u=l!==void 0?l:o.toString(2).length,r=Math.ceil(u/8);return{nBitLength:u,nByteLength:r}}class Yb{constructor(l,u={}){ue(this,"ORDER");ue(this,"BITS");ue(this,"BYTES");ue(this,"isLE");ue(this,"ZERO",la);ue(this,"ONE",Tn);ue(this,"_lengths");ue(this,"_sqrt");ue(this,"_mod");var p;if(l<=la)throw new Error("invalid field: expected ORDER > 0, got "+l);let r;this.isLE=!1,u!=null&&typeof u=="object"&&(typeof u.BITS=="number"&&(r=u.BITS),typeof u.sqrt=="function"&&(this.sqrt=u.sqrt),typeof u.isLE=="boolean"&&(this.isLE=u.isLE),u.allowedLengths&&(this._lengths=(p=u.allowedLengths)==null?void 0:p.slice()),typeof u.modFromBytes=="boolean"&&(this._mod=u.modFromBytes));const{nBitLength:h,nByteLength:m}=Kb(l,r);if(m>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");this.ORDER=l,this.BITS=h,this.BYTES=m,this._sqrt=void 0,Object.preventExtensions(this)}create(l){return Ra(l,this.ORDER)}isValid(l){if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return la<=l&&l<this.ORDER}is0(l){return l===la}isValidNot0(l){return!this.is0(l)&&this.isValid(l)}isOdd(l){return(l&Tn)===Tn}neg(l){return Ra(-l,this.ORDER)}eql(l,u){return l===u}sqr(l){return Ra(l*l,this.ORDER)}add(l,u){return Ra(l+u,this.ORDER)}sub(l,u){return Ra(l-u,this.ORDER)}mul(l,u){return Ra(l*u,this.ORDER)}pow(l,u){return qb(this,l,u)}div(l,u){return Ra(l*ig(u,this.ORDER),this.ORDER)}sqrN(l){return l*l}addN(l,u){return l+u}subN(l,u){return l-u}mulN(l,u){return l*u}inv(l){return ig(l,this.ORDER)}sqrt(l){return this._sqrt||(this._sqrt=Bb(this.ORDER)),this._sqrt(this,l)}toBytes(l){return this.isLE?Rg(l,this.BYTES):Rf(l,this.BYTES)}fromBytes(l,u=!1){Lt(l);const{_lengths:r,BYTES:h,isLE:m,ORDER:p,_mod:b}=this;if(r){if(!r.includes(l.length)||l.length>h)throw new Error("Field.fromBytes: expected "+r+" bytes, got "+l.length);const x=new Uint8Array(h);x.set(l,m?0:x.length-l.length),l=x}if(l.length!==h)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+l.length);let v=m?kg(l):iu(l);if(b&&(v=Ra(v,p)),!u&&!this.isValid(v))throw new Error("invalid field element: outside of range 0..ORDER");return v}invertBatch(l){return Hg(this,l)}cmov(l,u,r){return r?u:l}}function Uf(o,l={}){return new Yb(o,l)}function qg(o){if(typeof o!="bigint")throw new Error("field order must be bigint");const l=o.toString(2).length;return Math.ceil(l/8)}function Kg(o){const l=qg(o);return l+Math.ceil(l/2)}function Gb(o,l,u=!1){Lt(o);const r=o.length,h=qg(l),m=Kg(l);if(r<16||r<m||r>1024)throw new Error("expected "+m+"-1024 bytes of input, got "+r);const p=u?kg(o):iu(o),b=Ra(p,l-Tn)+Tn;return u?Rg(b,h):Rf(b,h)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ls=BigInt(0),qi=BigInt(1);function Wr(o,l){const u=l.negate();return o?u:l}function cg(o,l){const u=Hg(o.Fp,l.map(r=>r.Z));return l.map((r,h)=>o.fromAffine(r.toAffine(u[h])))}function Yg(o,l){if(!Number.isSafeInteger(o)||o<=0||o>l)throw new Error("invalid window size, expected [1.."+l+"], got W="+o)}function df(o,l){Yg(o,l);const u=Math.ceil(l/o)+1,r=2**(o-1),h=2**o,m=Mf(o),p=BigInt(o);return{windows:u,windowSize:r,mask:m,maxNumber:h,shiftBy:p}}function og(o,l,u){const{windowSize:r,mask:h,maxNumber:m,shiftBy:p}=u;let b=Number(o&h),v=o>>p;b>r&&(b-=m,v+=qi);const x=l*r,A=x+Math.abs(b)-1,T=b===0,Q=b<0,U=l%2!==0;return{nextN:v,offset:A,isZero:T,isNeg:Q,isNegF:U,offsetF:x}}const ff=new WeakMap,Gg=new WeakMap;function hf(o){return Gg.get(o)||1}function rg(o){if(o!==Ls)throw new Error("invalid wNAF")}class Vb{constructor(l,u){ue(this,"BASE");ue(this,"ZERO");ue(this,"Fn");ue(this,"bits");this.BASE=l.BASE,this.ZERO=l.ZERO,this.Fn=l.Fn,this.bits=u}_unsafeLadder(l,u,r=this.ZERO){let h=l;for(;u>Ls;)u&qi&&(r=r.add(h)),h=h.double(),u>>=qi;return r}precomputeWindow(l,u){const{windows:r,windowSize:h}=df(u,this.bits),m=[];let p=l,b=p;for(let v=0;v<r;v++){b=p,m.push(b);for(let x=1;x<h;x++)b=b.add(p),m.push(b);p=b.double()}return m}wNAF(l,u,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let h=this.ZERO,m=this.BASE;const p=df(l,this.bits);for(let b=0;b<p.windows;b++){const{nextN:v,offset:x,isZero:A,isNeg:T,isNegF:Q,offsetF:U}=og(r,b,p);r=v,A?m=m.add(Wr(Q,u[U])):h=h.add(Wr(T,u[x]))}return rg(r),{p:h,f:m}}wNAFUnsafe(l,u,r,h=this.ZERO){const m=df(l,this.bits);for(let p=0;p<m.windows&&r!==Ls;p++){const{nextN:b,offset:v,isZero:x,isNeg:A}=og(r,p,m);if(r=b,!x){const T=u[v];h=h.add(A?T.negate():T)}}return rg(r),h}getPrecomputes(l,u,r){let h=ff.get(u);return h||(h=this.precomputeWindow(u,l),l!==1&&(typeof r=="function"&&(h=r(h)),ff.set(u,h))),h}cached(l,u,r){const h=hf(l);return this.wNAF(h,this.getPrecomputes(h,l,r),u)}unsafe(l,u,r,h){const m=hf(l);return m===1?this._unsafeLadder(l,u,h):this.wNAFUnsafe(m,this.getPrecomputes(m,l,r),u,h)}createCache(l,u){Yg(u,this.bits),Gg.set(l,u),ff.delete(l)}hasCache(l){return hf(l)!==1}}function Zb(o,l,u,r){let h=l,m=o.ZERO,p=o.ZERO;for(;u>Ls||r>Ls;)u&qi&&(m=m.add(h)),r&qi&&(p=p.add(h)),h=h.double(),u>>=qi,r>>=qi;return{p1:m,p2:p}}function ug(o,l,u){if(l){if(l.ORDER!==o)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Hb(l),l}else return Uf(o,{isLE:u})}function Xb(o,l,u={},r){if(r===void 0&&(r=o==="edwards"),!l||typeof l!="object")throw new Error(`expected valid ${o} CURVE object`);for(const v of["p","n","h"]){const x=l[v];if(!(typeof x=="bigint"&&x>Ls))throw new Error(`CURVE.${v} must be positive bigint`)}const h=ug(l.p,u.Fp,r),m=ug(l.n,u.Fn,r),b=["Gx","Gy","a","b"];for(const v of b)if(!h.isValid(l[v]))throw new Error(`CURVE.${v} must be valid field element of CURVE.Fp`);return l=Object.freeze(Object.assign({},l)),{CURVE:l,Fp:h,Fn:m}}function Qb(o,l){return function(r){const h=o(r);return{secretKey:h,publicKey:l(h)}}}class Vg{constructor(l,u){ue(this,"oHash");ue(this,"iHash");ue(this,"blockLen");ue(this,"outputLen");ue(this,"finished",!1);ue(this,"destroyed",!1);if(Af(l),Lt(u,void 0,"key"),this.iHash=l.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,h=new Uint8Array(r);h.set(u.length>r?l.create().update(u).digest():u);for(let m=0;m<h.length;m++)h[m]^=54;this.iHash.update(h),this.oHash=l.create();for(let m=0;m<h.length;m++)h[m]^=106;this.oHash.update(h),oo(h)}update(l){return Jr(this),this.iHash.update(l),this}digestInto(l){Jr(this),Lt(l,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(l),this.oHash.update(l),this.oHash.digestInto(l),this.destroy()}digest(){const l=new Uint8Array(this.oHash.outputLen);return this.digestInto(l),l}_cloneInto(l){l||(l=Object.create(Object.getPrototypeOf(this),{}));const{oHash:u,iHash:r,finished:h,destroyed:m,blockLen:p,outputLen:b}=this;return l=l,l.finished=h,l.destroyed=m,l.blockLen=p,l.outputLen=b,l.oHash=u._cloneInto(l.oHash),l.iHash=r._cloneInto(l.iHash),l}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const zf=(o,l,u)=>new Vg(o,l).update(u).digest();zf.create=(o,l)=>new Vg(o,l);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dg=(o,l)=>(o+(o>=0?l:-l)/Zg)/l;function Ib(o,l,u){const[[r,h],[m,p]]=l,b=dg(p*o,u),v=dg(-h*o,u);let x=o-b*r-v*m,A=-b*h-v*p;const T=x<_l,Q=A<_l;T&&(x=-x),Q&&(A=-A);const U=Mf(Math.ceil(Rb(u)/2))+zs;if(x<_l||x>=U||A<_l||A>=U)throw new Error("splitScalar (endomorphism): failed, k="+o);return{k1neg:T,k1:x,k2neg:Q,k2:A}}function wf(o){if(!["compact","recovered","der"].includes(o))throw new Error('Signature format must be "compact", "recovered", or "der"');return o}function mf(o,l){const u={};for(let r of Object.keys(l))u[r]=o[r]===void 0?l[r]:o[r];return Fr(u.lowS,"lowS"),Fr(u.prehash,"prehash"),u.format!==void 0&&wf(u.format),u}class Jb extends Error{constructor(l=""){super(l)}}const hi={Err:Jb,_tlv:{encode:(o,l)=>{const{Err:u}=hi;if(o<0||o>256)throw new u("tlv.encode: wrong tag");if(l.length&1)throw new u("tlv.encode: unpadded data");const r=l.length/2,h=zr(r);if(h.length/2&128)throw new u("tlv.encode: long form length too big");const m=r>127?zr(h.length/2|128):"";return zr(o)+m+h+l},decode(o,l){const{Err:u}=hi;let r=0;if(o<0||o>256)throw new u("tlv.encode: wrong tag");if(l.length<2||l[r++]!==o)throw new u("tlv.decode: wrong tlv");const h=l[r++],m=!!(h&128);let p=0;if(!m)p=h;else{const v=h&127;if(!v)throw new u("tlv.decode(long): indefinite length not supported");if(v>4)throw new u("tlv.decode(long): byte length is too big");const x=l.subarray(r,r+v);if(x.length!==v)throw new u("tlv.decode: length bytes not complete");if(x[0]===0)throw new u("tlv.decode(long): zero leftmost byte");for(const A of x)p=p<<8|A;if(r+=v,p<128)throw new u("tlv.decode(long): not minimal encoding")}const b=l.subarray(r,r+p);if(b.length!==p)throw new u("tlv.decode: wrong value length");return{v:b,l:l.subarray(r+p)}}},_int:{encode(o){const{Err:l}=hi;if(o<_l)throw new l("integer: negative integers are not allowed");let u=zr(o);if(Number.parseInt(u[0],16)&8&&(u="00"+u),u.length&1)throw new l("unexpected DER parsing assertion: unpadded hex");return u},decode(o){const{Err:l}=hi;if(o[0]&128)throw new l("invalid signature integer: negative");if(o[0]===0&&!(o[1]&128))throw new l("invalid signature integer: unnecessary leading zero");return iu(o)}},toSig(o){const{Err:l,_int:u,_tlv:r}=hi,h=Lt(o,void 0,"signature"),{v:m,l:p}=r.decode(48,h);if(p.length)throw new l("invalid signature: left bytes after parsing");const{v:b,l:v}=r.decode(2,m),{v:x,l:A}=r.decode(2,v);if(A.length)throw new l("invalid signature: left bytes after parsing");return{r:u.decode(b),s:u.decode(x)}},hexFromSig(o){const{_tlv:l,_int:u}=hi,r=l.encode(2,u.encode(o.r)),h=l.encode(2,u.encode(o.s)),m=r+h;return l.encode(48,m)}},_l=BigInt(0),zs=BigInt(1),Zg=BigInt(2),Br=BigInt(3),$b=BigInt(4);function Fb(o,l={}){const u=Xb("weierstrass",o,l),{Fp:r,Fn:h}=u;let m=u.CURVE;const{h:p,n:b}=m;Df(l,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object"});const{endo:v}=l;if(v&&(!r.is0(m.a)||typeof v.beta!="bigint"||!Array.isArray(v.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const x=Qg(r,h);function A(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function T(ie,Y,O){const{x:E,y:K}=Y.toAffine(),V=r.toBytes(E);if(Fr(O,"isCompressed"),O){A();const ne=!r.isOdd(K);return mi(Xg(ne),V)}else return mi(Uint8Array.of(4),V,r.toBytes(K))}function Q(ie){Lt(ie,void 0,"Point");const{publicKey:Y,publicKeyUncompressed:O}=x,E=ie.length,K=ie[0],V=ie.subarray(1);if(E===Y&&(K===2||K===3)){const ne=r.fromBytes(V);if(!r.isValid(ne))throw new Error("bad point: is not on curve, wrong x");const se=J(ne);let S;try{S=r.sqrt(se)}catch(le){const P=le instanceof Error?": "+le.message:"";throw new Error("bad point: is not on curve, sqrt error"+P)}A();const D=r.isOdd(S);return(K&1)===1!==D&&(S=r.neg(S)),{x:ne,y:S}}else if(E===O&&K===4){const ne=r.BYTES,se=r.fromBytes(V.subarray(0,ne)),S=r.fromBytes(V.subarray(ne,ne*2));if(!te(se,S))throw new Error("bad point: is not on curve");return{x:se,y:S}}else throw new Error(`bad point: got length ${E}, expected compressed=${Y} or uncompressed=${O}`)}const U=l.toBytes||T,L=l.fromBytes||Q;function J(ie){const Y=r.sqr(ie),O=r.mul(Y,ie);return r.add(r.add(O,r.mul(ie,m.a)),m.b)}function te(ie,Y){const O=r.sqr(Y),E=J(ie);return r.eql(O,E)}if(!te(m.Gx,m.Gy))throw new Error("bad curve params: generator point");const ce=r.mul(r.pow(m.a,Br),$b),me=r.mul(r.sqr(m.b),BigInt(27));if(r.is0(r.add(ce,me)))throw new Error("bad curve params: a or b");function fe(ie,Y,O=!1){if(!r.isValid(Y)||O&&r.is0(Y))throw new Error(`bad point coordinate ${ie}`);return Y}function de(ie){if(!(ie instanceof re))throw new Error("Weierstrass Point expected")}function ke(ie){if(!v||!v.basises)throw new Error("no endo");return Ib(ie,v.basises,h.ORDER)}const He=lg((ie,Y)=>{const{X:O,Y:E,Z:K}=ie;if(r.eql(K,r.ONE))return{x:O,y:E};const V=ie.is0();Y==null&&(Y=V?r.ONE:r.inv(K));const ne=r.mul(O,Y),se=r.mul(E,Y),S=r.mul(K,Y);if(V)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:ne,y:se}}),Te=lg(ie=>{if(ie.is0()){if(l.allowInfinityPoint&&!r.is0(ie.Y))return;throw new Error("bad point: ZERO")}const{x:Y,y:O}=ie.toAffine();if(!r.isValid(Y)||!r.isValid(O))throw new Error("bad point: x or y not field elements");if(!te(Y,O))throw new Error("bad point: equation left != right");if(!ie.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function we(ie,Y,O,E,K){return O=new re(r.mul(O.X,ie),O.Y,O.Z),Y=Wr(E,Y),O=Wr(K,O),Y.add(O)}const ye=class ye{constructor(Y,O,E){ue(this,"X");ue(this,"Y");ue(this,"Z");this.X=fe("x",Y),this.Y=fe("y",O,!0),this.Z=fe("z",E),Object.freeze(this)}static CURVE(){return m}static fromAffine(Y){const{x:O,y:E}=Y||{};if(!Y||!r.isValid(O)||!r.isValid(E))throw new Error("invalid affine point");if(Y instanceof ye)throw new Error("projective point not allowed");return r.is0(O)&&r.is0(E)?ye.ZERO:new ye(O,E,r.ONE)}static fromBytes(Y){const O=ye.fromAffine(L(Lt(Y,void 0,"point")));return O.assertValidity(),O}static fromHex(Y){return ye.fromBytes($r(Y))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(Y=8,O=!0){return je.createCache(this,Y),O||this.multiply(Br),this}assertValidity(){Te(this)}hasEvenY(){const{y:Y}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(Y)}equals(Y){de(Y);const{X:O,Y:E,Z:K}=this,{X:V,Y:ne,Z:se}=Y,S=r.eql(r.mul(O,se),r.mul(V,K)),D=r.eql(r.mul(E,se),r.mul(ne,K));return S&&D}negate(){return new ye(this.X,r.neg(this.Y),this.Z)}double(){const{a:Y,b:O}=m,E=r.mul(O,Br),{X:K,Y:V,Z:ne}=this;let se=r.ZERO,S=r.ZERO,D=r.ZERO,H=r.mul(K,K),le=r.mul(V,V),P=r.mul(ne,ne),ae=r.mul(K,V);return ae=r.add(ae,ae),D=r.mul(K,ne),D=r.add(D,D),se=r.mul(Y,D),S=r.mul(E,P),S=r.add(se,S),se=r.sub(le,S),S=r.add(le,S),S=r.mul(se,S),se=r.mul(ae,se),D=r.mul(E,D),P=r.mul(Y,P),ae=r.sub(H,P),ae=r.mul(Y,ae),ae=r.add(ae,D),D=r.add(H,H),H=r.add(D,H),H=r.add(H,P),H=r.mul(H,ae),S=r.add(S,H),P=r.mul(V,ne),P=r.add(P,P),H=r.mul(P,ae),se=r.sub(se,H),D=r.mul(P,le),D=r.add(D,D),D=r.add(D,D),new ye(se,S,D)}add(Y){de(Y);const{X:O,Y:E,Z:K}=this,{X:V,Y:ne,Z:se}=Y;let S=r.ZERO,D=r.ZERO,H=r.ZERO;const le=m.a,P=r.mul(m.b,Br);let ae=r.mul(O,V),pe=r.mul(E,ne),Me=r.mul(K,se),Ue=r.add(O,E),ze=r.add(V,ne);Ue=r.mul(Ue,ze),ze=r.add(ae,pe),Ue=r.sub(Ue,ze),ze=r.add(O,K);let $e=r.add(V,se);return ze=r.mul(ze,$e),$e=r.add(ae,Me),ze=r.sub(ze,$e),$e=r.add(E,K),S=r.add(ne,se),$e=r.mul($e,S),S=r.add(pe,Me),$e=r.sub($e,S),H=r.mul(le,ze),S=r.mul(P,Me),H=r.add(S,H),S=r.sub(pe,H),H=r.add(pe,H),D=r.mul(S,H),pe=r.add(ae,ae),pe=r.add(pe,ae),Me=r.mul(le,Me),ze=r.mul(P,ze),pe=r.add(pe,Me),Me=r.sub(ae,Me),Me=r.mul(le,Me),ze=r.add(ze,Me),ae=r.mul(pe,ze),D=r.add(D,ae),ae=r.mul($e,ze),S=r.mul(Ue,S),S=r.sub(S,ae),ae=r.mul(Ue,pe),H=r.mul($e,H),H=r.add(H,ae),new ye(S,D,H)}subtract(Y){return this.add(Y.negate())}is0(){return this.equals(ye.ZERO)}multiply(Y){const{endo:O}=l;if(!h.isValidNot0(Y))throw new Error("invalid scalar: out of range");let E,K;const V=ne=>je.cached(this,ne,se=>cg(ye,se));if(O){const{k1neg:ne,k1:se,k2neg:S,k2:D}=ke(Y),{p:H,f:le}=V(se),{p:P,f:ae}=V(D);K=le.add(ae),E=we(O.beta,H,P,ne,S)}else{const{p:ne,f:se}=V(Y);E=ne,K=se}return cg(ye,[E,K])[0]}multiplyUnsafe(Y){const{endo:O}=l,E=this;if(!h.isValid(Y))throw new Error("invalid scalar: out of range");if(Y===_l||E.is0())return ye.ZERO;if(Y===zs)return E;if(je.hasCache(this))return this.multiply(Y);if(O){const{k1neg:K,k1:V,k2neg:ne,k2:se}=ke(Y),{p1:S,p2:D}=Zb(ye,E,V,se);return we(O.beta,S,D,K,ne)}else return je.unsafe(E,Y)}toAffine(Y){return He(this,Y)}isTorsionFree(){const{isTorsionFree:Y}=l;return p===zs?!0:Y?Y(ye,this):je.unsafe(this,b).is0()}clearCofactor(){const{clearCofactor:Y}=l;return p===zs?this:Y?Y(ye,this):this.multiplyUnsafe(p)}isSmallOrder(){return this.multiplyUnsafe(p).is0()}toBytes(Y=!0){return Fr(Y,"isCompressed"),this.assertValidity(),U(ye,this,Y)}toHex(Y=!0){return lu(this.toBytes(Y))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}};ue(ye,"BASE",new ye(m.Gx,m.Gy,r.ONE)),ue(ye,"ZERO",new ye(r.ZERO,r.ONE,r.ZERO)),ue(ye,"Fp",r),ue(ye,"Fn",h);let re=ye;const Oe=h.BITS,je=new Vb(re,l.endo?Math.ceil(Oe/2):Oe);return re.BASE.precompute(8),re}function Xg(o){return Uint8Array.of(o?2:3)}function Qg(o,l){return{secretKey:l.BYTES,publicKey:1+o.BYTES,publicKeyUncompressed:1+2*o.BYTES,publicKeyHasPrefix:!0,signature:2*l.BYTES}}function Wb(o,l={}){const{Fn:u}=o,r=l.randomBytes||Cg,h=Object.assign(Qg(o.Fp,u),{seed:Kg(u.ORDER)});function m(U){try{const L=u.fromBytes(U);return u.isValidNot0(L)}catch{return!1}}function p(U,L){const{publicKey:J,publicKeyUncompressed:te}=h;try{const ce=U.length;return L===!0&&ce!==J||L===!1&&ce!==te?!1:!!o.fromBytes(U)}catch{return!1}}function b(U=r(h.seed)){return Gb(Lt(U,h.seed,"seed"),u.ORDER)}function v(U,L=!0){return o.BASE.multiply(u.fromBytes(U)).toBytes(L)}function x(U){const{secretKey:L,publicKey:J,publicKeyUncompressed:te}=h;if(!Tf(U)||"_lengths"in u&&u._lengths||L===J)return;const ce=Lt(U,void 0,"key").length;return ce===J||ce===te}function A(U,L,J=!0){if(x(U)===!0)throw new Error("first arg must be private key");if(x(L)===!1)throw new Error("second arg must be public key");const te=u.fromBytes(U);return o.fromBytes(L).multiply(te).toBytes(J)}const T={isValidSecretKey:m,isValidPublicKey:p,randomSecretKey:b},Q=Qb(b,v);return Object.freeze({getPublicKey:v,getSharedSecret:A,keygen:Q,Point:o,utils:T,lengths:h})}function Pb(o,l,u={}){Af(l),Df(u,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"}),u=Object.assign({},u);const r=u.randomBytes||Cg,h=u.hmac||((Y,O)=>zf(l,Y,O)),{Fp:m,Fn:p}=o,{ORDER:b,BITS:v}=p,{keygen:x,getPublicKey:A,getSharedSecret:T,utils:Q,lengths:U}=Wb(o,u),L={prehash:!0,lowS:typeof u.lowS=="boolean"?u.lowS:!0,format:"compact",extraEntropy:!1},J=b*Zg<m.ORDER;function te(Y){const O=b>>zs;return Y>O}function ce(Y,O){if(!p.isValidNot0(O))throw new Error(`invalid signature ${Y}: out of range 1..Point.Fn.ORDER`);return O}function me(){if(J)throw new Error('"recovered" sig type is not supported for cofactor >2 curves')}function fe(Y,O){wf(O);const E=U.signature,K=O==="compact"?E:O==="recovered"?E+1:void 0;return Lt(Y,K)}class de{constructor(O,E,K){ue(this,"r");ue(this,"s");ue(this,"recovery");if(this.r=ce("r",O),this.s=ce("s",E),K!=null){if(me(),![0,1,2,3].includes(K))throw new Error("invalid recovery id");this.recovery=K}Object.freeze(this)}static fromBytes(O,E=L.format){fe(O,E);let K;if(E==="der"){const{r:S,s:D}=hi.toSig(Lt(O));return new de(S,D)}E==="recovered"&&(K=O[0],E="compact",O=O.subarray(1));const V=U.signature/2,ne=O.subarray(0,V),se=O.subarray(V,V*2);return new de(p.fromBytes(ne),p.fromBytes(se),K)}static fromHex(O,E){return this.fromBytes($r(O),E)}assertRecovery(){const{recovery:O}=this;if(O==null)throw new Error("invalid recovery id: must be present");return O}addRecoveryBit(O){return new de(this.r,this.s,O)}recoverPublicKey(O){const{r:E,s:K}=this,V=this.assertRecovery(),ne=V===2||V===3?E+b:E;if(!m.isValid(ne))throw new Error("invalid recovery id: sig.r+curve.n != R.x");const se=m.toBytes(ne),S=o.fromBytes(mi(Xg((V&1)===0),se)),D=p.inv(ne),H=He(Lt(O,void 0,"msgHash")),le=p.create(-H*D),P=p.create(K*D),ae=o.BASE.multiplyUnsafe(le).add(S.multiplyUnsafe(P));if(ae.is0())throw new Error("invalid recovery: point at infinify");return ae.assertValidity(),ae}hasHighS(){return te(this.s)}toBytes(O=L.format){if(wf(O),O==="der")return $r(hi.hexFromSig(this));const{r:E,s:K}=this,V=p.toBytes(E),ne=p.toBytes(K);return O==="recovered"?(me(),mi(Uint8Array.of(this.assertRecovery()),V,ne)):mi(V,ne)}toHex(O){return lu(this.toBytes(O))}}const ke=u.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");const E=iu(O),K=O.length*8-v;return K>0?E>>BigInt(K):E},He=u.bits2int_modN||function(O){return p.create(ke(O))},Te=Mf(v);function we(Y){return kb("num < 2^"+v,Y,_l,Te),p.toBytes(Y)}function re(Y,O){return Lt(Y,void 0,"message"),O?Lt(l(Y),void 0,"prehashed message"):Y}function Oe(Y,O,E){const{lowS:K,prehash:V,extraEntropy:ne}=mf(E,L);Y=re(Y,V);const se=He(Y),S=p.fromBytes(O);if(!p.isValidNot0(S))throw new Error("invalid private key");const D=[we(S),we(se)];if(ne!=null&&ne!==!1){const ae=ne===!0?r(U.secretKey):ne;D.push(Lt(ae,void 0,"extraEntropy"))}const H=mi(...D),le=se;function P(ae){const pe=ke(ae);if(!p.isValidNot0(pe))return;const Me=p.inv(pe),Ue=o.BASE.multiply(pe).toAffine(),ze=p.create(Ue.x);if(ze===_l)return;const $e=p.create(Me*p.create(le+ze*S));if($e===_l)return;let Wt=(Ue.x===ze?0:2)|Number(Ue.y&zs),jt=$e;return K&&te($e)&&(jt=p.neg($e),Wt^=1),new de(ze,jt,J?void 0:Wt)}return{seed:H,k2sig:P}}function je(Y,O,E={}){const{seed:K,k2sig:V}=Oe(Y,O,E);return Mb(l.outputLen,p.BYTES,h)(K,V).toBytes(E.format)}function ye(Y,O,E,K={}){const{lowS:V,prehash:ne,format:se}=mf(K,L);if(E=Lt(E,void 0,"publicKey"),O=re(O,ne),!Tf(Y)){const S=Y instanceof de?", use sig.toBytes()":"";throw new Error("verify expects Uint8Array signature"+S)}fe(Y,se);try{const S=de.fromBytes(Y,se),D=o.fromBytes(E);if(V&&S.hasHighS())return!1;const{r:H,s:le}=S,P=He(O),ae=p.inv(le),pe=p.create(P*ae),Me=p.create(H*ae),Ue=o.BASE.multiplyUnsafe(pe).add(D.multiplyUnsafe(Me));return Ue.is0()?!1:p.create(Ue.x)===H}catch{return!1}}function ie(Y,O,E={}){const{prehash:K}=mf(E,L);return O=re(O,K),de.fromBytes(Y,"recovered").recoverPublicKey(O).toBytes()}return Object.freeze({keygen:x,getPublicKey:A,getSharedSecret:T,utils:Q,lengths:U,Point:o,sign:je,verify:ye,recoverPublicKey:ie,Signature:de,hash:l})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e0={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},t0=Fb(e0),ho=Pb(t0,Hs);function n0(o,l,u,r){Af(o);const h=bb({dkLen:32,asyncTick:10},r),{c:m,dkLen:p,asyncTick:b}=h;if(Ja(m,"c"),Ja(p,"dkLen"),Ja(b,"asyncTick"),m<1)throw new Error("iterations (c) must be >= 1");const v=ag(l,"password"),x=ag(u,"salt"),A=new Uint8Array(p),T=zf.create(o,v),Q=T._cloneInto().update(x);return{c:m,dkLen:p,asyncTick:b,DK:A,PRF:T,PRFSalt:Q}}function a0(o,l,u,r,h){return o.destroy(),l.destroy(),r&&r.destroy(),oo(h),u}function l0(o,l,u,r){const{c:h,dkLen:m,DK:p,PRF:b,PRFSalt:v}=n0(o,l,u,r);let x;const A=new Uint8Array(4),T=Xr(A),Q=new Uint8Array(b.outputLen);for(let U=1,L=0;L<m;U++,L+=b.outputLen){const J=p.subarray(L,L+b.outputLen);T.setInt32(0,U,!1),(x=v._cloneInto(x)).update(A).digestInto(Q),J.set(Q.subarray(0,J.length));for(let te=1;te<h;te++){b._cloneInto(x).update(Q).digestInto(Q);for(let ce=0;ce<J.length;ce++)J[ce]^=Q[ce]}}return a0(b,v,p,x,Q)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function i0(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function Zn(o,l,u=""){const r=i0(o),h=o==null?void 0:o.length,m=l!==void 0;if(!r||m&&h!==l){const p=u&&`"${u}" `,b=m?` of length ${l}`:"",v=r?`length=${h}`:`type=${typeof o}`;throw new Error(p+"expected Uint8Array"+b+", got "+v)}return o}function Pr(o,l=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(l&&o.finished)throw new Error("Hash#digest() has already been called")}function Ig(o,l){Zn(o,void 0,"output");const u=l.outputLen;if(o.length<u)throw new Error("digestInto() expects output buffer of length at least "+u)}function s0(o){return new Uint8Array(o.buffer,o.byteOffset,o.byteLength)}function Nl(o){return new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4))}function El(...o){for(let l=0;l<o.length;l++)o[l].fill(0)}function su(o){return new DataView(o.buffer,o.byteOffset,o.byteLength)}const c0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function o0(o,l){if(o.length!==l.length)return!1;let u=0;for(let r=0;r<o.length;r++)u|=o[r]^l[r];return u===0}const r0=(o,l)=>{function u(r,...h){if(Zn(r,void 0,"key"),!c0)throw new Error("Non little-endian hardware is not yet supported");if(o.nonceLength!==void 0){const A=h[0];Zn(A,o.varSizeNonce?void 0:o.nonceLength,"nonce")}const m=o.tagLength;m&&h[1]!==void 0&&Zn(h[1],void 0,"AAD");const p=l(r,...h),b=(A,T)=>{if(T!==void 0){if(A!==2)throw new Error("cipher output not supported");Zn(T,void 0,"output")}};let v=!1;return{encrypt(A,T){if(v)throw new Error("cannot encrypt() twice with same key + nonce");return v=!0,Zn(A),b(p.encrypt.length,T),p.encrypt(A,T)},decrypt(A,T){if(Zn(A),m&&A.length<m)throw new Error('"ciphertext" expected length bigger than tagLength='+m);return b(p.decrypt.length,T),p.decrypt(A,T)}}}return Object.assign(u,o),u};function u0(o,l,u=!0){if(l===void 0)return new Uint8Array(o);if(l.length!==o)throw new Error('"output" expected Uint8Array of length '+o+", got: "+l.length);if(u&&!eu(l))throw new Error("invalid output, must be aligned");return l}function d0(o,l,u){const r=new Uint8Array(16),h=su(r);return h.setBigUint64(0,BigInt(l),u),h.setBigUint64(8,BigInt(o),u),r}function eu(o){return o.byteOffset%4===0}function Ki(o){return Uint8Array.from(o)}const wl=16,Bf=new Uint8Array(16),Ia=Nl(Bf),f0=225,h0=(o,l,u,r)=>{const h=r&1;return{s3:u<<31|r>>>1,s2:l<<31|u>>>1,s1:o<<31|l>>>1,s0:o>>>1^f0<<24&-(h&1)}},ga=o=>(o>>>0&255)<<24|(o>>>8&255)<<16|(o>>>16&255)<<8|o>>>24&255|0;function m0(o){o.reverse();const l=o[15]&1;let u=0;for(let r=0;r<o.length;r++){const h=o[r];o[r]=h>>>1|u,u=(h&1)<<7}return o[0]^=-l&225,o}const p0=o=>o>64*1024?8:o>1024?4:2;class Jg{constructor(l,u){ue(this,"blockLen",wl);ue(this,"outputLen",wl);ue(this,"s0",0);ue(this,"s1",0);ue(this,"s2",0);ue(this,"s3",0);ue(this,"finished",!1);ue(this,"t");ue(this,"W");ue(this,"windowSize");Zn(l,16,"key"),l=Ki(l);const r=su(l);let h=r.getUint32(0,!1),m=r.getUint32(4,!1),p=r.getUint32(8,!1),b=r.getUint32(12,!1);const v=[];for(let L=0;L<128;L++)v.push({s0:ga(h),s1:ga(m),s2:ga(p),s3:ga(b)}),{s0:h,s1:m,s2:p,s3:b}=h0(h,m,p,b);const x=p0(u||1024);if(![1,2,4,8].includes(x))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=x;const T=128/x,Q=this.windowSize=2**x,U=[];for(let L=0;L<T;L++)for(let J=0;J<Q;J++){let te=0,ce=0,me=0,fe=0;for(let de=0;de<x;de++){if(!(J>>>x-de-1&1))continue;const{s0:He,s1:Te,s2:we,s3:re}=v[x*L+de];te^=He,ce^=Te,me^=we,fe^=re}U.push({s0:te,s1:ce,s2:me,s3:fe})}this.t=U}_updateBlock(l,u,r,h){l^=this.s0,u^=this.s1,r^=this.s2,h^=this.s3;const{W:m,t:p,windowSize:b}=this;let v=0,x=0,A=0,T=0;const Q=(1<<m)-1;let U=0;for(const L of[l,u,r,h])for(let J=0;J<4;J++){const te=L>>>8*J&255;for(let ce=8/m-1;ce>=0;ce--){const me=te>>>m*ce&Q,{s0:fe,s1:de,s2:ke,s3:He}=p[U*b+me];v^=fe,x^=de,A^=ke,T^=He,U+=1}}this.s0=v,this.s1=x,this.s2=A,this.s3=T}update(l){Pr(this),Zn(l),l=Ki(l);const u=Nl(l),r=Math.floor(l.length/wl),h=l.length%wl;for(let m=0;m<r;m++)this._updateBlock(u[m*4+0],u[m*4+1],u[m*4+2],u[m*4+3]);return h&&(Bf.set(l.subarray(r*wl)),this._updateBlock(Ia[0],Ia[1],Ia[2],Ia[3]),El(Ia)),this}destroy(){const{t:l}=this;for(const u of l)u.s0=0,u.s1=0,u.s2=0,u.s3=0}digestInto(l){Pr(this),Ig(l,this),this.finished=!0;const{s0:u,s1:r,s2:h,s3:m}=this,p=Nl(l);return p[0]=u,p[1]=r,p[2]=h,p[3]=m,l}digest(){const l=new Uint8Array(wl);return this.digestInto(l),this.destroy(),l}}class g0 extends Jg{constructor(l,u){Zn(l);const r=m0(Ki(l));super(r,u),El(r)}update(l){Pr(this),Zn(l),l=Ki(l);const u=Nl(l),r=l.length%wl,h=Math.floor(l.length/wl);for(let m=0;m<h;m++)this._updateBlock(ga(u[m*4+3]),ga(u[m*4+2]),ga(u[m*4+1]),ga(u[m*4+0]));return r&&(Bf.set(l.subarray(h*wl)),this._updateBlock(ga(Ia[3]),ga(Ia[2]),ga(Ia[1]),ga(Ia[0])),El(Ia)),this}digestInto(l){Pr(this),Ig(l,this),this.finished=!0;const{s0:u,s1:r,s2:h,s3:m}=this,p=Nl(l);return p[0]=u,p[1]=r,p[2]=h,p[3]=m,l.reverse()}}function $g(o){const l=(r,h)=>o(h,r.length).update(r).digest(),u=o(new Uint8Array(16),0);return l.outputLen=u.outputLen,l.blockLen=u.blockLen,l.create=(r,h)=>o(r,h),l}const fg=$g((o,l)=>new Jg(o,l));$g((o,l)=>new g0(o,l));const _f=16,y0=4,Lr=new Uint8Array(_f),v0=283;function b0(o){if(![16,24,32].includes(o.length))throw new Error('"aes key" expected Uint8Array of length 16/24/32, got length='+o.length)}function Lf(o){return o<<1^v0&-(o>>7)}function hg(o,l){let u=0;for(;l>0;l>>=1)u^=o&-(l&1),o=Lf(o);return u}const x0=(()=>{const o=new Uint8Array(256);for(let u=0,r=1;u<256;u++,r^=Lf(r))o[u]=r;const l=new Uint8Array(256);l[0]=99;for(let u=0;u<255;u++){let r=o[255-u];r|=r<<8,l[o[u]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return El(o),l})(),S0=o=>o<<24|o>>>8,pf=o=>o<<8|o>>>24;function w0(o,l){if(o.length!==256)throw new Error("Wrong sbox length");const u=new Uint32Array(256).map((x,A)=>l(o[A])),r=u.map(pf),h=r.map(pf),m=h.map(pf),p=new Uint32Array(256*256),b=new Uint32Array(256*256),v=new Uint16Array(256*256);for(let x=0;x<256;x++)for(let A=0;A<256;A++){const T=x*256+A;p[T]=u[x]^r[A],b[T]=h[x]^m[A],v[T]=o[x]<<8|o[A]}return{sbox:o,sbox2:v,T0:u,T1:r,T2:h,T3:m,T01:p,T23:b}}const Fg=w0(x0,o=>hg(o,3)<<24|o<<16|o<<8|hg(o,2)),_0=(()=>{const o=new Uint8Array(16);for(let l=0,u=1;l<16;l++,u=Lf(u))o[l]=u;return o})();function N0(o){Zn(o);const l=o.length;b0(o);const{sbox2:u}=Fg,r=[];eu(o)||r.push(o=Ki(o));const h=Nl(o),m=h.length,p=v=>co(u,v,v,v,v),b=new Uint32Array(l+28);b.set(h);for(let v=m;v<b.length;v++){let x=b[v-1];v%m===0?x=p(S0(x))^_0[v/m-1]:m>6&&v%m===4&&(x=p(x)),b[v]=b[v-m]^x}return El(...r),b}function Hr(o,l,u,r,h,m){return o[u<<8&65280|r>>>8&255]^l[h>>>8&65280|m>>>24&255]}function co(o,l,u,r,h){return o[l&255|u&65280]|o[r>>>16&255|h>>>16&65280]<<16}function mg(o,l,u,r,h){const{sbox2:m,T01:p,T23:b}=Fg;let v=0;l^=o[v++],u^=o[v++],r^=o[v++],h^=o[v++];const x=o.length/4-2;for(let L=0;L<x;L++){const J=o[v++]^Hr(p,b,l,u,r,h),te=o[v++]^Hr(p,b,u,r,h,l),ce=o[v++]^Hr(p,b,r,h,l,u),me=o[v++]^Hr(p,b,h,l,u,r);l=J,u=te,r=ce,h=me}const A=o[v++]^co(m,l,u,r,h),T=o[v++]^co(m,u,r,h,l),Q=o[v++]^co(m,r,h,l,u),U=o[v++]^co(m,h,l,u,r);return{s0:A,s1:T,s2:Q,s3:U}}function qr(o,l,u,r,h){Zn(u,_f,"nonce"),Zn(r),h=u0(r.length,h);const m=u,p=Nl(m),b=su(m),v=Nl(r),x=Nl(h),A=l?0:12,T=r.length;let Q=b.getUint32(A,l),{s0:U,s1:L,s2:J,s3:te}=mg(o,p[0],p[1],p[2],p[3]);for(let me=0;me+4<=v.length;me+=4)x[me+0]=v[me+0]^U,x[me+1]=v[me+1]^L,x[me+2]=v[me+2]^J,x[me+3]=v[me+3]^te,Q=Q+1>>>0,b.setUint32(A,Q,l),{s0:U,s1:L,s2:J,s3:te}=mg(o,p[0],p[1],p[2],p[3]);const ce=_f*Math.floor(v.length/y0);if(ce<T){const me=new Uint32Array([U,L,J,te]),fe=s0(me);for(let de=ce,ke=0;de<T;de++,ke++)h[de]=r[de]^fe[ke];El(me)}return h}function E0(o,l,u,r,h){const m=h?h.length:0,p=o.create(u,r.length+m);h&&p.update(h);const b=d0(8*r.length,8*m,l);p.update(r),p.update(b);const v=p.digest();return El(b),v}const qs=r0({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(l,u,r){if(u.length<8)throw new Error("aes/gcm: invalid nonce length");const h=16;function m(b,v,x){const A=E0(fg,!1,b,x,r);for(let T=0;T<v.length;T++)A[T]^=v[T];return A}function p(){const b=N0(l),v=Lr.slice(),x=Lr.slice();if(qr(b,!1,x,x,v),u.length===12)x.set(u);else{const T=Lr.slice();su(T).setBigUint64(8,BigInt(u.length*8),!1);const U=fg.create(v).update(u).update(T);U.digestInto(x),U.destroy()}const A=qr(b,!1,x,Lr);return{xk:b,authKey:v,counter:x,tagMask:A}}return{encrypt(b){const{xk:v,authKey:x,counter:A,tagMask:T}=p(),Q=new Uint8Array(b.length+h),U=[v,x,A,T];eu(b)||U.push(b=Ki(b)),qr(v,!1,A,b,Q.subarray(0,b.length));const L=m(x,T,Q.subarray(0,Q.length-h));return U.push(L),Q.set(L,b.length),El(...U),Q},decrypt(b){const{xk:v,authKey:x,counter:A,tagMask:T}=p(),Q=[v,x,T,A];eu(b)||Q.push(b=Ki(b));const U=b.subarray(0,-h),L=b.subarray(-h),J=m(x,T,U);if(Q.push(J),!o0(J,L))throw new Error("aes/gcm: invalid ghash tag");const te=qr(v,!1,A,U);return El(...Q),te}}}),Wg=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];function ro(o){const l=new Uint8Array(o);return crypto.getRandomValues(l),l}function j0(o){const l=o?`_${o.slice(0,16)}`:"";return{PRIVATE_KEY:`accord_private_key${l}`,PUBLIC_KEY:`accord_public_key${l}`,CHANNEL_KEYS:`accord_channel_keys${l}`}}let Pg;function Aa(o){Pg=o}function mo(o){return j0(o||Pg)}const jl={PRIVATE_KEY:"accord_private_key",PUBLIC_KEY:"accord_public_key",CHANNEL_KEYS:"accord_channel_keys"},uo={name:"ECDH",namedCurve:"P-256"},C0={name:"AES-GCM",length:256},Xn=typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u";function T0(){return!0}async function fi(o){const l=new TextEncoder().encode(o);if(Xn){const r=await crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(r)).map(h=>h.toString(16).padStart(2,"0")).join("")}const u=Hs(l);return Array.from(u).map(r=>r.toString(16).padStart(2,"0")).join("")}function Yi(o){const l=String.fromCharCode.apply(null,Array.from(new Uint8Array(o)));return btoa(l)}function fo(o){const l=atob(o),u=new ArrayBuffer(l.length),r=new Uint8Array(u);for(let h=0;h<l.length;h++)r[h]=l.charCodeAt(h);return u}function Hf(o){return Yi(o.buffer.slice(o.byteOffset,o.byteOffset+o.byteLength))}function A0(o){return new Uint8Array(fo(o))}async function ey(o,l){const u=new TextEncoder,r=await window.crypto.subtle.importKey("raw",u.encode(o),"PBKDF2",!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:l,iterations:1e5,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}function ty(o,l){const u=new TextEncoder;return l0(Hs,u.encode(o),l,{c:1e5,dkLen:32})}async function ny(o,l){const u=ro(16),r=ro(12);if(Xn){const v=await ey(l,u),x=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},v,o),A=new Uint8Array(u.length+r.length+x.byteLength);return A.set(u,0),A.set(r,u.length),A.set(new Uint8Array(x),u.length+r.length),Yi(A.buffer)}const h=ty(l,u),p=qs(h,r).encrypt(new Uint8Array(o)),b=new Uint8Array(u.length+r.length+p.length);return b.set(u,0),b.set(r,u.length),b.set(p,u.length+r.length),Hf(b)}async function ay(o,l){const u=new Uint8Array(fo(o)),r=u.slice(0,16),h=u.slice(16,28),m=u.slice(28);if(Xn){const x=await ey(l,r);return window.crypto.subtle.decrypt({name:"AES-GCM",iv:h},x,m)}const p=ty(l,r),v=qs(p,h).decrypt(m);return v.buffer.slice(v.byteOffset,v.byteOffset+v.byteLength)}function ly(){return`accord-key-wrap:${localStorage.getItem("accord_token")||""}`}async function gf(){return Xn?await window.crypto.subtle.generateKey(uo,!0,["deriveKey","deriveBits"]):k0()}function k0(){const o=ro(32),l=ho.getPublicKey(o,!1),u=cu(l),r=ou(o,l);return{privateKey:{_nobleRaw:o,_noblePkcs8:r},publicKey:{_nobleRaw:l,_nobleSpki:u},_privateKeyRaw:o,_publicKeyRaw:u}}const Bs=new Uint8Array([48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7]);function cu(o){const l=new Uint8Array(3+o.length);l[0]=3,l[1]=1+o.length,l[2]=0,l.set(o,3);const u=Bs.length+l.length,r=new Uint8Array(2+u);return r[0]=48,r[1]=u,r.set(Bs,2),r.set(l,2+Bs.length),r}function ou(o,l){const u=R0(o,l),r=new Uint8Array([2,1,0]),h=new Uint8Array(2+u.length);h[0]=4,h[1]=u.length,h.set(u,2);const m=r.length+Bs.length+h.length,p=new Uint8Array(2+m);p[0]=48,p[1]=m;let b=2;return p.set(r,b),b+=r.length,p.set(Bs,b),b+=Bs.length,p.set(h,b),p}function R0(o,l){const u=new Uint8Array([2,1,1]),r=new Uint8Array([4,32,...o]),h=new Uint8Array([3,1+l.length,0,...l]),m=new Uint8Array([161,h.length,...h]),p=u.length+r.length+m.length,b=new Uint8Array(2+p);b[0]=48,b[1]=p;let v=2;return b.set(u,v),v+=u.length,b.set(r,v),v+=r.length,b.set(m,v),b}function qf(o){for(let l=0;l<o.length-33;l++)if(o[l]===4&&o[l+1]===32){const u=o.slice(l+2,l+34);try{return ho.getPublicKey(u,!1),u}catch{continue}}throw new Error("Could not extract P-256 private key from PKCS8")}async function Li(o){if(Xn&&!o._nobleSpki){const u=await window.crypto.subtle.exportKey("spki",o);return Yi(u)}const l=o._nobleSpki;if(!l)throw new Error("Cannot export noble public key: missing SPKI data");return Hf(l)}async function Kr(o,l){let u,r;if(Xn&&!o.privateKey._nobleRaw)u=await window.crypto.subtle.exportKey("pkcs8",o.privateKey),r=await window.crypto.subtle.exportKey("spki",o.publicKey);else{const b=o.privateKey._noblePkcs8,v=o.publicKey._nobleSpki;u=b.buffer.slice(b.byteOffset,b.byteOffset+b.byteLength),r=v.buffer.slice(v.byteOffset,v.byteOffset+v.byteLength)}const h=ly(),m=await ny(u,h),p=mo(l);localStorage.setItem(p.PRIVATE_KEY,m),localStorage.setItem(p.PUBLIC_KEY,Yi(r))}async function Yr(o){try{const l=mo(o);let u=localStorage.getItem(l.PRIVATE_KEY),r=localStorage.getItem(l.PUBLIC_KEY);if((!u||!r)&&(u=localStorage.getItem(jl.PRIVATE_KEY),r=localStorage.getItem(jl.PUBLIC_KEY)),!u||!r)return null;let h;try{const A=ly();h=await ay(u,A)}catch{h=fo(u)}const m=fo(r);if(Xn){const A=await window.crypto.subtle.importKey("pkcs8",h,uo,!0,["deriveKey","deriveBits"]),T=await window.crypto.subtle.importKey("spki",m,uo,!0,[]);return{privateKey:A,publicKey:T}}const p=qf(new Uint8Array(h)),b=ho.getPublicKey(p,!1),v=cu(b),x=ou(p,b);return{privateKey:{_nobleRaw:p,_noblePkcs8:x},publicKey:{_nobleRaw:b,_nobleSpki:v}}}catch(l){return console.warn("Failed to load keys from storage (may be password-encrypted):",l),null}}async function M0(o){const l=new TextEncoder,u=localStorage.getItem("accord_token")||"",r=localStorage.getItem(jl.PRIVATE_KEY)||"",h=`${o}:${u}:${r.slice(0,32)}`,m=l.encode(h);if(Xn){const p=await window.crypto.subtle.digest("SHA-256",m);return window.crypto.subtle.importKey("raw",p,C0,!1,["encrypt","decrypt"])}return Hs(m)}async function D0(o,l){return M0(l)}const Ir=new Map;async function ya(o,l){if(Ir.has(l))return Ir.get(l);const u=await D0(o,l);return Ir.set(l,u),u}function O0(){Ir.clear()}async function tu(o,l){const u=new TextEncoder().encode(l),r=ro(12);if(Xn&&o instanceof CryptoKey){const v=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},o,u),x=new Uint8Array(r.length+v.byteLength);return x.set(r),x.set(new Uint8Array(v),r.length),Yi(x.buffer)}const h=o instanceof Uint8Array?o:new Uint8Array(0),p=qs(h,r).encrypt(u),b=new Uint8Array(r.length+p.length);return b.set(r),b.set(p,r.length),Hf(b)}async function nu(o,l){const u=A0(l),r=u.slice(0,12),h=u.slice(12);if(Xn&&o instanceof CryptoKey){const v=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},o,h);return new TextDecoder().decode(v)}const m=o instanceof Uint8Array?o:new Uint8Array(0),b=qs(m,r).decrypt(h);return new TextDecoder().decode(b)}async function iy(o,l){const u=ro(12);if(Xn&&o instanceof CryptoKey){const b=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:u},o,l),v=new Uint8Array(u.length+b.byteLength);return v.set(u),v.set(new Uint8Array(b),u.length),v.buffer}const r=o instanceof Uint8Array?o:new Uint8Array(0),m=qs(r,u).encrypt(new Uint8Array(l)),p=new Uint8Array(u.length+m.length);return p.set(u),p.set(m,u.length),p.buffer.slice(p.byteOffset,p.byteOffset+p.byteLength)}async function Nf(o,l){const u=new Uint8Array(l),r=u.slice(0,12),h=u.slice(12);if(Xn&&o instanceof CryptoKey)return window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},o,h);const m=o instanceof Uint8Array?o:new Uint8Array(0),b=qs(m,r).decrypt(h);return b.buffer.slice(b.byteOffset,b.byteOffset+b.byteLength)}async function sy(o,l){return tu(o,l)}async function Ef(o,l){return nu(o,l)}function U0(o){if(o.length!==32)throw new Error("Expected 32 bytes of entropy");const u=Hs(o)[0];let r="";for(const m of o)r+=m.toString(2).padStart(8,"0");r+=u.toString(2).padStart(8,"0");const h=[];for(let m=0;m<24;m++){const p=parseInt(r.slice(m*11,(m+1)*11),2);h.push(Wg[p])}return h.join(" ")}function z0(o){const l=o.trim().toLowerCase().split(/\s+/);if(l.length!==24)throw new Error("Expected 24 words");let u="";for(const v of l){const x=Wg.indexOf(v);if(x===-1)throw new Error(`Unknown word: "${v}"`);u+=x.toString(2).padStart(11,"0")}const r=u.slice(0,256),h=u.slice(256,264),m=new Uint8Array(32);for(let v=0;v<32;v++)m[v]=parseInt(r.slice(v*8,(v+1)*8),2);const b=Hs(m)[0].toString(2).padStart(8,"0");if(h!==b)throw new Error("Invalid mnemonic checksum");return m}async function B0(o){if(o.privateKey._nobleRaw)return o.privateKey._nobleRaw;const l=await window.crypto.subtle.exportKey("pkcs8",o.privateKey);return qf(new Uint8Array(l))}async function pg(o){const l=await B0(o);return U0(l)}function L0(o){const l=z0(o),u=ho.getPublicKey(l,!1),r=cu(u),h=ou(l,u);return{privateKey:{_nobleRaw:l,_noblePkcs8:h},publicKey:{_nobleRaw:u,_nobleSpki:r}}}async function Gr(o,l,u){let r,h;if(Xn&&!o.privateKey._nobleRaw)r=await window.crypto.subtle.exportKey("pkcs8",o.privateKey),h=await window.crypto.subtle.exportKey("spki",o.publicKey);else{const v=o.privateKey._noblePkcs8,x=o.publicKey._nobleSpki;r=v.buffer.slice(v.byteOffset,v.byteOffset+v.byteLength),h=x.buffer.slice(x.byteOffset,x.byteOffset+x.byteLength)}const m=`accord-key-wrap:${l}`,p=await ny(r,m),b=mo(u);localStorage.setItem(b.PRIVATE_KEY,p),localStorage.setItem(b.PUBLIC_KEY,Yi(h)),localStorage.setItem(jl.PRIVATE_KEY,p),localStorage.setItem(jl.PUBLIC_KEY,Yi(h))}async function jf(o,l){const u=mo(l);let r=localStorage.getItem(u.PRIVATE_KEY),h=localStorage.getItem(u.PUBLIC_KEY);(!r||!h)&&(r=localStorage.getItem(jl.PRIVATE_KEY),h=localStorage.getItem(jl.PUBLIC_KEY));try{if(!r||!h)return null;const m=`accord-key-wrap:${o}`,p=await ay(r,m),b=fo(h);if(Xn){const Q=await window.crypto.subtle.importKey("pkcs8",p,uo,!0,["deriveKey","deriveBits"]),U=await window.crypto.subtle.importKey("spki",b,uo,!0,[]);return{privateKey:Q,publicKey:U}}const v=qf(new Uint8Array(p)),x=ho.getPublicKey(v,!1),A=cu(x),T=ou(v,x);return{privateKey:{_nobleRaw:v,_noblePkcs8:T},publicKey:{_nobleRaw:x,_nobleSpki:A}}}catch{return null}}function gg(o){const l=mo(o);return!!localStorage.getItem(l.PUBLIC_KEY)||!!localStorage.getItem(jl.PUBLIC_KEY)}function yf(){return localStorage.getItem(jl.PUBLIC_KEY)}const Kf="accord_token",Yf="accord_token_expiry",H0=1440*60*1e3;function Us(o,l=H0){const u=Date.now()+l;localStorage.setItem(Kf,o),localStorage.setItem(Yf,u.toString())}function q0(){const o=localStorage.getItem(Kf),l=localStorage.getItem(Yf);if(!o)return null;if(l){const u=parseInt(l,10);if(Date.now()>u)return cy(),null}return o}function cy(){localStorage.removeItem(Kf),localStorage.removeItem(Yf)}const K0=({channelId:o,token:l,keyPair:u,encryptionEnabled:r})=>{const h=w.useRef(null),[m,p]=w.useState({isUploading:!1,progress:null,fileName:""}),b=()=>{var A;(A=h.current)==null||A.click()},v=w.useCallback(async A=>{p({isUploading:!0,progress:{loaded:0,total:A.size,percentage:0},fileName:A.name});try{let T=A,Q;if(r&&u)try{const U=await ya(u.privateKey,o),L=await A.arrayBuffer(),J=await iy(U,L);Q=await sy(U,A.name),T=new File([J],"encrypted_file",{type:"application/octet-stream"})}catch(U){console.warn("Failed to encrypt file, uploading plaintext:",U)}await W.uploadFile(o,T,l,Q,(U,L)=>{const J=Math.round(U/L*100);p(te=>({...te,progress:{loaded:U,total:L,percentage:J}}))}),p({isUploading:!1,progress:null,fileName:""}),h.current&&(h.current.value="")}catch(T){console.error("File upload failed:",T),alert(`File upload failed: ${T instanceof Error?T.message:"Unknown error"}`),p({isUploading:!1,progress:null,fileName:""})}},[o,l,u,r]),x=async A=>{var Q;const T=(Q=A.target.files)==null?void 0:Q[0];T&&await v(T)};return s.jsxs("div",{className:"file-upload-wrapper",children:[s.jsx("input",{ref:h,type:"file",onChange:x,style:{display:"none"},disabled:m.isUploading}),s.jsx("button",{onClick:b,disabled:m.isUploading,className:"file-upload-btn",title:"Attach file",children:""}),m.isUploading&&m.progress&&s.jsxs("div",{className:"file-upload-progress",children:[s.jsxs("div",{className:"file-upload-progress-name",children:["Uploading ",m.fileName]}),s.jsx("div",{className:"file-upload-progress-bar-track",children:s.jsx("div",{className:"file-upload-progress-bar-fill",style:{width:`${m.progress.percentage}%`}})}),s.jsxs("div",{className:"file-upload-progress-text",children:[m.progress.percentage,"% (",au(m.progress.loaded)," / ",au(m.progress.total),")"]})]})]})},Y0=({channelId:o,token:l,keyPair:u,encryptionEnabled:r,children:h})=>{const[m,p]=w.useState(!1),[b,v]=w.useState({isUploading:!1,progress:null,fileName:""}),x=w.useRef(0),A=w.useCallback(L=>{L.preventDefault(),L.stopPropagation(),x.current++,L.dataTransfer.items&&L.dataTransfer.items.length>0&&p(!0)},[]),T=w.useCallback(L=>{L.preventDefault(),L.stopPropagation(),x.current--,x.current===0&&p(!1)},[]),Q=w.useCallback(L=>{L.preventDefault(),L.stopPropagation()},[]),U=w.useCallback(async L=>{L.preventDefault(),L.stopPropagation(),p(!1),x.current=0;const J=L.dataTransfer.files;if(!J||J.length===0)return;const te=J[0];v({isUploading:!0,progress:{loaded:0,total:te.size,percentage:0},fileName:te.name});try{let ce=te,me;if(r&&u)try{const fe=await ya(u.privateKey,o),de=await te.arrayBuffer(),ke=await iy(fe,de);me=await sy(fe,te.name),ce=new File([ke],"encrypted_file",{type:"application/octet-stream"})}catch(fe){console.warn("Failed to encrypt file, uploading plaintext:",fe)}await W.uploadFile(o,ce,l,me,(fe,de)=>{const ke=Math.round(fe/de*100);v(He=>({...He,progress:{loaded:fe,total:de,percentage:ke}}))}),v({isUploading:!1,progress:null,fileName:""})}catch(ce){console.error("File upload failed:",ce),alert(`File upload failed: ${ce instanceof Error?ce.message:"Unknown error"}`),v({isUploading:!1,progress:null,fileName:""})}},[o,l,u,r]);return s.jsxs("div",{className:"file-drop-zone",onDragEnter:A,onDragLeave:T,onDragOver:Q,onDrop:U,children:[h,m&&s.jsx("div",{className:"file-drop-overlay",children:s.jsxs("div",{className:"file-drop-overlay-content",children:[s.jsx("span",{className:"file-drop-icon",children:""}),s.jsx("span",{children:"Drop file to upload"})]})}),b.isUploading&&b.progress&&s.jsxs("div",{className:"file-drop-upload-toast",children:[s.jsxs("div",{className:"file-upload-progress-name",children:["Uploading ",b.fileName]}),s.jsx("div",{className:"file-upload-progress-bar-track",children:s.jsx("div",{className:"file-upload-progress-bar-fill",style:{width:`${b.progress.percentage}%`}})}),s.jsxs("div",{className:"file-upload-progress-text",children:[b.progress.percentage,"%"]})]})]})},G0=({file:o,token:l,channelId:u,keyPair:r,encryptionEnabled:h})=>{const[m,p]=w.useState(o.encrypted_filename),[b,v]=w.useState(null),[x,A]=w.useState(!1);w.useEffect(()=>{let U=!1;return(async()=>{let J=o.encrypted_filename;if(h&&r)try{const te=await ya(r.privateKey,u);J=await Ef(te,o.encrypted_filename)}catch{}if(!U&&(p(J),Z0(J)))try{const te=await W.downloadFile(o.id,l);let ce=te;if(h&&r)try{const me=await ya(r.privateKey,u);ce=await Nf(me,te)}catch{}if(!U){const me=new Blob([ce]);v(URL.createObjectURL(me))}}catch{}})(),()=>{U=!0}},[o.id,o.encrypted_filename,u,l,r,h]),w.useEffect(()=>()=>{b&&URL.revokeObjectURL(b)},[b]);const T=async()=>{A(!0);try{const U=await W.downloadFile(o.id,l);let L=U,J=m;if(h&&r)try{const fe=await ya(r.privateKey,u);L=await Nf(fe,U),J=await Ef(fe,o.encrypted_filename)}catch{}const te=new Blob([L]),ce=URL.createObjectURL(te),me=document.createElement("a");me.href=ce,me.download=J,document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(ce)}catch(U){console.error("Download failed:",U),alert(`Download failed: ${U instanceof Error?U.message:"Unknown error"}`)}finally{A(!1)}},Q=oy(m);return s.jsxs("div",{className:"file-attachment",children:[b&&s.jsx("div",{className:"file-attachment-image-preview",children:s.jsx("img",{src:b,alt:m,onClick:T})}),s.jsxs("div",{className:"file-attachment-info",children:[s.jsx("span",{className:"file-attachment-icon",children:Q}),s.jsxs("div",{className:"file-attachment-details",children:[s.jsx("span",{className:"file-attachment-name",title:m,children:m}),s.jsx("span",{className:"file-attachment-size",children:au(o.file_size_bytes)})]}),s.jsx("button",{className:"file-attachment-download",onClick:T,disabled:x,title:"Download",children:x?"":""})]})]})},V0=({channelId:o,token:l,keyPair:u,encryptionEnabled:r})=>{const[h,m]=w.useState([]),[p,b]=w.useState(!1),[v,x]=w.useState(!1),A=w.useCallback(async()=>{if(v){b(!0);try{const L=await W.getChannelFiles(o,l);m(L)}catch(L){console.error("Failed to load files:",L)}finally{b(!1)}}},[o,l,v]);w.useEffect(()=>{A()},[A]);const T=async L=>{try{const J=await W.downloadFile(L.id,l);let te=J,ce=L.encrypted_filename;if(r&&u)try{const ke=await ya(u.privateKey,o);te=await Nf(ke,J),ce=await Ef(ke,L.encrypted_filename)}catch(ke){console.warn("Failed to decrypt file, using encrypted data:",ke)}const me=new Blob([te]),fe=URL.createObjectURL(me),de=document.createElement("a");de.href=fe,de.download=ce,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(fe)}catch(J){console.error("File download failed:",J),alert(`File download failed: ${J instanceof Error?J.message:"Unknown error"}`)}},Q=async L=>{if(confirm(`Are you sure you want to delete "${L.encrypted_filename}"?`))try{await W.deleteFile(L.id,l),await A()}catch(J){console.error("File deletion failed:",J),alert(`File deletion failed: ${J instanceof Error?J.message:"Unknown error"}`)}},U=L=>{const J=new Date(L*1e3);return J.toLocaleDateString()+" "+J.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return s.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[s.jsx("button",{onClick:()=>x(!v),className:"file-list-toggle-btn",title:"Show files",children:""}),v&&s.jsxs("div",{className:"file-list-panel",children:[s.jsxs("div",{className:"file-list-header",children:[s.jsx("div",{className:"file-list-title",children:"Channel Files"}),s.jsx("button",{className:"file-list-close",onClick:()=>x(!1),children:""})]}),p?s.jsx("div",{className:"file-list-empty",children:"Loading files..."}):h.length===0?s.jsx("div",{className:"file-list-empty",children:"No files uploaded yet"}):s.jsx("div",{className:"file-list-items",children:h.map(L=>s.jsxs("div",{className:"file-list-item",children:[s.jsx("div",{className:"file-list-item-icon",children:oy(L.encrypted_filename)}),s.jsxs("div",{className:"file-list-item-info",children:[s.jsx("div",{className:"file-list-item-name",children:L.encrypted_filename}),s.jsxs("div",{className:"file-list-item-meta",children:[au(L.file_size_bytes),"  ",U(L.created_at)]})]}),s.jsxs("div",{className:"file-list-item-actions",children:[s.jsx("button",{onClick:()=>T(L),className:"file-list-item-download",title:"Download",children:""}),s.jsx("button",{onClick:()=>Q(L),className:"file-list-item-delete",title:"Delete",children:""})]})]},L.id))})]})]})};function au(o){if(o===0)return"0 B";const l=1024,u=["B","KB","MB","GB"],r=Math.floor(Math.log(o)/Math.log(l));return parseFloat((o/Math.pow(l,r)).toFixed(1))+" "+u[r]}function Z0(o){var u;const l=((u=o.split(".").pop())==null?void 0:u.toLowerCase())||"";return["jpg","jpeg","png","gif","webp","svg","bmp"].includes(l)}function oy(o){var u;const l=((u=o.split(".").pop())==null?void 0:u.toLowerCase())||"";return["jpg","jpeg","png","gif","webp","svg","bmp"].includes(l)?"":["mp4","webm","mov","avi"].includes(l)?"":["mp3","wav","ogg","flac","aac"].includes(l)?"":["pdf"].includes(l)?"":["zip","tar","gz","rar","7z"].includes(l)?"":["doc","docx","txt","md","rtf"].includes(l)?"":["xls","xlsx","csv"].includes(l)?"":["js","ts","py","rs","go","c","cpp","h","java"].includes(l)?"":["json","yaml","yml","toml","xml"].includes(l)?"":""}const X0=[{name:"Smileys",emojis:["","","","","","","","","","","",""]},{name:"Reactions",emojis:["","","","","","","","","","","",""]},{name:"Objects",emojis:["","","","","","","","","","","",""]}],Q0=({isOpen:o,onToggle:l,onSelect:u,onClose:r})=>{const h=w.useRef(null);return w.useEffect(()=>{if(!o)return;const m=p=>{h.current&&!h.current.contains(p.target)&&r()};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[o,r]),s.jsxs("div",{className:"emoji-picker-wrapper",ref:h,children:[s.jsx("button",{className:"emoji-picker-toggle",onClick:l,title:"Emoji picker",type:"button",children:""}),o&&s.jsx("div",{className:"emoji-picker-popup",children:X0.map(m=>s.jsxs("div",{className:"emoji-picker-category",children:[s.jsx("div",{className:"emoji-picker-category-label",children:m.name}),s.jsx("div",{className:"emoji-picker-grid",children:m.emojis.map(p=>s.jsx("button",{className:"emoji-picker-item",onClick:()=>u(p),type:"button",children:p},p))})]},m.name))})]})},I0=({ws:o,currentUserId:l,channelId:u,channelName:r,onLeave:h,privateKey:m})=>{const[p,b]=w.useState({channelId:null,isConnected:!1,isMuted:!0,isDeafened:!1,outputVolume:100,connectedUsers:[],isCapturingAudio:!1,vadThreshold:.01,isSpeaking:!1}),v=w.useRef(null),x=w.useRef(null),A=w.useRef(null),T=w.useRef(null),Q=w.useRef(null),U=w.useRef(new Map),L=w.useRef(null),J=w.useRef(null),te=w.useCallback(async()=>{try{v.current=new(window.AudioContext||window.webkitAudioContext);const re=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:44100}});x.current=re,A.current=v.current.createAnalyser(),A.current.fftSize=2048,A.current.smoothingTimeConstant=.8,T.current=v.current.createMediaStreamSource(re),Q.current=v.current.createScriptProcessor(4096,1,1),T.current.connect(A.current),A.current.connect(Q.current),Q.current.connect(v.current.destination),Q.current.onaudioprocess=Oe=>{if(p.isMuted)return;const je=Oe.inputBuffer.getChannelData(0),ye=new Int16Array(je.length);for(let O=0;O<je.length;O++)ye[O]=Math.max(-1,Math.min(1,je[O]))*32767;const ie=ye.buffer,Y=btoa(String.fromCharCode(...new Uint8Array(ie)));o&&o.isSocketConnected()&&(async()=>{let E=Y;if(m)try{const K=await ya(m,u);E=await tu(K,Y)}catch{}o.send(JSON.stringify({type:"voice_packet",channel_id:u,user_id:l,data:E,encrypted:!!m}))})()},b(Oe=>({...Oe,isCapturingAudio:!0})),ce()}catch(re){console.error("Failed to initialize audio:",re),alert("Failed to access microphone. Please check permissions.")}},[o,u,l,p.isMuted]),ce=w.useCallback(()=>{L.current||(L.current=setInterval(()=>{if(!A.current||p.isMuted)return;const re=new Uint8Array(A.current.frequencyBinCount);A.current.getByteFrequencyData(re);const ye=re.reduce((ie,Y)=>ie+Y,0)/re.length/255>p.vadThreshold;ye!==p.isSpeaking&&(b(ie=>({...ie,isSpeaking:ye})),o&&o.isSocketConnected()&&o.send(JSON.stringify({type:"voice_speaking",channel_id:u,user_id:l,speaking:ye})),J.current&&clearTimeout(J.current),ye||(J.current=setTimeout(()=>{b(ie=>({...ie,isSpeaking:!1})),o&&o.isSocketConnected()&&o.send(JSON.stringify({type:"voice_speaking",channel_id:u,user_id:l,speaking:!1}))},500)))},100))},[A,p.isMuted,p.vadThreshold,p.isSpeaking,o,u,l]),me=w.useCallback(()=>{L.current&&(clearInterval(L.current),L.current=null),J.current&&(clearTimeout(J.current),J.current=null)},[]),fe=w.useCallback(async(re,Oe)=>{if(!p.isDeafened)try{const je=atob(Oe),ye=new Uint8Array(je.length);for(let V=0;V<je.length;V++)ye[V]=je.charCodeAt(V);const ie=new Int16Array(ye.buffer),Y=new Float32Array(ie.length);for(let V=0;V<ie.length;V++)Y[V]=ie[V]/32767;let O=U.current.get(re);if(!O){const V=new(window.AudioContext||window.webkitAudioContext),ne=V.createGain();ne.connect(V.destination),ne.gain.value=p.outputVolume/100,O={context:V,gainNode:ne},U.current.set(re,O)}const E=O.context.createBuffer(1,Y.length,44100);E.copyToChannel(Y,0);const K=O.context.createBufferSource();K.buffer=E,K.connect(O.gainNode),K.start()}catch(je){console.error("Failed to play audio:",je)}},[p.isDeafened,p.outputVolume]),de=w.useCallback(async()=>{if(!p.isConnected)try{await te(),o&&o.isSocketConnected()&&o.send(JSON.stringify({type:"voice_join",channel_id:u,user_id:l})),b(re=>({...re,channelId:u,isConnected:!0}))}catch(re){console.error("Failed to connect to voice:",re)}},[te,o,u,l,p.isConnected]),ke=w.useCallback(()=>{o&&o.isSocketConnected()&&o.send(JSON.stringify({type:"voice_leave",channel_id:u,user_id:l})),me(),Q.current&&(Q.current.disconnect(),Q.current=null),T.current&&(T.current.disconnect(),T.current=null),A.current&&(A.current.disconnect(),A.current=null),x.current&&(x.current.getTracks().forEach(re=>re.stop()),x.current=null),v.current&&(v.current.close(),v.current=null),U.current.forEach(re=>{re.context.close()}),U.current.clear(),b(re=>({...re,channelId:null,isConnected:!1,connectedUsers:[],isCapturingAudio:!1,isSpeaking:!1})),h()},[o,u,l,me,h]),He=w.useCallback(()=>{b(re=>({...re,isMuted:!re.isMuted}))},[]),Te=w.useCallback(()=>{b(re=>({...re,isDeafened:!re.isDeafened,isMuted:re.isDeafened?re.isMuted:!0}))},[]),we=w.useCallback(re=>{b(Oe=>({...Oe,outputVolume:Math.max(0,Math.min(100,re))})),U.current.forEach(Oe=>{Oe.gainNode.gain.value=re/100})},[]);return w.useEffect(()=>{if(!o)return;const re=ie=>{ie.channel_id===u&&b(Y=>{var O,E;return{...Y,connectedUsers:[...Y.connectedUsers.filter(K=>K.userId!==ie.user_id),{userId:ie.user_id,displayName:((O=ie.public_key_hash)==null?void 0:O.slice(0,16))||`User ${(E=ie.user_id)==null?void 0:E.slice(0,8)}`,isSpeaking:!1,audioLevel:0}]}})},Oe=ie=>{if(ie.channel_id!==u)return;b(O=>({...O,connectedUsers:O.connectedUsers.filter(E=>E.userId!==ie.user_id)}));const Y=U.current.get(ie.user_id);Y&&(Y.context.close(),U.current.delete(ie.user_id))},je=async ie=>{if(ie.channel_id!==u||ie.user_id===l)return;let Y=ie.data;if(ie.encrypted&&m)try{const O=await ya(m,u);Y=await nu(O,ie.data)}catch{}fe(ie.user_id,Y)},ye=ie=>{ie.channel_id===u&&b(Y=>({...Y,connectedUsers:Y.connectedUsers.map(O=>O.userId===ie.user_id?{...O,isSpeaking:ie.speaking}:O)}))};return o.on("voice_join",re),o.on("voice_leave",Oe),o.on("voice_packet",je),o.on("voice_speaking",ye),()=>{o.off("voice_join",re),o.off("voice_leave",Oe),o.off("voice_packet",je),o.off("voice_speaking",ye)}},[o,u,l,fe]),w.useEffect(()=>(de(),()=>{ke()}),[]),s.jsxs("div",{style:{position:"fixed",bottom:0,left:"312px",right:"240px",height:"120px",background:"#2f3136",borderTop:"1px solid #202225",display:"flex",flexDirection:"column",zIndex:1e3},children:[s.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #202225",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:"#43b581"},children:" Voice Connected"}),s.jsx("span",{style:{fontSize:"13px",color:"#b9bbbe"},children:r})]}),s.jsx("button",{onClick:ke,style:{background:"#f04747",border:"none",color:"#ffffff",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Disconnect"})]}),s.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[s.jsxs("span",{style:{fontSize:"12px",color:"#8e9297",marginRight:"8px"},children:["Users (",p.connectedUsers.length+1,"):"]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"4px",background:p.isSpeaking?"rgba(67, 181, 129, 0.3)":"transparent",border:p.isSpeaking?"2px solid #43b581":"2px solid transparent",transition:"all 0.2s"},children:[s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#fff"},children:"U"}),s.jsx("span",{style:{fontSize:"12px",color:"#dcddde"},children:"You"}),p.isMuted&&s.jsx("span",{style:{fontSize:"10px",color:"#f04747"},children:""})]}),p.connectedUsers.map(re=>{var Oe;return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"4px",background:re.isSpeaking?"rgba(67, 181, 129, 0.3)":"transparent",border:re.isSpeaking?"2px solid #43b581":"2px solid transparent",transition:"all 0.2s"},children:[s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#fff"},children:(Oe=re.displayName[0])==null?void 0:Oe.toUpperCase()}),s.jsx("span",{style:{fontSize:"12px",color:"#dcddde"},children:re.displayName})]},re.userId)})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("button",{onClick:He,style:{width:"36px",height:"36px",borderRadius:"50%",border:"none",background:p.isMuted?"#f04747":"#3ba55d",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},title:p.isMuted?"Unmute":"Mute",children:p.isMuted?"":""}),s.jsx("button",{onClick:Te,style:{width:"36px",height:"36px",borderRadius:"50%",border:"none",background:p.isDeafened?"#f04747":"#4f545c",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},title:p.isDeafened?"Undeafen":"Deafen",children:p.isDeafened?"":""}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",minWidth:"120px"},children:[s.jsx("span",{style:{fontSize:"12px",color:"#8e9297"},children:"Vol:"}),s.jsx("input",{type:"range",min:"0",max:"100",value:p.outputVolume,onChange:re=>we(parseInt(re.target.value)),style:{flex:1,height:"4px",borderRadius:"2px",background:"#4f545c",outline:"none",cursor:"pointer"}}),s.jsxs("span",{style:{fontSize:"11px",color:"#8e9297",minWidth:"25px"},children:[p.outputVolume,"%"]})]})]})]})]})},J0=({isVisible:o,onClose:l,nodeId:u,channels:r,token:h,onNavigateToMessage:m})=>{const[p,b]=w.useState(""),[v,x]=w.useState(""),[A,T]=w.useState([]),[Q,U]=w.useState(!1),[L,J]=w.useState(""),[te,ce]=w.useState(""),me=w.useRef(null),fe=w.useRef(void 0);w.useEffect(()=>{o&&me.current&&me.current.focus()},[o]);const de=w.useCallback(async(we,re)=>{if(!u||!h||!we.trim()){T([]),ce("");return}U(!0),J("");try{const Oe=await W.searchMessages(u,we.trim(),h,re||void 0);T(Oe.results),ce(Oe.note||"")}catch(Oe){J(Oe instanceof Error?Oe.message:"Search failed"),T([]),ce("")}finally{U(!1)}},[u,h]),ke=w.useCallback(we=>{b(we),fe.current&&window.clearTimeout(fe.current),fe.current=window.setTimeout(()=>{de(we,v)},300)},[de,v]),He=w.useCallback(we=>{x(we),p.trim()&&de(p,we)},[p,de]),Te=we=>{m(we.channel_id,we.message_id),l()};return w.useEffect(()=>{const we=re=>{re.key==="Escape"&&o&&l()};if(o)return document.addEventListener("keydown",we),()=>{document.removeEventListener("keydown",we)}},[o,l]),w.useEffect(()=>()=>{fe.current&&window.clearTimeout(fe.current)},[]),o?s.jsxs("div",{className:"search-overlay",children:[s.jsx("div",{className:"search-overlay-backdrop",onClick:l}),s.jsxs("div",{className:"search-overlay-content",children:[s.jsxs("div",{className:"search-overlay-header",children:[s.jsx("h3",{children:"Search Messages"}),s.jsx("button",{className:"search-overlay-close",onClick:l,children:""})]}),s.jsxs("div",{className:"search-overlay-body",children:[s.jsxs("div",{className:"search-controls",children:[s.jsxs("div",{className:"search-input-container",children:[s.jsx("input",{ref:me,type:"text",placeholder:"Search messages...",value:p,onChange:we=>ke(we.target.value),className:"search-input"}),Q&&s.jsx("div",{className:"search-loading",children:""})]}),s.jsx("div",{className:"search-filter",children:s.jsxs("select",{value:v,onChange:we=>He(we.target.value),className:"channel-filter-select",children:[s.jsx("option",{value:"",children:"All channels"}),r.map(we=>s.jsxs("option",{value:we.id,children:["#",we.name]},we.id))]})})]}),te&&s.jsxs("div",{className:"search-note",children:[" ",te]}),L&&s.jsxs("div",{className:"search-error",children:[" ",L]}),s.jsxs("div",{className:"search-results",children:[A.length===0&&p.trim()&&!Q&&!L&&s.jsxs("div",{className:"search-no-results",children:['No messages found for "',p,'"']}),A.map(we=>{var re;return s.jsxs("div",{className:"search-result",onClick:()=>Te(we),children:[s.jsxs("div",{className:"search-result-header",children:[s.jsx("span",{className:"search-result-sender",children:((re=we.sender_public_key_hash)==null?void 0:re.slice(0,16))||"Unknown"}),s.jsxs("span",{className:"search-result-channel",children:["#",we.channel_name]}),s.jsx("span",{className:"search-result-time",children:new Date(we.timestamp).toLocaleString()})]}),s.jsx("div",{className:"search-result-snippet",children:"Click to view message"})]},we.message_id)})]})]}),s.jsx("div",{className:"search-overlay-footer",children:s.jsx("div",{className:"search-encryption-note",children:" Content search requires client-side decryption"})})]})]}):null};function $0({isOpen:o,onClose:l,node:u,token:r,userRole:h,onNodeUpdated:m,onLeaveNode:p}){const[b,v]=w.useState("general"),[x,A]=w.useState([]),[T,Q]=w.useState(!1),[U,L]=w.useState(""),[J,te]=w.useState(""),[ce,me]=w.useState([]),[fe,de]=w.useState(!1),[ke,He]=w.useState("all"),[Te,we]=w.useState(!0),[re,Oe]=w.useState(),[je,ye]=w.useState(u.name),[ie,Y]=w.useState(u.description||""),[O,E]=w.useState(!1),[K,V]=w.useState(!1),[ne,se]=w.useState(""),[S,D]=w.useState(""),[H,le]=w.useState(!1),P=h==="admin",ae=h==="admin"||h==="moderator",pe=h==="admin"||h==="moderator",Me=w.useCallback(async()=>{if(ae){Q(!0),L("");try{const oe=await W.getNodeInvites(u.id,r);A(oe)}catch(oe){L(oe instanceof Error?oe.message:"Failed to load invites")}finally{Q(!1)}}},[u.id,r,ae]),Ue=w.useCallback(async()=>{le(!0),L("");try{const oe=ne?parseInt(ne,10):void 0,Ie=S?parseInt(S,10):void 0;await W.createInviteWithOptions(u.id,r,oe,Ie),te("Invite created successfully!"),se(""),D(""),V(!1),await Me()}catch(oe){L(oe instanceof Error?oe.message:"Failed to create invite")}finally{le(!1)}},[u.id,r,ne,S,Me]),ze=w.useCallback(async oe=>{if(confirm("Are you sure you want to revoke this invite?"))try{await W.revokeInvite(u.id,oe,r),te("Invite revoked successfully!"),await Me()}catch(Ie){L(Ie instanceof Error?Ie.message:"Failed to revoke invite")}},[u.id,r,Me]),$e=w.useCallback(async(oe=!1)=>{if(pe){de(!0),L("");try{const Ie=oe?void 0:re,k=await W.getNodeAuditLog(u.id,r,50,Ie),ge=Array.isArray(k==null?void 0:k.entries)?k.entries:[];me(oe?ge:Ze=>[...Ze,...ge]),we((k==null?void 0:k.has_more)??!1),Oe(k==null?void 0:k.next_cursor)}catch(Ie){L(Ie instanceof Error?Ie.message:"Failed to load audit log")}finally{de(!1)}}},[u.id,r,pe,re]),Wt=w.useCallback(async()=>{!Te||fe||await $e(!1)},[Te,fe,$e]),jt=w.useCallback(()=>ke==="all"?ce:ce.filter(oe=>oe.action===ke),[ce,ke]),Zt=oe=>{switch(oe){case"channel_create":return"";case"channel_delete":return"";case"member_kick":return"";case"member_ban":return"";case"role_change":return"";case"invite_create":return"";case"invite_revoke":return"";case"message_pin":return"";case"message_unpin":return"";case"message_delete":return"";case"node_settings_update":return"";default:return""}},Ht=oe=>{const Ie=oe.details?JSON.parse(oe.details):{};switch(oe.action){case"channel_create":return`created channel #${Ie.channel_name||"unknown"}`;case"channel_delete":return`deleted channel #${Ie.channel_name||"unknown"}`;case"member_kick":return"kicked a user";case"member_ban":return"banned a user";case"role_change":return`changed user role to ${Ie.new_role||"unknown"}`;case"invite_create":return"created an invite";case"invite_revoke":return`revoked invite ${Ie.invite_code||"unknown"}`;case"message_pin":return"pinned a message";case"message_unpin":return"unpinned a message";case"message_delete":return"deleted a message";case"node_settings_update":return"updated node settings";default:return oe.action.replace(/_/g," ")}},on=w.useCallback(async()=>{if(P){E(!0),L("");try{if(te("Node settings saved!"),m){const oe={...u,name:je,description:ie};m(oe)}}catch(oe){L(oe instanceof Error?oe.message:"Failed to update node")}finally{E(!1)}}},[P,je,ie,u,m]),Rn=w.useCallback(async()=>{if(confirm(P?"Are you sure you want to leave this Node? As the admin, this will delete the Node permanently!":"Are you sure you want to leave this Node?"))try{await W.leaveNode(u.id,r),te("Left Node successfully!"),setTimeout(()=>{p==null||p(),l()},1e3)}catch(Ie){L(Ie instanceof Error?Ie.message:"Failed to leave node")}},[P,u.id,r,p,l]),Pt=oe=>{navigator.clipboard.writeText(oe).then(()=>{te("Invite code copied to clipboard!")}).catch(()=>{const Ie=document.createElement("textarea");Ie.value=oe,document.body.appendChild(Ie),Ie.select(),document.execCommand("copy"),document.body.removeChild(Ie),te("Invite code copied to clipboard!")})},nn=oe=>new Date(oe*1e3).toLocaleDateString()+" "+new Date(oe*1e3).toLocaleTimeString(),yn=oe=>!!(oe.expires_at&&oe.expires_at*1e3<Date.now()),rn=oe=>!!(oe.max_uses&&oe.uses>=oe.max_uses);return w.useEffect(()=>{o&&b==="invites"&&ae&&Me()},[o,b,ae,Me]),w.useEffect(()=>{o&&b==="audit"&&pe&&$e(!0)},[o,b,pe,$e]),w.useEffect(()=>{if(J){const oe=setTimeout(()=>te(""),3e3);return()=>clearTimeout(oe)}},[J]),w.useEffect(()=>{if(U){const oe=setTimeout(()=>L(""),5e3);return()=>clearTimeout(oe)}},[U]),o?s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001},children:s.jsxs("div",{style:{background:"#36393f",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"80vh",color:"#ffffff",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #40444b",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsx("h2",{style:{margin:0,fontSize:"20px"},children:"Node Settings"}),s.jsx("button",{onClick:l,style:{background:"none",border:"none",color:"#b9bbbe",fontSize:"24px",cursor:"pointer",padding:"0",lineHeight:1},children:""})]}),s.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #40444b",background:"#2f3136"},children:[s.jsx("button",{onClick:()=>v("general"),style:{background:b==="general"?"#40444b":"transparent",border:"none",color:b==="general"?"#ffffff":"#b9bbbe",padding:"12px 20px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"General"}),ae&&s.jsx("button",{onClick:()=>v("invites"),style:{background:b==="invites"?"#40444b":"transparent",border:"none",color:b==="invites"?"#ffffff":"#b9bbbe",padding:"12px 20px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Invites"}),pe&&s.jsx("button",{onClick:()=>v("audit"),style:{background:b==="audit"?"#40444b":"transparent",border:"none",color:b==="audit"?"#ffffff":"#b9bbbe",padding:"12px 20px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Audit Log"})]}),s.jsxs("div",{style:{flex:1,padding:"20px",overflowY:"auto"},children:[b==="general"&&s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#b9bbbe"},children:"Node Name"}),s.jsx("input",{type:"text",value:je,onChange:oe=>ye(oe.target.value),disabled:!P||O,maxLength:32,style:{width:"100%",padding:"10px",borderRadius:"4px",border:"none",background:P?"#40444b":"#2f3136",color:"#ffffff",fontSize:"14px"}})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#b9bbbe"},children:"Description"}),s.jsx("textarea",{value:ie,onChange:oe=>Y(oe.target.value),disabled:!P||O,maxLength:200,rows:3,style:{width:"100%",padding:"10px",borderRadius:"4px",border:"none",background:P?"#40444b":"#2f3136",color:"#ffffff",fontSize:"14px",resize:"vertical"}})]}),P&&s.jsx("div",{style:{marginBottom:"20px"},children:s.jsx("button",{onClick:on,disabled:O,style:{background:"#43b581",border:"none",color:"#ffffff",padding:"10px 16px",borderRadius:"4px",cursor:O?"not-allowed":"pointer",fontSize:"14px",opacity:O?.6:1},children:O?"Saving...":"Save Changes"})}),s.jsxs("div",{style:{marginTop:"40px",paddingTop:"20px",borderTop:"1px solid #40444b"},children:[s.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",color:P?"#f04747":"#faa61a"},children:P?"Delete Node":"Leave Node"}),s.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"#b9bbbe"},children:P?"Permanently delete this Node. This action cannot be undone.":"Leave this Node. You can rejoin later with an invite."}),s.jsx("button",{onClick:Rn,style:{background:P?"#f04747":"#faa61a",border:"none",color:"#ffffff",padding:"10px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:P?"Delete Node":"Leave Node"})]})]}),b==="invites"&&ae&&s.jsxs("div",{children:[s.jsx("div",{style:{marginBottom:"24px"},children:K?s.jsxs("div",{style:{background:"#40444b",padding:"16px",borderRadius:"8px",marginBottom:"16px"},children:[s.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:"16px"},children:"Create New Invite"}),s.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"12px",color:"#b9bbbe"},children:"Max Uses (optional)"}),s.jsx("input",{type:"number",placeholder:"",value:ne,onChange:oe=>se(oe.target.value),min:"1",max:"100",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"none",background:"#36393f",color:"#ffffff",fontSize:"14px"}})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"12px",color:"#b9bbbe"},children:"Expires in (hours)"}),s.jsx("input",{type:"number",placeholder:"Never",value:S,onChange:oe=>D(oe.target.value),min:"1",max:"8760",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"none",background:"#36393f",color:"#ffffff",fontSize:"14px"}})]})]}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{onClick:Ue,disabled:H,style:{background:"#43b581",border:"none",color:"#ffffff",padding:"8px 12px",borderRadius:"4px",cursor:H?"not-allowed":"pointer",fontSize:"13px",opacity:H?.6:1},children:H?"Creating...":"Create"}),s.jsx("button",{onClick:()=>{V(!1),se(""),D("")},disabled:H,style:{background:"#4f545c",border:"none",color:"#ffffff",padding:"8px 12px",borderRadius:"4px",cursor:H?"not-allowed":"pointer",fontSize:"13px"},children:"Cancel"})]})]}):s.jsx("button",{onClick:()=>V(!0),style:{background:"#7289da",border:"none",color:"#ffffff",padding:"10px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:" Create Invite"})}),s.jsxs("div",{children:[s.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:"16px"},children:"Active Invites"}),T?s.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#b9bbbe"},children:"Loading invites..."}):x.length===0?s.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#72767d"},children:"No active invites"}):s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:x.map(oe=>{const Ie=yn(oe),k=rn(oe),ge=Ie||k;return s.jsxs("div",{style:{background:"#40444b",padding:"12px",borderRadius:"6px",border:ge?"1px solid #f04747":"none",opacity:ge?.7:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[s.jsx("code",{style:{background:"#2f3136",padding:"4px 8px",borderRadius:"4px",fontSize:"13px",fontFamily:"monospace"},children:oe.code}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{onClick:()=>Pt(oe.code),disabled:ge,style:{background:"#7289da",border:"none",color:"#ffffff",padding:"4px 8px",borderRadius:"4px",cursor:ge?"not-allowed":"pointer",fontSize:"12px",opacity:ge?.5:1},children:"Copy"}),s.jsx("button",{onClick:()=>ze(oe.code),style:{background:"#f04747",border:"none",color:"#ffffff",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Revoke"})]})]}),s.jsxs("div",{style:{fontSize:"12px",color:"#b9bbbe",display:"flex",flexWrap:"wrap",gap:"16px"},children:[s.jsxs("span",{children:["Created: ",nn(oe.created_at)]}),s.jsxs("span",{children:["Uses: ",oe.uses,oe.max_uses?`/${oe.max_uses}`:""]}),oe.expires_at&&s.jsxs("span",{style:{color:Ie?"#f04747":"#b9bbbe"},children:[Ie?"Expired: ":"Expires: ",nn(oe.expires_at)]}),k&&s.jsx("span",{style:{color:"#f04747"},children:"Max uses reached"})]})]},oe.code)})})]})]}),b==="audit"&&pe&&s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#b9bbbe"},children:"Filter by Action"}),s.jsxs("select",{value:ke,onChange:oe=>He(oe.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"none",background:"#40444b",color:"#ffffff",fontSize:"14px",cursor:"pointer",minWidth:"200px"},children:[s.jsx("option",{value:"all",children:"All Actions"}),s.jsx("option",{value:"channel_create",children:"Channel Create"}),s.jsx("option",{value:"channel_delete",children:"Channel Delete"}),s.jsx("option",{value:"member_kick",children:"Member Kick"}),s.jsx("option",{value:"role_change",children:"Role Change"}),s.jsx("option",{value:"invite_create",children:"Invite Create"}),s.jsx("option",{value:"invite_revoke",children:"Invite Revoke"}),s.jsx("option",{value:"message_pin",children:"Message Pin"}),s.jsx("option",{value:"message_unpin",children:"Message Unpin"}),s.jsx("option",{value:"message_delete",children:"Message Delete"}),s.jsx("option",{value:"node_settings_update",children:"Settings Update"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:"16px"},children:"Recent Activity"}),fe&&ce.length===0?s.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#b9bbbe"},children:"Loading audit log..."}):jt().length===0?s.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#72767d"},children:"No audit entries found"}):s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"400px",overflowY:"auto"},children:[jt().map(oe=>{var Ie;return s.jsxs("div",{style:{background:"#40444b",padding:"12px",borderRadius:"6px",display:"flex",alignItems:"flex-start",gap:"12px"},children:[s.jsx("div",{style:{fontSize:"18px",marginTop:"2px"},children:Zt(oe.action)}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:{marginBottom:"4px",fontSize:"14px"},children:[s.jsx("span",{style:{fontWeight:"600",color:"#ffffff"},children:((Ie=oe.actor_public_key_hash)==null?void 0:Ie.slice(0,16))||"Unknown"})," ",s.jsx("span",{style:{color:"#b9bbbe"},children:Ht(oe)})]}),s.jsxs("div",{style:{fontSize:"12px",color:"#72767d",display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("span",{children:nn(oe.created_at)}),s.jsx("span",{style:{background:"#2f3136",padding:"2px 6px",borderRadius:"3px",fontSize:"11px",fontFamily:"monospace"},children:oe.target_type})]})]})]},oe.id)}),Te&&s.jsx("div",{style:{textAlign:"center",marginTop:"12px"},children:s.jsx("button",{onClick:Wt,disabled:fe,style:{background:"#7289da",border:"none",color:"#ffffff",padding:"8px 16px",borderRadius:"4px",cursor:fe?"not-allowed":"pointer",fontSize:"13px",opacity:fe?.6:1},children:fe?"Loading...":"Load More"})})]})]})]})]}),(U||J)&&s.jsx("div",{style:{position:"absolute",top:"16px",right:"16px",background:U?"#f04747":"#43b581",color:"#ffffff",padding:"8px 12px",borderRadius:"4px",fontSize:"14px",maxWidth:"300px",zIndex:1002},children:U||J})]})}):null}class F0{constructor(){ue(this,"preferences");ue(this,"unreads",{});ue(this,"currentUsername","");ue(this,"windowFocused",!0);ue(this,"activeChannelId",null);ue(this,"audioContext",null);this.preferences=this.loadPreferences(),this.setupWindowFocusHandlers(),this.requestNotificationPermission(),this.initAudioContext()}loadPreferences(){const l=localStorage.getItem("accord_notification_preferences");return l?JSON.parse(l):{enabled:!0,mode:"all",sounds:!0}}savePreferences(){localStorage.setItem("accord_notification_preferences",JSON.stringify(this.preferences))}loadUnreads(){const l=localStorage.getItem("accord_unreads");return l?JSON.parse(l):{}}saveUnreads(){localStorage.setItem("accord_unreads",JSON.stringify(this.unreads))}setupWindowFocusHandlers(){window.addEventListener("focus",()=>{this.windowFocused=!0}),window.addEventListener("blur",()=>{this.windowFocused=!1}),this.windowFocused=document.hasFocus()}async requestNotificationPermission(){"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()}initAudioContext(){(typeof AudioContext<"u"||typeof window.webkitAudioContext<"u")&&(this.audioContext=new(AudioContext||window.webkitAudioContext))}setActiveChannel(l){this.activeChannelId=l}setCurrentUsername(l){this.currentUsername=l,this.unreads=this.loadUnreads()}getPreferences(){return{...this.preferences}}updatePreferences(l){this.preferences={...this.preferences,...l},this.savePreferences()}getNodeUnreads(l){const u=this.unreads[l];return u?{totalUnreads:u.totalUnreads,totalMentions:u.totalMentions}:{totalUnreads:0,totalMentions:0}}getChannelUnreads(l,u){const r=this.unreads[l];return!r||!r.channels[u]?{lastReadMessageId:null,count:0,mentions:0,lastMessageTimestamp:0}:r.channels[u]}markChannelAsRead(l,u,r){this.unreads[l]||(this.unreads[l]={totalUnreads:0,totalMentions:0,channels:{}}),this.unreads[l].channels[u]||(this.unreads[l].channels[u]={lastReadMessageId:null,count:0,mentions:0,lastMessageTimestamp:0});const h=this.unreads[l].channels[u];this.unreads[l].totalUnreads-=h.count,this.unreads[l].totalMentions-=h.mentions,h.count=0,h.mentions=0,r&&(h.lastReadMessageId=r,h.lastMessageTimestamp=Date.now()),this.unreads[l].totalUnreads=Math.max(0,this.unreads[l].totalUnreads),this.unreads[l].totalMentions=Math.max(0,this.unreads[l].totalMentions),this.saveUnreads()}addMessage(l,u,r){if(r.author===this.currentUsername)return;this.unreads[l]||(this.unreads[l]={totalUnreads:0,totalMentions:0,channels:{}}),this.unreads[l].channels[u]||(this.unreads[l].channels[u]={lastReadMessageId:null,count:0,mentions:0,lastMessageTimestamp:0});const h=this.unreads[l].channels[u];if(!h.lastReadMessageId||r.timestamp>h.lastMessageTimestamp){const p=this.containsMention(r.content);h.count++,this.unreads[l].totalUnreads++,p&&(h.mentions++,this.unreads[l].totalMentions++),h.lastMessageTimestamp=Math.max(h.lastMessageTimestamp,r.timestamp),this.saveUnreads(),this.handleMessageNotification(r,u,p)}}containsMention(l){if(!this.currentUsername)return!1;const u=l.toLowerCase(),r=this.currentUsername.toLowerCase();return u.includes(`@${r}`)||u.includes("@everyone")}highlightMentions(l){if(!this.currentUsername)return l;const u=window.DOMPurify;let h=u?u.sanitize(l,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}):this.escapeHtml(l);const m=this.escapeRegExp(this.currentUsername),p=new RegExp(`(@${m})`,"gi");h=h.replace(p,'<span class="mention">$1</span>');const b=new RegExp("(@everyone)","gi");return h=h.replace(b,'<span class="mention mention-everyone">$1</span>'),h}escapeHtml(l){const u=document.createElement("div");return u.textContent=l,u.innerHTML}escapeRegExp(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}handleMessageNotification(l,u,r){if(!this.preferences.enabled||this.windowFocused&&this.activeChannelId===u)return;(this.preferences.mode==="all"||this.preferences.mode==="mentions"&&r)&&(this.showDesktopNotification(l,u,r),this.preferences.sounds&&this.playNotificationSound())}showDesktopNotification(l,u,r){if("Notification"in window&&Notification.permission==="granted"){const h=r?`${l.author} mentioned you`:`${l.author}`,m=l.content.length>100?l.content.substring(0,100)+"...":l.content,p=new Notification(h,{body:m,icon:"/favicon.ico",badge:"/favicon.ico",tag:u});setTimeout(()=>{p.close()},5e3),p.onclick=()=>{window.focus(),p.close()}}}playNotificationSound(){if(this.audioContext)try{const l=this.audioContext.createOscillator(),u=this.audioContext.createGain();l.connect(u),u.connect(this.audioContext.destination),l.frequency.setValueAtTime(800,this.audioContext.currentTime),l.frequency.setValueAtTime(600,this.audioContext.currentTime+.1),u.gain.setValueAtTime(0,this.audioContext.currentTime),u.gain.linearRampToValueAtTime(.1,this.audioContext.currentTime+.01),u.gain.exponentialRampToValueAtTime(.001,this.audioContext.currentTime+.2),l.start(this.audioContext.currentTime),l.stop(this.audioContext.currentTime+.2)}catch(l){console.warn("Failed to play notification sound:",l)}}getAllUnreads(){return{...this.unreads}}clearAllUnreads(){this.unreads={},this.saveUnreads()}clearNodeUnreads(l){delete this.unreads[l],this.saveUnreads()}}const xt=new F0,W0=({isOpen:o,onClose:l,preferences:u,onPreferencesChange:r})=>{if(!o)return null;const h=A=>{const T={...u,mode:A};r(T)},m=()=>{const A={...u,enabled:!u.enabled};r(A)},p=()=>{const A={...u,sounds:!u.sounds};r(A)},b=()=>{"Notification"in window&&(Notification.permission==="granted"?new Notification("Test Notification",{body:"This is a test notification from Accord!",icon:"/favicon.ico"}):Notification.permission!=="denied"&&Notification.requestPermission().then(A=>{A==="granted"&&new Notification("Test Notification",{body:"This is a test notification from Accord!",icon:"/favicon.ico"})}))},v=()=>{u.sounds&&xt.playNotificationSound()},x=()=>{xt.clearAllUnreads(),r({...u})};return s.jsx("div",{className:"notification-modal",children:s.jsxs("div",{className:"notification-modal-content",children:[s.jsx("h3",{style:{margin:"0 0 16px 0",color:"#ffffff"},children:"Notification Settings"}),s.jsxs("div",{className:"notification-setting",children:[s.jsx("label",{children:"Enable Notifications"}),s.jsx("div",{className:`notification-checkbox ${u.enabled?"checked":""}`,onClick:m,children:u.enabled&&""})]}),s.jsxs("div",{className:"notification-setting",children:[s.jsx("label",{children:"Notification Mode"}),s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{className:`notification-toggle ${u.mode==="all"?"active":""}`,onClick:()=>h("all"),children:"All"}),s.jsx("button",{className:`notification-toggle ${u.mode==="mentions"?"active":""}`,onClick:()=>h("mentions"),children:"Mentions"}),s.jsx("button",{className:`notification-toggle ${u.mode==="none"?"active":""}`,onClick:()=>h("none"),children:"None"})]})]}),s.jsxs("div",{className:"notification-setting",children:[s.jsx("label",{children:"Sound Notifications"}),s.jsx("div",{className:`notification-checkbox ${u.sounds?"checked":""}`,onClick:p,children:u.sounds&&""})]}),s.jsxs("div",{style:{marginTop:"24px",paddingTop:"16px",borderTop:"1px solid #40444b"},children:[s.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[s.jsx("button",{onClick:b,style:{flex:1,background:"#7289da",border:"none",color:"#ffffff",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Test Notification"}),s.jsx("button",{onClick:v,style:{flex:1,background:"#43b581",border:"none",color:"#ffffff",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Test Sound"})]}),s.jsx("button",{onClick:x,style:{width:"100%",background:"#f04747",border:"none",color:"#ffffff",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",marginBottom:"12px"},children:"Clear All Unread Counts"})]}),s.jsx("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",marginTop:"16px"},children:s.jsx("button",{onClick:l,style:{background:"#747f8d",border:"none",color:"#ffffff",padding:"8px 16px",borderRadius:"4px",cursor:"pointer"},children:"Close"})}),s.jsxs("div",{style:{fontSize:"11px",color:"#72767d",marginTop:"12px",lineHeight:"1.4"},children:[s.jsx("strong",{children:"Tips:"}),s.jsx("br",{})," Desktop notifications only show when window is not focused",s.jsx("br",{})," @username and @everyone will be highlighted in messages",s.jsx("br",{})," Orange badges show mentions, red badges show regular unreads"]})]})})},yg={displayName:"",bio:"",status:"online"},vg={theme:"dark",fontSize:15,messageDensity:"comfortable"},bg={inputDevice:"default",outputDevice:"default",inputVolume:100,outputVolume:100,vadSensitivity:50,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},xg={readReceipts:!0,typingIndicators:!0,blockedUsers:[]},P0=({isOpen:o,onClose:l,currentUser:u,onUserUpdate:r,serverInfo:h})=>{const[m,p]=w.useState("account"),[b,v]=w.useState(yg),[x,A]=w.useState(vg),[T,Q]=w.useState(xt.getPreferences()),[U,L]=w.useState(bg),[J,te]=w.useState(xg),[ce,me]=w.useState([]),[fe,de]=w.useState([]),[ke,He]=w.useState(""),[Te,we]=w.useState(!1),[re,Oe]=w.useState(!1),[je,ye]=w.useState(""),[ie,Y]=w.useState(""),[O,E]=w.useState(!1);w.useEffect(()=>{o&&((()=>{try{const ge=localStorage.getItem("accord_account_settings");ge?v({...yg,...JSON.parse(ge)}):u&&v({displayName:u.displayName||u.display_name||u.username||u.public_key_hash.slice(0,16),bio:u.bio||"",status:u.status||"online"});const Ze=localStorage.getItem("accord_appearance_settings");if(Ze){const Le=JSON.parse(Ze);if(typeof Le.fontSize=="string"){const Z={small:13,medium:15,large:17};Le.fontSize=Z[Le.fontSize]||15}Le.compactMode!==void 0&&!Le.messageDensity&&(Le.messageDensity=Le.compactMode?"compact":"comfortable",delete Le.compactMode),A({...vg,...Le})}const Ye=localStorage.getItem("accord_voice_settings");Ye&&L({...bg,...JSON.parse(Ye)});const bt=localStorage.getItem("accord_privacy_settings");bt&&te({...xg,...JSON.parse(bt)}),Q(xt.getPreferences())}catch(ge){console.error("Error loading settings:",ge)}})(),K(),we(!1),ye(""),E(!1))},[o,u]),w.useEffect(()=>{le(x)},[x]);const K=w.useCallback(async()=>{try{const k=await navigator.mediaDevices.enumerateDevices();me(k.filter(ge=>ge.kind==="audioinput")),de(k.filter(ge=>ge.kind==="audiooutput")),He("")}catch(k){He("Failed to load audio devices"),console.error("Error loading media devices:",k)}},[]),V=w.useCallback(k=>{v(k),we(!0),ye("")},[]),ne=w.useCallback(async()=>{Oe(!0),ye("");try{const k=localStorage.getItem("accord_token")||(u?localStorage.getItem(`accord_token_${W.getBaseUrl().replace(/https?:\/\//,"")}`):null);k&&await W.updateProfile({display_name:b.displayName,bio:b.bio},k),localStorage.setItem("accord_account_settings",JSON.stringify(b)),r==null||r(b),we(!1),ye("Profile saved!")}catch(k){console.error("Failed to save profile:",k),localStorage.setItem("accord_account_settings",JSON.stringify(b)),r==null||r(b),we(!1),ye("Saved locally (server sync failed)")}finally{Oe(!1)}},[b,u,r]),se=w.useCallback(k=>{localStorage.setItem("accord_appearance_settings",JSON.stringify(k)),A(k)},[]),S=w.useCallback(k=>{localStorage.setItem("accord_voice_settings",JSON.stringify(k)),L(k)},[]),D=w.useCallback(k=>{localStorage.setItem("accord_privacy_settings",JSON.stringify(k)),te(k)},[]),H=w.useCallback(k=>{xt.updatePreferences(k),Q(k)},[]),le=k=>{const ge=document.documentElement;k.theme==="light"?(ge.style.setProperty("--bg-primary","#ffffff"),ge.style.setProperty("--bg-secondary","#f6f6f6"),ge.style.setProperty("--bg-tertiary","#e3e5e8"),ge.style.setProperty("--text-primary","#2e3338"),ge.style.setProperty("--text-secondary","#747f8d")):(ge.style.setProperty("--bg-primary","#36393f"),ge.style.setProperty("--bg-secondary","#2f3136"),ge.style.setProperty("--bg-tertiary","#202225"),ge.style.setProperty("--text-primary","#dcddde"),ge.style.setProperty("--text-secondary","#8e9297")),ge.style.setProperty("--font-size",`${k.fontSize}px`),localStorage.setItem("accord_font_size",String(k.fontSize));const Ze={compact:"2px",comfortable:"8px",cozy:"16px"};ge.style.setProperty("--message-spacing",Ze[k.messageDensity]),localStorage.setItem("accord_message_density",k.messageDensity),document.body.className=`theme-${k.theme} density-${k.messageDensity}`};w.useEffect(()=>{const k=ge=>{o&&ge.key==="Escape"&&l()};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[o,l]);const P=async()=>{try{const k=await navigator.mediaDevices.getUserMedia({audio:!0});setTimeout(()=>{k.getTracks().forEach(ge=>ge.stop()),alert("Microphone test completed!")},2e3)}catch(k){alert("Microphone test failed: "+k)}},ae=()=>{const k=new(window.AudioContext||window.webkitAudioContext),ge=k.createOscillator(),Ze=k.createGain();ge.connect(Ze),Ze.connect(k.destination),ge.frequency.setValueAtTime(440,k.currentTime),Ze.gain.setValueAtTime(U.outputVolume/100*.1,k.currentTime),ge.start(),ge.stop(k.currentTime+.5)},[pe,Me]=w.useState(""),[Ue,ze]=w.useState(""),[$e,Wt]=w.useState(null),[jt,Zt]=w.useState(""),[Ht,on]=w.useState(!1),Rn=w.useRef(null),Pt=()=>{const ge=((u==null?void 0:u.public_key_hash)||"").substring(0,16);if(!ge){alert("No identity found to export.");return}const Ze=localStorage.getItem(`accord_private_key_${ge}`),Ye=localStorage.getItem(`accord_public_key_${ge}`),bt=Ze||localStorage.getItem("accord_private_key"),Le=Ye||localStorage.getItem("accord_public_key");if(!bt||!Le){alert("Could not find encrypted keys in storage. Cannot export.");return}const Z=JSON.stringify({version:1,public_key:Le,encrypted_private_key:bt,public_key_hash:ge},null,2),Xe=new Blob([Z],{type:"application/json"}),un=URL.createObjectURL(Xe),qt=document.createElement("a");qt.href=un,qt.download=`accord-identity-${ge}.json`,document.body.appendChild(qt),qt.click(),document.body.removeChild(qt),URL.revokeObjectURL(un)},nn=k=>{var Ye;ze(""),Me("");const ge=(Ye=k.target.files)==null?void 0:Ye[0];if(!ge)return;const Ze=new FileReader;Ze.onload=bt=>{var Le;try{const Z=JSON.parse((Le=bt.target)==null?void 0:Le.result);if(!Z.version||!Z.public_key||!Z.encrypted_private_key||!Z.public_key_hash){ze("Invalid identity file: missing required fields (version, public_key, encrypted_private_key, public_key_hash).");return}if(Z.version!==1){ze(`Unsupported identity file version: ${Z.version}`);return}Wt({hash16:Z.public_key_hash,encPrivKey:Z.encrypted_private_key,pubKeyB64:Z.public_key})}catch{ze("Failed to parse identity file. Must be valid JSON.")}},Ze.readAsText(ge),k.target.value=""},yn=async()=>{if(!(!$e||!jt)){on(!0),ze("");try{const{hash16:k,encPrivKey:ge,pubKeyB64:Ze}=$e;if(localStorage.setItem(`accord_private_key_${k}`,ge),localStorage.setItem(`accord_public_key_${k}`,Ze),localStorage.setItem("accord_private_key",ge),localStorage.setItem("accord_public_key",Ze),!await jf(jt,k)){ze("Incorrect password  could not decrypt the private key."),on(!1);return}Aa(k),Wt(null),Zt(""),Me("Identity imported successfully! Reloading..."),setTimeout(()=>window.location.reload(),1200)}catch(k){ze(`Import failed: ${k.message||"unknown error"}`)}finally{on(!1)}}},rn=()=>{if(!O){E(!0);return}const k=[];for(let ge=0;ge<localStorage.length;ge++){const Ze=localStorage.key(ge);Ze&&Ze.startsWith("accord_")&&k.push(Ze)}k.forEach(ge=>localStorage.removeItem(ge)),E(!1),alert("Local data cleared. Please refresh the app."),window.location.reload()},oe=()=>{if(!ie.trim())return;let k=ie.trim();!k.startsWith("http://")&&!k.startsWith("https://")&&(k="http://"+k),W.setBaseUrl(k),alert(`Relay URL set to ${k}. You may need to re-authenticate.`),Y("")},Ie=k=>k.slice(0,32).replace(/(.{4})/g,"$1 ").trim().toUpperCase();return o?s.jsx("div",{className:"settings-overlay",children:s.jsxs("div",{className:"settings-modal",children:[s.jsxs("div",{className:"settings-sidebar",children:[s.jsx("div",{className:"settings-header",children:s.jsx("h2",{children:"Settings"})}),s.jsxs("nav",{className:"settings-nav",children:[s.jsx("button",{className:`settings-nav-item ${m==="account"?"active":""}`,onClick:()=>p("account"),children:" Profile"}),s.jsx("button",{className:`settings-nav-item ${m==="appearance"?"active":""}`,onClick:()=>p("appearance"),children:" Appearance"}),s.jsx("button",{className:`settings-nav-item ${m==="notifications"?"active":""}`,onClick:()=>p("notifications"),children:" Notifications"}),s.jsx("button",{className:`settings-nav-item ${m==="voice"?"active":""}`,onClick:()=>p("voice"),children:" Voice & Audio"}),s.jsx("button",{className:`settings-nav-item ${m==="privacy"?"active":""}`,onClick:()=>p("privacy"),children:" Privacy"}),s.jsx("button",{className:`settings-nav-item ${m==="advanced"?"active":""}`,onClick:()=>p("advanced"),children:" Advanced"}),s.jsx("button",{className:`settings-nav-item ${m==="server"?"active":""}`,onClick:()=>p("server"),children:" Server Info"}),s.jsx("button",{className:`settings-nav-item ${m==="about"?"active":""}`,onClick:()=>p("about"),children:" About"})]})]}),s.jsxs("div",{className:"settings-content",children:[s.jsx("div",{className:"settings-content-header",children:s.jsx("button",{className:"settings-close",onClick:l,children:""})}),s.jsxs("div",{className:"settings-panel",children:[m==="account"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Profile"}),(u==null?void 0:u.public_key_hash)&&s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Public Key Fingerprint"}),s.jsx("div",{className:"settings-info",style:{fontFamily:"var(--font-mono)",fontSize:13,letterSpacing:"0.05em"},children:Ie(u.public_key_hash)})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Display Name"}),s.jsx("input",{type:"text",className:"settings-input",value:b.displayName,onChange:k=>V({...b,displayName:k.target.value}),placeholder:"Enter display name..."})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Bio"}),s.jsx("textarea",{className:"settings-textarea",value:b.bio,onChange:k=>V({...b,bio:k.target.value}),placeholder:"Tell others about yourself...",rows:3})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Status"}),s.jsx("div",{className:"status-buttons",children:["online","away","busy","invisible"].map(k=>s.jsxs("button",{className:`status-button ${b.status===k?"active":""}`,onClick:()=>V({...b,status:k}),children:[s.jsx("div",{className:`status-indicator ${k}`}),k.charAt(0).toUpperCase()+k.slice(1)]},k))})]}),s.jsxs("div",{className:"settings-group",style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("button",{className:"btn btn-primary",style:{width:"auto",padding:"10px 24px"},disabled:!Te||re,onClick:ne,children:re?"Saving...":"Save Profile"}),je&&s.jsx("span",{style:{fontSize:13,color:je.includes("failed")?"var(--yellow)":"var(--green)"},children:je})]}),s.jsx("div",{className:"settings-group",children:s.jsxs("div",{className:"settings-info",children:[s.jsx("strong",{children:"User ID:"})," ",(u==null?void 0:u.id)||"Unknown"]})})]}),m==="appearance"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Appearance"}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Theme"}),s.jsxs("div",{className:"theme-buttons",children:[s.jsx("button",{className:`theme-button dark ${x.theme==="dark"?"active":""}`,onClick:()=>se({...x,theme:"dark"}),children:" Dark"}),s.jsx("button",{className:`theme-button light ${x.theme==="light"?"active":""}`,onClick:()=>se({...x,theme:"light"}),children:" Light"})]}),s.jsx("div",{className:"settings-help",children:"Light theme is experimental and may not look perfect everywhere."})]}),s.jsxs("div",{className:"settings-group",children:[s.jsxs("label",{className:"settings-label",children:["Font Size: ",x.fontSize,"px"]}),s.jsx("input",{type:"range",className:"settings-slider",min:"12",max:"20",step:"1",value:x.fontSize,onChange:k=>se({...x,fontSize:parseInt(k.target.value)})}),s.jsxs("div",{className:"settings-help",style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"12px"}),s.jsx("span",{children:"20px"})]})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Message Density"}),s.jsx("div",{className:"font-size-buttons",children:["compact","comfortable","cozy"].map(k=>s.jsx("button",{className:`font-size-button ${x.messageDensity===k?"active":""}`,onClick:()=>se({...x,messageDensity:k}),children:k.charAt(0).toUpperCase()+k.slice(1)},k))}),s.jsx("div",{className:"settings-help",children:"Controls spacing between messages. Compact shows more messages on screen."})]})]}),m==="notifications"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Notification Settings"}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:T.enabled,onChange:k=>H({...T,enabled:k.target.checked})}),s.jsx("span",{className:"checkmark"}),"Enable Desktop Notifications"]})}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Notification Mode"}),s.jsx("div",{className:"notification-mode-buttons",children:["all","mentions","none"].map(k=>s.jsx("button",{className:`notification-button ${T.mode===k?"active":""}`,onClick:()=>H({...T,mode:k}),children:k==="all"?"All Messages":k==="mentions"?"Mentions Only":"None"},k))})]}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:T.sounds,onChange:k=>H({...T,sounds:k.target.checked})}),s.jsx("span",{className:"checkmark"}),"Sound Notifications"]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("div",{className:"test-buttons",children:[s.jsx("button",{className:"test-button",onClick:()=>{"Notification"in window&&Notification.permission==="granted"?new Notification("Test Notification",{body:"This is a test notification from Accord!",icon:"/favicon.ico"}):Notification.requestPermission().then(k=>{k==="granted"&&new Notification("Test Notification",{body:"This is a test notification from Accord!",icon:"/favicon.ico"})})},children:"Test Notification"}),s.jsx("button",{className:"test-button",onClick:()=>{var k;return(k=xt.playNotificationSound)==null?void 0:k.call(xt)},children:"Test Sound"}),s.jsx("button",{className:"clear-button",onClick:()=>{xt.clearAllUnreads(),alert("All unread counts cleared")},children:"Clear All Unreads"})]})})]}),m==="voice"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Voice & Audio Settings"}),ke&&s.jsx("div",{className:"settings-error",children:ke}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-label",children:["Input Device",s.jsxs("select",{className:"settings-select",value:U.inputDevice,onChange:k=>S({...U,inputDevice:k.target.value}),children:[s.jsx("option",{value:"default",children:"Default"}),ce.map(k=>s.jsx("option",{value:k.deviceId,children:k.label||`Microphone ${k.deviceId.slice(0,8)}...`},k.deviceId))]})]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-label",children:["Output Device",s.jsxs("select",{className:"settings-select",value:U.outputDevice,onChange:k=>S({...U,outputDevice:k.target.value}),children:[s.jsx("option",{value:"default",children:"Default"}),fe.map(k=>s.jsx("option",{value:k.deviceId,children:k.label||`Speaker ${k.deviceId.slice(0,8)}...`},k.deviceId))]})]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-label",children:["Input Volume: ",U.inputVolume,"%",s.jsx("input",{type:"range",className:"settings-slider",min:"0",max:"100",value:U.inputVolume,onChange:k=>S({...U,inputVolume:parseInt(k.target.value)})})]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-label",children:["Output Volume: ",U.outputVolume,"%",s.jsx("input",{type:"range",className:"settings-slider",min:"0",max:"100",value:U.outputVolume,onChange:k=>S({...U,outputVolume:parseInt(k.target.value)})})]})}),s.jsxs("div",{className:"settings-group",children:[s.jsxs("label",{className:"settings-label",children:["Voice Activity Sensitivity: ",U.vadSensitivity,"%",s.jsx("input",{type:"range",className:"settings-slider",min:"0",max:"100",value:U.vadSensitivity,onChange:k=>S({...U,vadSensitivity:parseInt(k.target.value)})})]}),s.jsx("div",{className:"settings-help",children:"Higher values require louder audio to trigger voice activation."})]}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:U.echoCancellation,onChange:k=>S({...U,echoCancellation:k.target.checked})}),s.jsx("span",{className:"checkmark"}),"Echo Cancellation"]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:U.noiseSuppression,onChange:k=>S({...U,noiseSuppression:k.target.checked})}),s.jsx("span",{className:"checkmark"}),"Noise Suppression"]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:U.autoGainControl,onChange:k=>S({...U,autoGainControl:k.target.checked})}),s.jsx("span",{className:"checkmark"}),"Automatic Gain Control"]})}),s.jsx("div",{className:"settings-group",children:s.jsxs("div",{className:"test-buttons",children:[s.jsx("button",{className:"test-button",onClick:P,children:"Test Microphone"}),s.jsx("button",{className:"test-button",onClick:ae,children:"Test Speakers"}),s.jsx("button",{className:"refresh-button",onClick:K,children:"Refresh Devices"})]})})]}),m==="privacy"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Privacy Settings"}),s.jsxs("div",{className:"settings-group",children:[s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:J.readReceipts,onChange:k=>D({...J,readReceipts:k.target.checked})}),s.jsx("span",{className:"checkmark"}),"Send Read Receipts"]}),s.jsx("div",{className:"settings-help",children:"Let others know when you've read their messages."})]}),s.jsxs("div",{className:"settings-group",children:[s.jsxs("label",{className:"settings-checkbox",children:[s.jsx("input",{type:"checkbox",checked:J.typingIndicators,onChange:k=>D({...J,typingIndicators:k.target.checked})}),s.jsx("span",{className:"checkmark"}),"Show Typing Indicators"]}),s.jsx("div",{className:"settings-help",children:"Show when you're typing to other users."})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Block List"}),s.jsx("div",{className:"blocked-users",children:J.blockedUsers.length===0?s.jsx("div",{className:"settings-help",children:"No blocked users"}):J.blockedUsers.map(k=>s.jsxs("div",{className:"blocked-user",children:[s.jsx("span",{children:k}),s.jsx("button",{className:"unblock-button",onClick:()=>D({...J,blockedUsers:J.blockedUsers.filter(ge=>ge!==k)}),children:"Unblock"})]},k))})]})]}),m==="advanced"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Advanced"}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Current Relay URL"}),s.jsx("div",{className:"settings-info",style:{fontFamily:"var(--font-mono)",fontSize:13},children:W.getBaseUrl()})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Connect to Relay Manually"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("input",{type:"text",className:"settings-input",value:ie,onChange:k=>Y(k.target.value),placeholder:"e.g. 192.168.1.100:8080",onKeyDown:k=>{k.key==="Enter"&&oe()}}),s.jsx("button",{className:"btn btn-primary",style:{width:"auto",padding:"10px 16px",whiteSpace:"nowrap"},onClick:oe,disabled:!ie.trim(),children:"Connect"})]}),s.jsx("div",{className:"settings-help",children:"Enter a relay server address to connect to a different server."})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Identity Key Management"}),s.jsxs("div",{className:"test-buttons",children:[s.jsx("button",{className:"test-button",onClick:Pt,children:" Export Identity"}),s.jsx("button",{className:"test-button",onClick:()=>{var k;return(k=Rn.current)==null?void 0:k.click()},children:" Import Identity"}),s.jsx("input",{ref:Rn,type:"file",accept:".json",style:{display:"none"},onChange:nn})]}),s.jsx("div",{className:"settings-help",children:"Export your encrypted identity to a JSON file for backup or transfer to another browser. Import a previously exported identity file to restore access."}),pe&&s.jsx("div",{className:"auth-success",style:{marginTop:8},children:pe}),Ue&&s.jsx("div",{style:{color:"var(--red, #f44)",marginTop:8,fontSize:13},children:Ue}),$e&&s.jsxs("div",{style:{marginTop:12,padding:12,background:"var(--bg-tertiary)",borderRadius:8},children:[s.jsxs("div",{style:{marginBottom:8,fontSize:14},children:["Enter password to decrypt identity ",s.jsx("code",{children:$e.hash16}),":"]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[s.jsx("input",{type:"password",placeholder:"Password",value:jt,onChange:k=>Zt(k.target.value),onKeyDown:k=>{k.key==="Enter"&&yn()},className:"form-input",style:{flex:1},autoFocus:!0}),s.jsx("button",{className:"test-button",onClick:yn,disabled:Ht||!jt,children:Ht?"Verifying...":"Confirm"}),s.jsx("button",{className:"test-button",onClick:()=>{Wt(null),Zt("")},children:"Cancel"})]})]})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Clear Local Data"}),O?s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[s.jsx("button",{className:"clear-button",onClick:rn,children:"Confirm  Delete Everything"}),s.jsx("button",{className:"test-button",onClick:()=>E(!1),children:"Cancel"})]}):s.jsx("button",{className:"clear-button",onClick:rn,children:" Clear Local Data"}),s.jsx("div",{className:"settings-help",children:"Removes all locally stored settings, keys, and tokens. This cannot be undone."})]})]}),m==="server"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"Server Info"}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Connection Status"}),s.jsx("div",{className:"settings-info",children:h!=null&&h.isConnected?" Connected":" Disconnected"})]}),(h==null?void 0:h.version)&&s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Server Version"}),s.jsx("div",{className:"settings-info",children:h.version})]}),(h==null?void 0:h.buildHash)&&s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Server Build Hash"}),s.jsxs("div",{className:"settings-info copyable",style:{fontFamily:"var(--font-mono)",fontSize:13,cursor:"pointer"},title:"Click to copy",onClick:()=>{navigator.clipboard.writeText(h.buildHash)},children:[h.buildHash," "]})]}),(h==null?void 0:h.connectedSince)&&s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Connected Since"}),s.jsx("div",{className:"settings-info",children:new Date(h.connectedSince).toLocaleString()})]}),s.jsxs("div",{className:"settings-group",children:[s.jsx("label",{className:"settings-label",children:"Relay Address"}),s.jsx("div",{className:"settings-info",style:{fontFamily:"var(--font-mono)",fontSize:13},children:(h==null?void 0:h.relayAddress)||W.getBaseUrl()})]})]}),m==="about"&&s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{children:"About Accord"}),s.jsxs("div",{className:"about-content",children:[s.jsxs("div",{className:"about-logo",children:[s.jsx("div",{className:"app-icon",children:"A"}),s.jsx("h2",{children:"Accord"})]}),s.jsxs("div",{className:"about-info",children:[s.jsxs("div",{className:"info-row",children:[s.jsx("strong",{children:"Version:"})," 0.1.0-beta"]}),s.jsxs("div",{className:"info-row",children:[s.jsx("strong",{children:"Protocol:"})," Accord Protocol v1"]}),s.jsxs("div",{className:"info-row",children:[s.jsx("strong",{children:"Platform:"})," Desktop (Tauri + React)"]}),s.jsxs("div",{className:"info-row",children:[s.jsx("strong",{children:"Build:"})," Development"]})]}),s.jsx("div",{className:"about-description",children:s.jsx("p",{children:"Accord is an open-source, privacy-first chat application with end-to-end encryption. Your keys, your data, your control."})}),s.jsxs("div",{className:"about-links",children:[s.jsx("a",{href:"https://github.com/accord-chat/accord",target:"_blank",rel:"noopener noreferrer",children:" Source Code on GitHub"}),s.jsx("a",{href:"https://github.com/accord-chat/accord/issues",target:"_blank",rel:"noopener noreferrer",children:" Report a Bug"}),s.jsx("a",{href:"https://github.com/accord-chat/accord/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:" License (MIT)"})]}),s.jsxs("div",{className:"about-credits",children:[s.jsx("h4",{children:"Built with  by the Accord team"}),s.jsx("p",{children:"Special thanks to all contributors and the open-source community."})]})]})]})]})]})]})}):null};function Et(o){return!o||o.length<16?o||"unknown":o.substring(0,8)+"..."+o.substring(o.length-8)}function ex(){var Fn,Wn,fa,wc,ds,fs,_c,Qt,mt;const[o,l]=w.useState(()=>localStorage.getItem("accord_server_url")||"http://localhost:8080"),[u,r]=w.useState(!1),[h,m]=w.useState(!1),[p,b]=w.useState(!1),[v,x]=w.useState(""),[A,T]=w.useState(()=>{if(localStorage.getItem("accord_server_url"))return!1;const y=typeof window<"u"?window.location.origin:"";return y&&!y.includes(":1420")&&!y.includes(":5173")&&!y.includes(":3000")?(localStorage.setItem("accord_server_url",y),!1):!0}),[Q,U]=w.useState("choose"),[L,J]=w.useState(""),[te,ce]=w.useState(null),[me,fe]=w.useState(""),[de,ke]=w.useState(!1),[He,Te]=w.useState(""),[we,re]=w.useState(!1),[Oe,je]=w.useState(""),[ye,ie]=w.useState(!1),[Y,O]=w.useState(!1),[E,K]=w.useState(!0),[V,ne]=w.useState(""),[se,S]=w.useState(""),[D,H]=w.useState(""),[le,P]=w.useState(!1),[ae,pe]=w.useState(""),[Me,Ue]=w.useState(!1),[ze,$e]=w.useState(""),[Wt,jt]=w.useState(!1),[Zt,Ht]=w.useState(!1),[on,Rn]=w.useState(""),[Pt,nn]=w.useState(""),[yn,rn]=w.useState(""),[oe,Ie]=w.useState(!1),[k,ge]=w.useState(()=>gg()),Ze=w.useRef(""),[Ye,bt]=w.useState(null),[Le]=w.useState(T0()),[Z,Xe]=w.useState({isAuthenticated:!1,nodes:[],messages:[],isConnected:!1}),[un,qt]=w.useState(""),[Rt,Kt]=w.useState("# general"),[At,$a]=w.useState(0),[lt,Cl]=w.useState(!1),[De,dn]=w.useState(null),[Mn,vn]=w.useState({status:"disconnected",reconnectAttempt:0,maxReconnectAttempts:20}),[Ct,ba]=w.useState(null),[it,Qn]=w.useState([]),[In,Dn]=w.useState([]),[en,xa]=w.useState([]),[Ce,Sa]=w.useState(null),[qe,an]=w.useState(null),[ia,sa]=w.useState(!1),[ln,ft]=w.useState(!0),[ht,bn]=w.useState(void 0),On=w.useRef(null),[ca,Tl]=w.useState(null),[Ma,Se]=w.useState(""),[j,ee]=w.useState(null),ve=(d,y)=>{Tl(d),Se(y)},[Fe,St]=w.useState({}),[Ge,Yt]=w.useState(!1),[xn,sn]=w.useState(""),[Jn,kt]=w.useState("text"),[Fa,Wa]=w.useState(!1),[Ks,Al]=w.useState(""),[pi,Mt]=w.useState(""),[fn,Ys]=w.useState(null),[ru,Gi]=w.useState(""),[Gs,gi]=w.useState(!1),[po,Un]=w.useState([]),[Vi,Vs]=w.useState(null),[Zs,Pa]=w.useState(null),go=["","","","","","","","","",""],[yo,kl]=w.useState(xt.getPreferences()),[Xs,Zi]=w.useState(!1),[vo,el]=w.useState(0),[Qs,Xi]=w.useState(!1),[wa,oa]=w.useState([]),[Dt,Is]=w.useState(null),[tl,Da]=w.useState(!1),[Qi,Oa]=w.useState(!1),[Js,Ua]=w.useState(!1),[wn,yi]=w.useState(""),[Rl,_a]=w.useState(!1),[Ii,Ml]=w.useState(""),[vi,Dl]=w.useState(""),[bi,Ji]=w.useState(""),[hn,za]=w.useState(!1),[Ol,Ba]=w.useState(!1),[Ul,$s]=w.useState(""),[nl,xi]=w.useState(""),[zl,Fs]=w.useState(null),[uu,Ws]=w.useState(!1),[Ps,Si]=w.useState(!1),[du,fu]=w.useState(new Set),[hu,bo]=w.useState([]),[mu,$i]=w.useState(!1),[ec,tc]=w.useState(""),[nc,xo]=w.useState(!1),[Na,ac]=w.useState(null),[So,Fi]=w.useState(""),[wi,Wi]=w.useState(null),[lc,_i]=w.useState(!1),[Bl,wo]=w.useState(""),[_o,No]=w.useState(!1),[ic,Pi]=w.useState(!1),[sc,al]=w.useState(!1),Eo=w.useRef(null),Ni=w.useRef(void 0),es=w.useRef(!1),[jo,Co]=w.useState(!1),[cc,La]=w.useState(0),[To,pu]=w.useState(new Map),[Ao,ko]=w.useState(new Map),[Ot,Ea]=w.useState(null),[Ll,Ro]=w.useState(new Map),[Ei,oc]=w.useState(new Map),[rc,uc]=w.useState(0),ts=w.useState(()=>localStorage.getItem("accord-typing-indicators")!=="false")[0],dc=w.useCallback(d=>Fe[d]||"member",[Fe]),Hl=w.useCallback((d,y)=>{switch(dc(d)){case"admin":return!0;case"moderator":return["KickMembers","ManageInvites"].includes(y);case"member":return!1;default:return!1}},[dc]),ns=d=>{switch(d){case"admin":return"";case"moderator":return"";default:return""}},$n=d=>{d.message&&d.message.includes("403")?Mt("You don't have permission to perform this action"):Mt(d.message||"An error occurred"),setTimeout(()=>Mt(""),5e3)},gu=w.useCallback(d=>{if(!ts||!De||!d)return;const y=Date.now();y-rc>=3e3&&(De.sendTypingStart(d),uc(y))},[De,ts,rc]),Mo=w.useCallback(d=>{const y=Ll.get(d)||[],_=localStorage.getItem("accord_user_id"),R=y.filter(xe=>xe.user_id!==_);if(R.length===0)return"";const I=xe=>{var We,Qe;const be=en.find(Ne=>Ne.user_id===xe.user_id);return(We=be==null?void 0:be.user)!=null&&We.display_name?be.user.display_name:(Qe=be==null?void 0:be.profile)!=null&&Qe.display_name?be.profile.display_name:xe.displayName};return R.length===1?`${I(R[0])} is typing`:R.length===2?`${I(R[0])} and ${I(R[1])} are typing`:"Several people are typing"},[Ll,en]);w.useEffect(()=>{const d=async()=>{const y=yf(),_=Ze.current;if(!y||!_)return null;try{const R=await W.login(y,_);return Us(R.token),localStorage.setItem("accord_user_id",R.user_id),Xe(I=>({...I,token:R.token})),R.token}catch{return null}};return W.setTokenRefresher(d),()=>W.setTokenRefresher(null)},[]),w.useEffect(()=>{(async()=>{if(!localStorage.getItem("accord_server_url")){const _=await cb();if(_){W.setBaseUrl(_),l(_),Cl(!0),T(!1);return}}const y=await W.testConnection();Cl(y)})()},[]);const ll=w.useCallback(d=>{d.on("connected",()=>{var y;Xe(_=>({..._,isConnected:!0})),vn({status:"connected",reconnectAttempt:0,maxReconnectAttempts:20}),Fs(Date.now()),(y=Ni.current)==null||y.call(Ni)}),d.on("hello",y=>{y.server_version&&xi(y.server_version),y.server_build_hash&&$s(y.server_build_hash)}),d.on("disconnected",()=>{Xe(y=>({...y,isConnected:!1})),Fs(null)}),d.on("connection_status",y=>{vn(y)}),d.on("auth_error",async()=>{const y=yf(),_=Ze.current;if(y&&_)try{const R=await W.login(y,_);Us(R.token),localStorage.setItem("accord_user_id",R.user_id),Xe(xe=>({...xe,token:R.token})),d.disconnect();const I=new Os(R.token,o.replace(/^http/,"ws"));ll(I),dn(I),I.connect();return}catch{}_n()}),d.on("message",y=>{}),d.on("channel_message",async y=>{var he,wt,rt;let _=y.encrypted_data,R=!1;if(Le&&Ye&&y.channel_id)try{const tt=await ya(Ye.privateKey,y.channel_id);_=await nu(tt,y.encrypted_data),R=!0}catch(tt){console.warn("Failed to decrypt message, showing encrypted data:",tt)}const I=en.find(tt=>tt.user_id===y.from),xe=I?((he=I.user)==null?void 0:he.display_name)||((wt=I.profile)==null?void 0:wt.display_name)||Et(I.public_key_hash||y.from||""):Et(y.from||""),be={id:y.message_id||Math.random().toString(),author:xe,content:_,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),timestamp:y.timestamp*1e3,channel_id:y.channel_id,isEncrypted:R,reply_to:y.reply_to,replied_message:y.replied_message?{id:y.replied_message.id,sender_id:y.replied_message.sender_id,sender_public_key_hash:y.replied_message.sender_public_key_hash||"",encrypted_payload:y.replied_message.encrypted_payload,created_at:y.replied_message.created_at,content:y.replied_message.content}:void 0};if(y.from&&ko(tt=>{const _t=new Map(tt);return _t.set(y.from,Date.now()),_t}),y.is_dm||wa.some(tt=>tt.id===y.channel_id)){zn();const tt=wa.find(_t=>_t.id===y.channel_id);tt&&(xt.addMessage(`dm-${tt.id}`,y.channel_id,be),el(_t=>_t+1))}else{const tt=(rt=it.find(_t=>In.some(En=>En.id===y.channel_id&&En.node_id===_t.id)))==null?void 0:rt.id;tt&&(xt.addMessage(tt,y.channel_id,be),el(_t=>_t+1))}const Qe=On.current,Ne=Qe?Qe.scrollHeight-Qe.scrollTop-Qe.clientHeight<50:!0;Xe(tt=>({...tt,messages:[...tt.messages,be]})),Ne&&Qe?setTimeout(()=>{Qe.scrollTop=Qe.scrollHeight},0):La(tt=>tt+1)}),d.on("node_info",y=>{y.data&&Xe(_=>({..._,nodes:_.nodes.map(R=>R.id===y.data.id?y.data:R)}))}),d.on("message_edit",async y=>{try{let _=y.encrypted_data;if(Le&&Ye){const R=await ya(Ye.privateKey,y.channel_id);_=await nu(R,y.encrypted_data)}Xe(R=>({...R,messages:R.messages.map(I=>I.id===y.message_id?{...I,content:_,edited_at:y.edited_at,isEncrypted:Le}:I)}))}catch(_){console.warn("Failed to decrypt edited message:",_),Xe(R=>({...R,messages:R.messages.map(I=>I.id===y.message_id?{...I,content:y.encrypted_data,edited_at:y.edited_at,isEncrypted:!0}:I)}))}}),d.on("message_delete",y=>{Xe(_=>({..._,messages:_.messages.filter(R=>R.id!==y.message_id)}))}),d.on("reaction_add",y=>{Xe(_=>({..._,messages:_.messages.map(R=>R.id===y.message_id?{...R,reactions:y.reactions}:R)}))}),d.on("reaction_remove",y=>{Xe(_=>({..._,messages:_.messages.map(R=>R.id===y.message_id?{...R,reactions:y.reactions}:R)}))}),d.on("message_pin",y=>{Xe(_=>({..._,messages:_.messages.map(R=>R.id===y.message_id?{...R,pinned_at:y.timestamp,pinned_by:y.pinned_by}:R)}))}),d.on("message_unpin",y=>{Xe(_=>({..._,messages:_.messages.map(R=>R.id===y.message_id?{...R,pinned_at:void 0,pinned_by:void 0}:R)}))}),d.on("typing_start",y=>{const _={user_id:y.user_id,displayName:y.public_key_hash?Et(y.public_key_hash):y.user_id.substring(0,8),startedAt:Date.now()};Ro(I=>{const xe=new Map(I),We=(xe.get(y.channel_id)||[]).filter(Qe=>Qe.user_id!==y.user_id);return xe.set(y.channel_id,[...We,_]),xe});const R=`${y.channel_id}_${y.user_id}`;oc(I=>{const xe=new Map(I),be=xe.get(R);be&&clearTimeout(be);const We=window.setTimeout(()=>{Ro(Qe=>{const Ne=new Map(Qe),wt=(Ne.get(y.channel_id)||[]).filter(rt=>rt.user_id!==y.user_id);return wt.length>0?Ne.set(y.channel_id,wt):Ne.delete(y.channel_id),Ne}),oc(Qe=>{const Ne=new Map(Qe);return Ne.delete(R),Ne})},5e3);return xe.set(R,We),xe})}),d.on("presence_update",y=>{y.user_id&&y.status&&pu(_=>{const R=new Map(_);return R.set(y.user_id,y.status),R})}),d.on("error",y=>{console.error("WebSocket error:",y)})},[Le,Ye]);w.useEffect(()=>()=>{Ei.forEach(d=>clearTimeout(d))},[Ei]);const ra=w.useCallback(async()=>{if(!(!Z.token||!lt))try{const d=await W.getUserNodes(Z.token);Qn(Array.isArray(d)?d:[]),d.length>0&&!Ce&&Sa(d[0].id)}catch(d){console.error("Failed to load nodes:",d)}},[Z.token,lt,Ce]);Ni.current=ra;const Ut=w.useCallback(async d=>{if(!(!Z.token||!lt))try{const y=await W.getNodeChannels(d,Z.token);Dn(Array.isArray(y)?y:[]),y.length>0&&!qe&&an(y[0].id)}catch(y){console.error("Failed to load channels:",y),$n(y),Dn([])}},[Z.token,lt,qe]),ua=w.useCallback(async d=>{if(!(!Z.token||!lt))try{const y=await W.getNodeMembers(d,Z.token),_=(Array.isArray(y)?y:[]).map(I=>{var xe;return{...I,user:I.user||{id:I.user_id,public_key_hash:I.public_key_hash||"",public_key:"",created_at:I.joined_at||0,display_name:((xe=I.profile)==null?void 0:xe.display_name)||void 0}}});xa(_);const R=localStorage.getItem("accord_user_id");if(R&&_.length>0){const I=_.find(xe=>xe.user_id===R);I&&St(xe=>({...xe,[d]:I.role}))}}catch(y){console.error("Failed to load members:",y),$n(y),xa([])}},[Z.token,lt]),as=w.useCallback(async d=>{if(!(!Z.token||!lt))try{const y=await W.getRoles(d,Z.token);bo(Array.isArray(y)?y:[])}catch(y){console.error("Failed to load roles:",y),bo([])}},[Z.token,lt]),il=w.useCallback(async d=>{if(!(!Z.token||!lt))try{const y=await W.getChannelMessages(d,Z.token),_=y.messages.map(R=>({...R,author:R.author||Et(R.sender_public_key_hash||R.sender_id||"")||"Unknown",time:R.time||new Date(R.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}));_.sort((R,I)=>R.timestamp-I.timestamp),Xe(R=>({...R,messages:_})),ft(y.has_more),bn(y.next_cursor),setTimeout(()=>{const R=On.current;R&&(R.scrollTop=R.scrollHeight)},0),xu(d,_)}catch(y){console.error("Failed to load messages:",y),$n(y),Xe(_=>({..._,messages:[]})),ft(!1),bn(void 0)}},[Z.token,lt]),fc=w.useCallback(async d=>{if(!(!Z.token||!lt||ia||!ln||!ht)){sa(!0);try{const y=await W.getChannelMessages(d,Z.token,50,ht);if(y.messages.length===0){ft(!1),sa(!1);return}const _=y.messages.map(be=>({...be,author:be.author||Et(be.sender_public_key_hash||be.sender_id||"")||"Unknown",time:be.time||new Date(be.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}));_.sort((be,We)=>be.timestamp-We.timestamp);const R=On.current,I=(R==null?void 0:R.scrollTop)||0,xe=(R==null?void 0:R.scrollHeight)||0;Xe(be=>({...be,messages:[..._,...be.messages]})),ft(y.has_more),bn(y.next_cursor),setTimeout(()=>{if(R){const We=R.scrollHeight-xe;R.scrollTop=I+We}},0)}catch(y){console.error("Failed to load older messages:",y),$n(y)}finally{sa(!1)}}},[Z.token,lt,ia,ln,ht]),Do=w.useCallback(d=>{const y=Eo.current;if(y){const _=y.selectionStart,R=y.selectionEnd,I=un.substring(0,_)+d+un.substring(R);qt(I),setTimeout(()=>{y.selectionStart=y.selectionEnd=_+d.length,y.focus()},0)}else qt(_=>_+d);al(!1)},[un]),hc=w.useCallback(d=>{const y=d.target;y.scrollTop<=50&&ln&&!ia&&qe&&fc(qe);const _=y.scrollHeight-y.scrollTop-y.clientHeight;Co(_>200),_<50&&La(0)},[ln,ia,qe,fc]),yu=w.useCallback(()=>{const d=On.current;d&&(d.scrollTo({top:d.scrollHeight,behavior:"smooth"}),La(0))},[]),ql=w.useCallback((d,y)=>{Sa(d),an(null),$a(y),Dn([]),xa([]),Xe(_=>({..._,messages:[]})),sa(!1),ft(!0),bn(void 0),Ut(d),ua(d),as(d)},[Ut,ua,as]),zn=w.useCallback(async()=>{if(!(!Z.token||!lt))try{const d=await W.getDmChannels(Z.token);oa(d.dm_channels)}catch(d){console.error("Failed to load DM channels:",d),$n(d),oa([])}},[Z.token,lt]),Kl=w.useCallback(async d=>{if(!Z.token||!lt)return null;try{const y=await W.createDmChannel(d,Z.token);return await zn(),y}catch(y){return console.error("Failed to create DM channel:",y),$n(y),null}},[Z.token,lt,zn]),ji=w.useCallback(d=>{Sa(null),an(null),Is(d),xt.setActiveChannel(d.id),sa(!1),ft(!0),bn(void 0),il(d.id),De&&De.isSocketConnected()&&De.joinChannel(d.id)},[il,De]),ls=w.useCallback(async d=>{const y=await Kl(d.id);if(y){await zn();const _=wa.find(R=>R.id===y.id);_&&ji(_)}},[Kl,zn,wa,ji]),Ha=async()=>{if(!(!Bl.trim()||!Z.token)){No(!0);try{await W.updateProfile({display_name:Bl.trim()},Z.token),Xe(d=>({...d,user:d.user?{...d.user,display_name:Bl.trim()}:d.user})),xt.setCurrentUsername(Bl.trim()),_i(!1),wo("")}catch(d){console.error("Failed to update display name:",d)}finally{No(!1)}}},qa=w.useCallback((d,y)=>{if(an(d),Kt(y),Xe(_=>({..._,activeChannel:d})),xt.setActiveChannel(d),Ce){const _=Z.messages.length>0?Z.messages[Z.messages.length-1]:null;xt.markChannelAsRead(Ce,d,_==null?void 0:_.id),localStorage.setItem(`accord_lastread_${d}`,Date.now().toString()),el(R=>R+1)}sa(!1),ft(!0),bn(void 0),il(d),De&&De.isSocketConnected()&&De.joinChannel(d)},[il,De,Ce,Z.messages]),mc=async()=>{if(!(!Ce||!Z.token||!xn.trim()))try{await W.createChannel(Ce,xn.trim(),Jn,Z.token),Yt(!1),sn(""),kt("text"),await Ut(Ce)}catch(d){console.error("Failed to create channel:",d),$n(d)}},Oo=async()=>{if(!(!Ce||!Z.token))try{const d=await W.createInviteWithOptions(Ce,Z.token),y=W.getBaseUrl();try{const R=new URL(y).host;Al(db(R,d.invite_code))}catch{Al(d.invite_code)}Wa(!0)}catch(d){console.error("Failed to generate invite:",d),$n(d)}},sl=async(d,y)=>{if(!(!Ce||!Z.token||!window.confirm(`Are you sure you want to kick ${y} from this node?`)))try{await W.kickMember(Ce,d,Z.token),await ua(Ce)}catch(R){console.error("Failed to kick member:",R),$n(R)}},Uo=async d=>{if(Z.token){try{await W.deleteChannel(d,Z.token),d===qe&&(an(null),Kt("# general")),Ce&&await Ut(Ce)}catch(y){console.error("Failed to delete channel:",y),$n(y)}Wi(null)}},pc=async()=>{if(!(!Z.token||!wn.trim())){_a(!0),Ml("");try{const d=wn.trim(),y=tg(d),_=y?y.inviteCode:d;await W.joinNodeByInvite(_,Z.token),Ua(!1),Oa(!1),yi(""),await ra()}catch(d){Ml(d.message||"Failed to join node")}finally{_a(!1)}}},gc=async()=>{if(!(!Z.token||!vi.trim())&&!es.current){es.current=!0,za(!0);try{const d=await W.createNode(vi.trim(),Z.token,bi.trim()||void 0);try{const y=await W.getNodeChannels(d.id,Z.token);Array.isArray(y)&&y.length>0||await W.createChannel(d.id,"general","text",Z.token)}catch(y){console.warn("Failed to check/create #general channel:",y)}await ra(),Sa(d.id),$a(it.length),Oa(!1),Dl(""),Ji(""),await Ut(d.id),await ua(d.id)}catch(d){console.error("Failed to create node:",d),$n(d)}finally{za(!1),es.current=!1}}},vu=w.useCallback(d=>{xt.updatePreferences(d),kl(d),el(y=>y+1)},[]),bu=w.useCallback((d,y)=>{if(d!==qe){const _=In.find(R=>R.id===d);_&&qa(d,`# ${_.name}`)}},[qe,In,qa]),xu=w.useCallback((d,y)=>{if(Ce&&y.length>0){const _=y[y.length-1];xt.markChannelAsRead(Ce,d,_.id),localStorage.setItem(`accord_lastread_${d}`,Date.now().toString()),el(R=>R+1)}},[Ce]),yc=async()=>{fe("");const d=tg(L);if(!d){fe("Invalid invite link. Expected format: accord://host:port/invite/CODE or https://host:port/invite/CODE");return}ce(d),ke(!0);try{W.setBaseUrl(d.relayUrl);const y=await W.health();r(!0),Cl(!0),Te(y.version),l(d.relayUrl);const _=fb(d.relayHost),R=mb(d.relayHost);if(_&&R)try{Us(_),localStorage.setItem("accord_user_id",R);let I="";if(Le){const We=await Yr();if(We){bt(We);const Qe=await Li(We.publicKey);I=await fi(Qe),pe(I),Aa(I),S(Qe)}}Xe(We=>({...We,isAuthenticated:!0,token:_,user:{id:R,public_key_hash:I,public_key:"",created_at:0,display_name:Et(I)}})),O(!0);try{await W.joinNodeByInvite(d.inviteCode,_)}catch{}const xe=o.replace(/^http/,"ws"),be=new Os(_,xe);ll(be),dn(be),be.connect(),T(!1),setTimeout(()=>{ra(),zn()},100);return}catch{}re(!0)}catch{fe(`Cannot connect to relay at ${d.relayUrl}`),ce(null)}finally{ke(!1)}},vc=async()=>{if(te){if(fe(""),Oe.length<8){fe("Password must be at least 8 characters");return}ie(!0);try{let d="",y="";if(Le){const I=await gf();d=await Li(I.publicKey),y=await fi(d),Aa(y),await Kr(I,y),await Gr(I,Oe,y),bt(I),S(d);const xe=await pg(I);$e(xe)}if(!d){fe("Failed to generate encryption keys"),ie(!1);return}await W.register(d,Oe),Ze.current=Oe,pe(y),Aa(y);const _=await W.login(d,Oe);Us(_.token),localStorage.setItem("accord_user_id",_.user_id),hb(te.relayHost,_.token),pb(te.relayHost,_.user_id);try{await W.joinNodeByInvite(te.inviteCode,_.token)}catch{}Xe(I=>({...I,isAuthenticated:!0,token:_.token,user:{id:_.user_id,public_key_hash:y,public_key:d,created_at:0,display_name:Et(y)}})),O(!0),xt.setCurrentUsername(Et(y));const R=new Os(_.token,o.replace(/^http/,"ws"));ll(R),dn(R),R.connect(),Ue(!0),jt(!1),T(!1),setTimeout(()=>{_i(!0)},500),setTimeout(()=>{ra(),zn()},100)}catch(d){fe(d instanceof Error?d.message:"Registration failed")}finally{ie(!1)}}},Yl=async()=>{b(!0),H("");try{const d=o.replace(/\/+$/,"");l(d),W.setBaseUrl(d),localStorage.setItem("accord_server_url",d);const y=await W.health();r(!0),Cl(!0),x(y.version),m(!1),T(!1)}catch{H(`Cannot connect to ${o}`),r(!1)}finally{b(!1)}},Bn=async()=>{if(!lt){if(Le&&!Ye)try{const d=await gf();await Kr(d),bt(d);const y=await Li(d.publicKey);S(y),pe(await fi(y))}catch(d){console.warn("Failed to generate demo keys:",d)}O(!0),Xe(d=>({...d,isAuthenticated:!0}));return}H("");try{if(E){let d=se.trim();if(!d&&Le){const I=localStorage.getItem("accord_public_key_hash");I&&Aa(I);let xe=await jf(V);if(xe||(xe=await Yr()),xe)d=await Li(xe.publicKey),bt(xe),S(d);else if(k){const be=yf();be&&(d=be)}if(!d){const be=localStorage.getItem("accord_public_key_plain");be&&(d=be)}}if(!d){if(localStorage.getItem("accord_public_key_hash")){H("Keypair not found in this browser. Use 'Recover with recovery phrase' to restore your identity, or register a new account.");return}H("No identity found. Create a new identity or recover with your recovery phrase.");return}const y=await W.login(d,V);Us(y.token),localStorage.setItem("accord_user_id",y.user_id),Ze.current=V;const _=await fi(d);if(pe(_),Aa(_),Le&&!Ye){let I=await jf(V,_);I||(I=await Yr(_)),I&&(bt(I),await Gr(I,V,_))}ge(!0),localStorage.setItem("accord_public_key_plain",d),localStorage.setItem("accord_public_key_hash",_),Xe(I=>({...I,isAuthenticated:!0,token:y.token,user:{id:y.user_id,public_key_hash:_,public_key:d,created_at:0,display_name:Et(_)}})),O(!0),xt.setCurrentUsername(Et(_));const R=new Os(y.token,o.replace(/^http/,"ws"));ll(R),dn(R),R.connect(),setTimeout(()=>{ra(),zn()},100)}else{if(V.length<8){H("Password must be at least 8 characters long");return}let d=se.trim();if(!d&&Le)try{const _=await gf();d=await Li(_.publicKey);const R=await fi(d);Aa(R),await Kr(_,R),await Gr(_,V,R),bt(_),S(d);const I=await pg(_);$e(I)}catch{H("Failed to generate encryption keys");return}if(!d){H("Public key generation failed. Crypto may not be supported.");return}await W.register(d,V),Ze.current=V;const y=await fi(d);pe(y),Aa(y),localStorage.setItem("accord_public_key_plain",d),localStorage.setItem("accord_public_key_hash",y),Ue(!0),jt(!1),setTimeout(()=>{_i(!0)},500)}}catch(d){H(d instanceof Error?d.message:"Authentication failed")}},Ci=async()=>{rn(""),Ie(!0);try{const d=L0(on),y=await Li(d.publicKey),_=await W.login(y,Pt),R=await fi(y);Aa(R),await Kr(d,R),await Gr(d,Pt,R),bt(d),S(y),Ze.current=Pt,pe(R),Aa(R),Us(_.token),localStorage.setItem("accord_user_id",_.user_id),Xe(xe=>({...xe,isAuthenticated:!0,token:_.token,user:{id:_.user_id,public_key_hash:R,public_key:y,created_at:0,display_name:Et(R)}})),O(!0),Ht(!1),Rn(""),nn(""),ge(!0),xt.setCurrentUsername(Et(R));const I=new Os(_.token,o.replace(/^http/,"ws"));ll(I),dn(I),I.connect(),setTimeout(()=>{ra(),zn()},100)}catch(d){rn(d instanceof Error?d.message:"Recovery failed. Check your phrase and password.")}finally{Ie(!1)}},_n=()=>{De&&(De.disconnect(),dn(null)),cy(),localStorage.removeItem("accord_user_id"),Ze.current="",bt(null),O0(),ge(gg()),Qn([]),Dn([]),xa([]),Sa(null),an(null),O(!1),Xe({isAuthenticated:!1,nodes:[],messages:[],isConnected:!1}),ne(""),S(""),pe(""),T(!0),U("choose"),J(""),ce(null),fe(""),re(!1),je("")},Gl=async()=>{var y,_,R,I;if(!un.trim())return;const d=(Dt==null?void 0:Dt.id)||qe||Z.activeChannel;if(De&&De.isSocketConnected()&&d)try{let xe=un,be=!1;if(Le&&Ye&&d)try{const Ne=await ya(Ye.privateKey,d);xe=await tu(Ne,un),be=!0}catch(Ne){console.warn("Failed to encrypt message, sending plaintext:",Ne)}De.sendChannelMessage(d,xe,Ct==null?void 0:Ct.id);const We={id:Math.random().toString(),author:((y=Z.user)==null?void 0:y.display_name)||Et(((_=Z.user)==null?void 0:_.public_key_hash)||"")||"You",content:un,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),timestamp:Date.now(),channel_id:d,isEncrypted:be,reply_to:Ct==null?void 0:Ct.id,replied_message:Ct?{id:Ct.id,sender_id:Ct.author,sender_public_key_hash:"",encrypted_payload:"",created_at:Ct.timestamp,content:Ct.content}:void 0};Xe(Ne=>({...Ne,messages:[...Ne.messages,We]}));const Qe=On.current;Qe&&setTimeout(()=>{Qe.scrollTop=Qe.scrollHeight},0)}catch(xe){console.error("Failed to send message:",xe)}else{const xe={id:Math.random().toString(),author:((R=Z.user)==null?void 0:R.display_name)||Et(((I=Z.user)==null?void 0:I.public_key_hash)||"")||"You",content:un,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),timestamp:Date.now(),isEncrypted:!1};Xe(We=>({...We,messages:[...We.messages,xe]}));const be=On.current;be&&setTimeout(()=>{be.scrollTop=be.scrollHeight},0)}qt(""),ba(null)},is=async()=>{if(!(!ca||!Ma.trim()||!Z.user))try{let d=Ma;if(Le&&Ye&&qe)try{const y=await ya(Ye.privateKey,qe);d=await tu(y,Ma)}catch(y){console.warn("Failed to encrypt edited message:",y),Mt("Failed to encrypt message");return}De&&De.isSocketConnected()?De.sendEditMessage(ca,d):(await W.editMessage(ca,Z.user.id,d),Xe(y=>({...y,messages:y.messages.map(_=>_.id===ca?{..._,content:Ma,edited_at:Date.now()}:_)}))),Tl(null),Se("")}catch(d){console.error("Failed to edit message:",d),Mt("Failed to edit message")}},Vl=()=>{Tl(null),Se("")},ss=async d=>{if(Z.token)try{De&&De.isSocketConnected()?De.sendDeleteMessage(d):(await W.deleteMessage(d,Z.token),Xe(y=>({...y,messages:y.messages.filter(_=>_.id!==d)}))),ee(null)}catch(y){console.error("Failed to delete message:",y),Mt("Failed to delete message")}},cs=d=>{if(!Z.user||!Ce)return!1;if(d.author===(Z.user.display_name||Et(Z.user.public_key_hash)))return!0;const y=localStorage.getItem("accord_user_id"),_=en.find(R=>R.user_id===y);return _?_.role==="admin"||_.role==="moderator":!1},cl=d=>{ba(d);const y=document.querySelector(".message-input");y&&y.focus()},bc=()=>{ba(null)},os=d=>{const y=document.querySelector(`[data-message-id="${d}"]`);y&&(y.scrollIntoView({behavior:"smooth",block:"center"}),y.classList.add("highlight-message"),setTimeout(()=>{y.classList.remove("highlight-message")},2e3))},Ka=async(d,y)=>{if(Z.token){try{De&&De.isSocketConnected()?De.addReaction(d,y):await W.addReaction(d,y,Z.token)}catch(_){console.error("Failed to add reaction:",_),Mt("Failed to add reaction")}Vs(null)}},Su=async(d,y)=>{if(Z.token)try{De&&De.isSocketConnected()?De.removeReaction(d,y):await W.removeReaction(d,y,Z.token)}catch(_){console.error("Failed to remove reaction:",_),Mt("Failed to remove reaction")}},Nn=async d=>{if(Z.token)try{De&&De.isSocketConnected()?De.pinMessage(d):await W.pinMessage(d,Z.token)}catch(y){console.error("Failed to pin message:",y),Mt("Failed to pin message")}},xc=async d=>{if(Z.token)try{De&&De.isSocketConnected()?De.unpinMessage(d):await W.unpinMessage(d,Z.token)}catch(y){console.error("Failed to unpin message:",y),Mt("Failed to unpin message")}},ja=async()=>{if(!(!qe||!Z.token))try{const y=(await W.getPinnedMessages(qe,Z.token)).pinned_messages.map(_=>({..._,time:new Date(_.created_at*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),pinned_at:_.pinned_at*1e3,timestamp:_.created_at*1e3}));Un(y)}catch(d){console.error("Failed to load pinned messages:",d),Mt("Failed to load pinned messages")}},zo=()=>{gi(d=>(d||ja(),!d))},Ti=async(d,y)=>{if(!Z.user)return;const _=Z.messages.find(I=>I.id===d);if(!_||!_.reactions){Ka(d,y);return}const R=_.reactions.find(I=>I.emoji===y);R&&R.users.includes(Z.user.id)?Su(d,y):Ka(d,y)};w.useEffect(()=>{(async()=>{const y=q0(),_=localStorage.getItem("accord_user_id");if(y&&_&&lt){T(!1);let R=null;Le&&(R=await Yr(),R&&bt(R));let I="";if(R){const be=await Li(R.publicKey);I=await fi(be),pe(I),Aa(I),S(be)}Xe(be=>({...be,isAuthenticated:!0,token:y,user:{id:_,public_key_hash:I,public_key:"",created_at:0,display_name:Et(I)}})),O(!0);const xe=new Os(y,o.replace(/^http/,"ws"));ll(xe),dn(xe),xe.connect(),setTimeout(()=>{ra(),zn()},100)}})()},[lt,ll,Le,ra]),w.useEffect(()=>{Ce&&Z.token&&lt&&(Ut(Ce),ua(Ce))},[Ce,Z.token,lt,Ut,ua]),w.useEffect(()=>{qe&&Z.token&&lt&&il(qe)},[qe,Z.token,lt,il]),w.useEffect(()=>{const d=y=>{if((y.ctrlKey||y.metaKey)&&(y.key==="k"||y.key==="f")&&(y.preventDefault(),Xi(!0)),(y.ctrlKey||y.metaKey)&&y.key===","&&(y.preventDefault(),Ba(!0)),(y.ctrlKey||y.metaKey)&&y.key==="/"&&(y.preventDefault(),Pi(_=>!_)),y.key==="Escape"){if(ic){Pi(!1);return}if(Qs){Xi(!1);return}if(Ol){Ba(!1);return}if(Ps){Si(!1);return}if(wi){Wi(null);return}if(Xs){Zi(!1);return}if(Qi){Oa(!1);return}if(Fa){Wa(!1);return}if(lc){_i(!1);return}if(ca){Vl();return}if(Ct){bc();return}}};return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[ic,Qs,Ol,Xs,Qi,Fa,lc,ca,Ct]),w.useEffect(()=>{const d=localStorage.getItem("accord-font-size");d&&document.documentElement.style.setProperty("--font-size",d)},[]);const[ol]=w.useState(()=>localStorage.getItem("accord-message-density")||"comfortable");w.useEffect(()=>()=>{De&&De.disconnect()},[De]);const da=w.useCallback(d=>{var I;const y=To.get(d);if(y)return y;const _=Ao.get(d);if(_&&Date.now()-_<300*1e3)return"online";const R=en.find(xe=>xe.user_id===d);return R!=null&&R.status?R.status:(I=R==null?void 0:R.profile)!=null&&I.status?R.profile.status:"offline"},[To,Ao,en]),Bo=Vr.useMemo(()=>{const d={online:0,idle:1,dnd:2,offline:3};return[...en].sort((y,_)=>{const R=d[da(y.user_id)]??3,I=d[da(_.user_id)]??3;return R-I})},[en,da]),rs=w.useCallback((d,y,_,R,I,xe)=>{d.preventDefault(),Ea({x:d.clientX,y:d.clientY,userId:y,publicKeyHash:_,displayName:R,bio:I,user:xe})},[]);if(w.useEffect(()=>{const d=()=>Ea(null);if(Ot)return document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[Ot]),Me)return s.jsx("div",{className:"app",children:s.jsx("div",{className:"auth-page",children:s.jsxs("div",{className:"auth-card key-backup-card",children:[s.jsx("h2",{className:"auth-title",children:" Save Your Recovery Phrase"}),s.jsxs("p",{className:"auth-subtitle",children:["This 24-word phrase is the ",s.jsx("strong",{children:"only way"})," to recover your identity if you lose access to this browser.",s.jsx("strong",{className:"warning",style:{color:"var(--yellow)"},children:" Write it down and store it safely. It will NOT be shown again."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Recovery Phrase (24 words)"}),s.jsx("div",{style:{background:"var(--bg-tertiary)",border:"2px solid var(--yellow)",borderRadius:"8px",padding:"16px",fontFamily:"monospace",fontSize:"15px",lineHeight:"2",wordSpacing:"8px",userSelect:"all",cursor:"text"},children:ze})]}),s.jsx("div",{className:"form-group",style:{marginTop:"16px"},children:s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:Wt,onChange:d=>jt(d.target.checked)}),"I have written down my recovery phrase and stored it safely"]})}),s.jsxs("div",{className:"key-backup-actions",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(ze).catch(()=>{}),alert("Recovery phrase copied to clipboard! Store it safely and clear your clipboard.")},className:"btn btn-green",children:"Copy to Clipboard"}),s.jsx("button",{onClick:()=>{Ue(!1),$e(""),Y||(K(!0),ne(""),H(""))},disabled:!Wt,className:"btn btn-primary",title:Wt?"":"Please acknowledge you saved your phrase",children:Y?"Continue":"Continue to Login"})]})]})})});if(Zt)return s.jsx("div",{className:"app",children:s.jsx("div",{className:"auth-page",children:s.jsxs("div",{className:"auth-card",children:[s.jsx("button",{onClick:()=>{Ht(!1),rn(""),Rn(""),nn("")},className:"auth-back-btn",children:" Back"}),s.jsx("h2",{className:"auth-title",children:" Recover Identity"}),s.jsx("p",{className:"auth-subtitle",children:"Enter your 24-word recovery phrase and password to restore your identity"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Recovery Phrase (24 words)"}),s.jsx("textarea",{placeholder:"word1 word2 word3 ... word24",value:on,onChange:d=>Rn(d.target.value),rows:3,className:"form-textarea",style:{fontFamily:"monospace"}})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Password"}),s.jsx("input",{type:"password",placeholder:"Your account password",value:Pt,onChange:d=>nn(d.target.value),onKeyDown:d=>{d.key==="Enter"&&Ci()},className:"form-input"})]}),yn&&s.jsx("div",{className:"auth-error",children:yn}),s.jsx("button",{onClick:Ci,disabled:oe||!on.trim()||!Pt,className:"btn btn-primary",children:oe?"Recovering...":"Recover Identity"})]})})});if(le)return s.jsx("div",{className:"app",children:s.jsx("div",{className:"auth-page",children:s.jsxs("div",{className:"auth-card key-backup-card",children:[s.jsx("h2",{className:"auth-title",children:" Backup Your Key"}),s.jsxs("p",{className:"auth-subtitle",children:["Your identity is your keypair. If you lose it, you lose access to your account forever.",s.jsx("strong",{className:"warning",style:{color:"var(--yellow)"},children:" There is no recovery."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Your Public Key Fingerprint"}),s.jsx("div",{className:"key-value",children:ae||"computing..."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Public Key (share this)"}),s.jsx("textarea",{readOnly:!0,value:se,rows:3,className:"form-textarea"})]}),s.jsx("div",{className:"auth-success",style:{marginBottom:"16px"},children:" Your keypair is saved in this browser's storage. To use Accord on another device, you'll need to export and import your key."}),s.jsxs("div",{className:"key-backup-actions",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(se).catch(()=>{}),alert("Public key copied to clipboard!")},className:"btn btn-green",children:"Copy Public Key"}),s.jsx("button",{onClick:()=>{P(!1),K(!0),ne(""),H("")},className:"btn btn-primary",children:"Continue to Login"})]})]})})});if(A)return s.jsx("div",{className:"app",children:s.jsx("div",{className:"auth-page",children:s.jsxs("div",{className:"auth-card auth-card-narrow",children:[Q==="choose"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"auth-brand",children:s.jsxs("h1",{children:[" ",s.jsx("span",{className:"brand-accent",children:"Accord"})]})}),s.jsx("p",{className:"auth-tagline",children:"Privacy-first community communications"}),s.jsx("div",{className:"auth-buttons-stack",children:lt?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{T(!1),K(!0)},className:"btn btn-primary",children:"Log in"}),s.jsx("button",{onClick:()=>{T(!1),K(!1)},className:"btn btn-outline",children:"Create new identity"}),s.jsx("button",{onClick:()=>U("invite"),className:"btn btn-outline",children:"I have an invite link"}),s.jsx("button",{onClick:()=>{T(!1),Ht(!0),rn("")},className:"btn-ghost",style:{fontSize:"13px",marginTop:"8px",opacity:.8},children:" Recover identity with recovery phrase"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>U("invite"),className:"btn btn-primary",children:"I have an invite link"}),s.jsx("button",{onClick:()=>U("admin"),className:"btn btn-outline",children:"Set up a new relay (admin)"}),s.jsx("button",{onClick:()=>U("recover"),className:"btn-ghost",style:{fontSize:"13px",marginTop:"8px",opacity:.8},children:" Recover identity (connect to relay first)"})]})})]}),Q==="invite"&&!we&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{U("choose"),fe(""),J(""),ce(null),Te("")},className:"auth-back-btn",children:" Back"}),s.jsx("h2",{className:"auth-title",children:"Join via Invite"}),s.jsx("p",{className:"auth-subtitle",children:"Paste the invite link you received"}),s.jsx("div",{className:"form-group",children:s.jsx("input",{type:"text",placeholder:"accord://host:port/invite/CODE or https://...",value:L,onChange:d=>J(d.target.value),onKeyDown:d=>{d.key==="Enter"&&yc()},className:"form-input"})}),me&&s.jsx("div",{className:"auth-error",children:me}),He&&s.jsxs("div",{className:"auth-success",children:[" Connected to relay v",He]}),s.jsx("button",{onClick:yc,disabled:de||!L.trim(),className:"btn btn-primary",children:de?"Connecting to relay...":"Join"})]}),Q==="invite"&&we&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"auth-title",children:"Create Your Identity"}),s.jsx("p",{className:"auth-subtitle",children:"Connected to relay  now set a password to create your identity"}),s.jsx("div",{className:"auth-info-box",children:s.jsx("span",{className:"accent",children:" A keypair will be auto-generated. No username needed."})}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Password (min 8 characters)"}),s.jsx("input",{type:"password",placeholder:"Choose a password",value:Oe,onChange:d=>je(d.target.value),onKeyDown:d=>{d.key==="Enter"&&vc()},className:"form-input"})]}),me&&s.jsx("div",{className:"auth-error",children:me}),s.jsx("button",{onClick:vc,disabled:ye||Oe.length<8,className:"btn btn-green",children:ye?"Creating identity & joining...":"Create Identity & Join"})]}),Q==="admin"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{U("choose"),H("")},className:"auth-back-btn",children:" Back"}),s.jsx("h2",{className:"auth-title",children:"Connect to Relay"}),s.jsx("p",{className:"auth-subtitle",children:"Enter the relay server URL (admin/power-user)"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Server URL"}),s.jsx("input",{type:"text",placeholder:"http://localhost:8080",value:o,onChange:d=>l(d.target.value),onKeyDown:d=>{d.key==="Enter"&&Yl()},className:"form-input"})]}),D&&s.jsx("div",{className:"auth-error",children:D}),v&&s.jsxs("div",{className:"auth-success",children:[" Connected  server v",v]}),s.jsx("button",{onClick:Yl,disabled:p,className:"btn btn-primary",children:p?"Connecting...":"Connect"})]})]})})});if(h)return s.jsx("div",{className:"app",children:s.jsx("div",{className:"auth-page",children:s.jsxs("div",{className:"auth-card auth-card-narrow",children:[s.jsx("h2",{className:"auth-title",children:"Connect to Relay"}),s.jsx("p",{className:"auth-subtitle",children:"Manual relay connection"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Server URL"}),s.jsx("input",{type:"text",placeholder:"http://localhost:8080",value:o,onChange:d=>l(d.target.value),onKeyDown:d=>{d.key==="Enter"&&Yl()},className:"form-input"})]}),D&&s.jsx("div",{className:"auth-error",children:D}),v&&s.jsxs("div",{className:"auth-success",children:[" Connected  server v",v]}),s.jsx("button",{onClick:Yl,disabled:p,className:"btn btn-primary",children:p?"Connecting...":"Connect"})]})})});if(!Y)return s.jsx("div",{className:"app",children:s.jsx("div",{className:"auth-page",children:s.jsxs("div",{className:"auth-card",children:[s.jsx("h2",{className:"auth-title",children:E?k?"Welcome Back":"Login to Accord":"Create Identity"}),s.jsx("p",{className:"auth-subtitle",children:E?k?"Enter your password to sign back in":"Authenticate with your keypair and password":"A new keypair will be generated automatically"}),s.jsxs("div",{className:"auth-server-bar",children:[s.jsxs("span",{children:[" ",o," ",lt&&s.jsx("span",{className:"connected",children:" connected"})]}),s.jsx("button",{onClick:()=>{T(!0),U("choose"),H("")},className:"btn-ghost",style:{fontSize:"12px"},children:"Change"})]}),E&&s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Key Status"}),s.jsx("div",{className:"auth-info-box",children:Ye||se||k?s.jsx("span",{className:"accent",children:" Keypair found  enter your password to sign back in"}):localStorage.getItem("accord_public_key_plain")?s.jsx("span",{className:"accent",children:" Identity remembered  enter your password to log in"}):s.jsx("span",{style:{color:"var(--yellow)"},children:" No identity found on this device  create a new one or recover with your phrase"})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Password"}),s.jsx("input",{type:"password",placeholder:E?"Enter your password":"Choose a password (min 8 chars)",value:V,onChange:d=>ne(d.target.value),onKeyDown:d=>{d.key==="Enter"&&Bn()},className:"form-input"}),!E&&V&&V.length<8&&s.jsx("div",{className:"form-hint",style:{color:"var(--red)"},children:"Password must be at least 8 characters"})]}),!E&&Le&&s.jsxs("div",{className:"auth-info-box",style:{marginBottom:"20px"},children:[s.jsx("div",{className:"accent",children:" A new ECDH P-256 keypair will be generated for your identity"}),s.jsx("div",{style:{fontSize:"12px",marginTop:"4px"},children:"No username needed  you are identified by your public key hash"})]}),D&&s.jsx("div",{className:"auth-error",children:D}),s.jsx("button",{onClick:Bn,className:"btn btn-primary",style:{marginBottom:"16px"},children:E?"Login":"Create Identity & Register"}),s.jsxs("div",{className:"auth-toggle",style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},children:[s.jsx("button",{onClick:()=>{K(!E),H(""),ne("")},className:"btn-ghost",children:E?"Need to create an identity?":"Already have a keypair? Login"}),s.jsxs("div",{style:{borderTop:"1px solid var(--border)",width:"100%",paddingTop:"12px",marginTop:"4px",display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},children:[s.jsx("span",{style:{fontSize:"12px",opacity:.6},children:"Lost access to your keypair?"}),s.jsx("button",{onClick:()=>{Ht(!0),rn("")},className:"btn btn-outline",style:{width:"100%"},children:" Recover with recovery phrase"})]})]})]})})});const Sc=it.map(d=>d.name),Xt=d=>d?d.display_name||Et(d.public_key_hash):"Unknown",Ya=d=>typeof d.channel_type=="number"?d.channel_type:d.channel_type==="voice"?2:d.channel_type==="category"?4:0,rl=[...In].sort((d,y)=>(d.position??0)-(y.position??0)),us=rl.filter(d=>Ya(d)===4),Zl=rl.filter(d=>Ya(d)!==4),Ln=Zl.filter(d=>!d.parent_id),Hn=d=>Zl.filter(y=>y.parent_id===d),Ga=d=>{fu(y=>{const _=new Set(y);return _.has(d)?_.delete(d):_.add(d),_})};return s.jsxs("div",{className:"app",children:[s.jsxs("div",{className:"server-list",children:[Sc.map((d,y)=>{var I;const _=it.length>0?(I=it[y])==null?void 0:I.id:null,R=_?xt.getNodeUnreads(_):{totalUnreads:0,totalMentions:0};return s.jsxs("div",{className:`server-icon ${y===At?"active":""}`,onClick:()=>{_?ql(_,y):$a(y)},title:d,children:[d[0],R.totalMentions>0&&s.jsx("div",{className:"server-notification mention",children:R.totalMentions>9?"9+":R.totalMentions}),R.totalMentions===0&&R.totalUnreads>0&&s.jsx("div",{className:"server-notification dot"})]},_||d)}),s.jsx("div",{className:"server-icon add-server",title:"Join or Create Node",onClick:()=>Oa(!0),style:{cursor:"pointer"},children:"+"})]},vo),s.jsxs("div",{className:"channel-sidebar",children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsxs("div",{className:"sidebar-header-row",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[Sc[At],lt&&s.jsxs("span",{className:"connection-status",children:[s.jsx("span",{className:`connection-dot ${Mn.status}`,children:""}),s.jsxs("span",{className:"connection-label",children:[Mn.status==="connected"&&"Connected",Mn.status==="reconnecting"&&`Reconnecting... ${Mn.reconnectAttempt}/${Mn.maxReconnectAttempts}`,Mn.status==="disconnected"&&!Z.isConnected&&"Disconnected"]}),Mn.status==="disconnected"&&!Z.isConnected&&De&&s.jsx("button",{className:"connection-retry-btn",onClick:()=>De.retry(),children:"Retry"})]}),!lt&&s.jsx("span",{className:"demo-badge",children:"DEMO"})]}),s.jsxs("div",{className:"sidebar-admin-buttons",children:[Ce&&Hl(Ce,"ManageInvites")&&s.jsx("button",{onClick:Oo,className:"sidebar-admin-btn",title:"Generate Invite",children:"Invite"}),Ce&&s.jsx("button",{onClick:()=>Si(!0),className:"sidebar-admin-btn",title:"Node Settings",children:""})]})]}),Ce&&Fe[Ce]&&s.jsxs("div",{className:"sidebar-role",children:[ns(Fe[Ce])," ",Fe[Ce]]}),Ce&&((Fn=it.find(d=>d.id===Ce))==null?void 0:Fn.description)&&s.jsx("div",{className:"sidebar-description",title:(Wn=it.find(d=>d.id===Ce))==null?void 0:Wn.description,children:(fa=it.find(d=>d.id===Ce))==null?void 0:fa.description})]}),s.jsxs("div",{className:"channel-list",children:[(()=>{const d=Ce&&Hl(Ce,"DeleteChannel"),y=_=>{const R=Ya(_)===2,I=_.id===qe,xe=R&&fn===_.id,be=Ce?xt.getChannelUnreads(Ce,_.id):{count:0,mentions:0},We=be.count>0||be.mentions>0;return s.jsxs("div",{className:`channel ${I?"active":""} ${xe?"voice-connected":""} ${We&&!I?"unread":""}`,title:_.topic||void 0,children:[s.jsxs("div",{onClick:()=>{R?xe||(Ys(_.id),Gi(_.name)):qa(_.id,`# ${_.name}`)},style:{flex:1,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("span",{style:{color:R?"#8e9297":void 0},children:[R?"":"#"," ",_.name]}),R&&!xe&&s.jsx("span",{style:{fontSize:"10px",color:"#8e9297",marginLeft:"4px"},children:"Voice Channel"}),xe&&s.jsx("span",{style:{fontSize:"10px",color:"#43b581"},children:""})]}),s.jsxs("div",{className:"channel-badges",children:[be.mentions>0&&s.jsx("div",{className:"mention-badge",children:be.mentions>9?"9+":be.mentions}),be.mentions===0&&be.count>0&&s.jsx("div",{className:"unread-badge",children:be.count>99?"99+":be.count}),d&&s.jsx("button",{onClick:Qe=>{Qe.stopPropagation(),Wi({id:_.id,name:_.name})},className:"channel-delete-btn",title:"Delete channel",children:""})]})]},_.id)};return s.jsxs(s.Fragment,{children:[Ln.map(_=>y(_)),us.map(_=>{const R=Hn(_.id),I=du.has(_.id);return s.jsxs("div",{className:"channel-category",children:[s.jsxs("div",{className:"category-header",onClick:()=>Ga(_.id),children:[s.jsx("span",{className:"category-arrow",children:I?"":""}),s.jsx("span",{className:"category-name",children:_.name})]}),!I&&R.map(xe=>y(xe))]},_.id)})]})})(),Ce&&Hl(Ce,"ManageNode")&&s.jsx("div",{style:{padding:"4px 8px"},children:s.jsx("button",{onClick:()=>$i(!0),className:"btn btn-outline btn-sm",style:{width:"100%",fontSize:"11px"},children:" Import Discord Template"})}),Ce&&Hl(Ce,"CreateChannel")&&s.jsx("div",{style:{marginTop:"4px",padding:"0 8px"},children:Ge?s.jsxs("div",{className:"create-channel-form",children:[s.jsx("input",{type:"text",placeholder:"Channel name",value:xn,onChange:d=>sn(d.target.value)}),s.jsxs("select",{value:Jn,onChange:d=>kt(d.target.value),children:[s.jsx("option",{value:"text",children:"Text Channel"}),s.jsx("option",{value:"voice",children:"Voice Channel"})]}),s.jsxs("div",{className:"create-channel-actions",children:[s.jsx("button",{onClick:mc,className:"btn btn-green btn-sm",children:"Create"}),s.jsx("button",{onClick:()=>{Yt(!1),sn(""),kt("text")},className:"btn btn-outline btn-sm",children:"Cancel"})]})]}):s.jsx("button",{onClick:()=>Yt(!0),className:"btn btn-green btn-sm",style:{width:"100%"},children:"+ Create Channel"})})]}),s.jsxs("div",{className:"dm-section",children:[s.jsxs("div",{className:"dm-header",children:["Direct Messages",s.jsx("button",{onClick:()=>Da(!tl),className:"dm-header-add-btn",title:"Create DM",children:"+"})]}),s.jsxs("div",{className:"dm-list",children:[wa.map(d=>{var R;const y=(Dt==null?void 0:Dt.id)===d.id,_=xt.getChannelUnreads(`dm-${d.id}`,d.id);return s.jsxs("div",{className:`dm-item ${y?"active":""}`,onClick:()=>ji(d),children:[s.jsx("div",{className:"dm-avatar",children:(((R=d.other_user_profile)==null?void 0:R.display_name)||"?")[0].toUpperCase()}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsx("div",{className:"dm-name",children:d.other_user_profile.display_name}),d.last_message&&s.jsx("div",{className:"dm-last-message",children:d.last_message.content.substring(0,30)})]}),s.jsxs("div",{className:"dm-badges",children:[_.mentions>0&&s.jsx("div",{className:"mention-badge",children:_.mentions>9?"9+":_.mentions}),_.mentions===0&&_.count>0&&s.jsx("div",{className:"notification-dot"})]})]},d.id)}),wa.length===0&&s.jsx("div",{className:"dm-empty",children:"No direct messages yet"})]})]}),s.jsxs("div",{className:"user-panel",children:[s.jsx("div",{className:"user-avatar",children:((fs=((wc=Z.user)==null?void 0:wc.display_name)||Et(((ds=Z.user)==null?void 0:ds.public_key_hash)||""))==null?void 0:fs[0])||"U"}),s.jsxs("div",{className:"user-info",children:[s.jsx("div",{className:"username",children:((_c=Z.user)==null?void 0:_c.display_name)||Et(((Qt=Z.user)==null?void 0:Qt.public_key_hash)||"")||"You"}),s.jsx("div",{className:"user-status",children:Z.isConnected?"Online":"Offline"})]}),s.jsx("button",{onClick:()=>Ws(!0),className:"user-panel-settings connection-indicator",title:Z.isConnected?`Connected${nl?`  v${nl}`:""}${Ul?` (${Ul.slice(0,8)})`:""}`:"Disconnected",children:Z.isConnected?"":""}),s.jsx("button",{onClick:()=>Zi(!0),className:"user-panel-settings",title:"Notification Settings",children:""}),s.jsx("button",{onClick:()=>Ba(!0),className:"user-panel-settings",title:"Settings (Ctrl+,)",children:""}),s.jsx("button",{onClick:_n,className:"user-panel-logout",children:"Logout"})]})]}),s.jsx("div",{className:"chat-area",children:s.jsxs(Y0,{channelId:(Dt==null?void 0:Dt.id)||qe||"",token:Z.token||"",keyPair:Ye,encryptionEnabled:Le,children:[s.jsxs("div",{className:"chat-header",children:[s.jsx("div",{className:"chat-header-left",children:Dt?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[s.jsx("div",{className:"dm-avatar",style:{width:"24px",height:"24px",fontSize:"12px",marginRight:"8px"},children:(((mt=Dt.other_user_profile)==null?void 0:mt.display_name)||"?")[0].toUpperCase()}),s.jsx("span",{className:"chat-channel-name",children:Dt.other_user_profile.display_name})]}),s.jsxs("span",{className:"chat-topic",children:["Direct message with ",Dt.other_user_profile.display_name]})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"chat-channel-name",children:Rt}),s.jsx("span",{className:"chat-topic",children:(()=>{const d=In.find(y=>y.id===qe);return(d==null?void 0:d.channel_type)==="voice"?` Voice channel  ${d.name}`:`Welcome to ${Rt}!`})()})]})}),s.jsxs("div",{className:"chat-header-right",children:[s.jsx("button",{onClick:zo,className:`chat-header-btn ${Gs?"active":""}`,title:"Toggle pinned messages",children:""}),Le&&Ye&&s.jsx("span",{className:"e2ee-badge enabled",title:"End-to-end encryption enabled",children:" E2EE"}),Le&&!Ye&&s.jsx("span",{className:"e2ee-badge warning",title:"Encryption not available",children:" No Keys"}),!Le&&s.jsx("span",{className:"e2ee-badge disabled",title:"Encryption not supported",children:" No E2EE"}),s.jsx("button",{className:"search-button",onClick:()=>Xi(!0),title:"Search messages (Ctrl+K)",children:""})]})]}),s.jsxs("div",{className:`messages ${fn?"with-voice":""} density-${ol}`,ref:On,onScroll:hc,children:[ia&&s.jsxs("div",{className:"messages-loading",children:[s.jsx("span",{className:"spinner spinner-sm"})," Loading older messages..."]}),!ln&&Z.messages.length>0&&s.jsx("div",{className:"messages-beginning",children:"You've reached the beginning of this channel"}),!ia&&Z.messages.length===0&&qe&&s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-state-icon",children:""}),s.jsx("div",{className:"empty-state-title",children:"No messages yet"}),s.jsx("div",{className:"empty-state-text",children:"Be the first to send a message in this channel!"})]}),!qe&&!Dt&&In.length===0&&it.length>0&&s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-state-icon",children:"#"}),s.jsx("div",{className:"empty-state-title",children:"No channels"}),s.jsx("div",{className:"empty-state-text",children:"Create a channel to start chatting."})]}),it.length===0&&!Dt&&s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-state-icon",children:""}),s.jsx("div",{className:"empty-state-title",children:"Welcome to Accord"}),s.jsx("div",{className:"empty-state-text",children:"Join a node via invite or create your own to get started."})]}),Z.messages.map((d,y)=>{const _=y>0?Z.messages[y-1]:null,R=_&&_.author===d.author&&Math.abs(d.timestamp-_.timestamp)<300*1e3&&!d.reply_to,I=new Date(d.timestamp),xe=_?new Date(_.timestamp):null,be=!xe||I.toDateString()!==xe.toDateString(),We=Ne=>{const he=new Date,wt=new Date(he.getFullYear(),he.getMonth(),he.getDate()),rt=new Date(Ne.getFullYear(),Ne.getMonth(),Ne.getDate()),tt=wt.getTime()-rt.getTime();return tt===0?"Today":tt===864e5?"Yesterday":Ne.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})},Qe=Ne=>{const he=Date.now()-Ne;return he<6e4?"just now":he<36e5?`${Math.floor(he/6e4)}m ago`:he<864e5?`${Math.floor(he/36e5)}h ago`:new Date(Ne).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return s.jsxs(Vr.Fragment,{children:[be&&s.jsx("div",{className:"date-separator",children:s.jsx("span",{className:"date-separator-text",children:We(I)})}),s.jsxs("div",{className:`message ${d.reply_to?"reply-message":""} ${R?"message-grouped":""}`,"data-message-id":d.id,children:[d.replied_message&&s.jsxs("div",{className:"reply-preview",onClick:()=>os(d.reply_to),children:[s.jsx("div",{className:"reply-bar"}),s.jsxs("div",{className:"reply-content",children:[s.jsxs("span",{className:"reply-author",children:["Replying to ",Et(d.replied_message.sender_public_key_hash)]}),s.jsx("span",{className:"reply-snippet",children:d.replied_message.content||d.replied_message.encrypted_payload.substring(0,50)+"..."})]})]}),!R&&s.jsx("div",{className:"message-avatar",children:(d.author||"?")[0]}),R&&s.jsx("div",{className:"message-avatar-spacer",children:s.jsx("span",{className:"message-hover-time",children:new Date(d.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}),s.jsxs("div",{className:"message-body",children:[!R&&s.jsxs("div",{className:"message-header",children:[s.jsx("span",{className:"message-author",onContextMenu:Ne=>{var wt;const he=en.find(rt=>Xt(rt.user)===d.author||Et(rt.public_key_hash)===d.author);he&&rs(Ne,he.user_id,he.public_key_hash,d.author,(wt=he.profile)==null?void 0:wt.bio,he.user)},children:d.author}),s.jsx("span",{className:"message-time",children:Qe(d.timestamp)}),d.edited_at&&s.jsx("span",{className:"message-edited",title:`Edited at ${new Date(d.edited_at).toLocaleString()}`,children:"(edited)"}),d.isEncrypted&&s.jsx("span",{className:"message-encrypted-badge",title:"End-to-end encrypted",children:""}),d.pinned_at&&s.jsx("span",{className:"message-pinned-badge",title:`Pinned ${new Date(d.pinned_at).toLocaleString()}`,children:""}),Z.user&&s.jsxs("div",{className:"message-actions",children:[s.jsx("button",{onClick:()=>cl(d),className:"message-action-btn",title:"Reply to message",children:""}),d.author===(Z.user.display_name||Et(Z.user.public_key_hash))&&s.jsx("button",{onClick:()=>ve(d.id,d.content),className:"message-action-btn",title:"Edit message",children:""}),(d.author===(Z.user.display_name||Et(Z.user.public_key_hash))||cs(d))&&s.jsx("button",{onClick:()=>ee(d.id),className:"message-action-btn",title:"Delete message",children:""}),cs(d)&&s.jsx("button",{onClick:()=>d.pinned_at?xc(d.id):Nn(d.id),className:"message-action-btn",title:d.pinned_at?"Unpin message":"Pin message",children:""})]})]}),ca===d.id?s.jsxs("div",{className:"message-edit-container",children:[s.jsx("input",{type:"text",value:Ma,onChange:Ne=>Se(Ne.target.value),onKeyDown:Ne=>{Ne.key==="Enter"&&!Ne.shiftKey?(Ne.preventDefault(),is()):Ne.key==="Escape"&&Vl()},className:"message-edit-input",placeholder:"Edit your message...",autoFocus:!0}),s.jsxs("div",{className:"message-edit-actions",children:[s.jsx("button",{onClick:is,className:"edit-save-btn",children:"Save"}),s.jsx("button",{onClick:Vl,className:"edit-cancel-btn",children:"Cancel"})]})]}):s.jsx("div",{className:"message-content",dangerouslySetInnerHTML:{__html:xt.highlightMentions(d.content)}}),d.files&&d.files.length>0&&s.jsx("div",{className:"message-attachments",children:d.files.map(Ne=>s.jsx(G0,{file:Ne,token:Z.token||"",channelId:d.channel_id||(Dt==null?void 0:Dt.id)||qe||"",keyPair:Ye,encryptionEnabled:Le},Ne.id))}),s.jsxs("div",{className:"message-reactions-container",onMouseEnter:()=>Pa(d.id),onMouseLeave:()=>Pa(null),children:[d.reactions&&d.reactions.length>0&&s.jsx("div",{className:"message-reactions",children:d.reactions.map(Ne=>{const he=Z.user&&Ne.users.includes(Z.user.id);return s.jsxs("button",{className:`reaction ${he?"reaction-user-reacted":""}`,onClick:()=>Ti(d.id,Ne.emoji),title:`${Ne.users.length} reactions`,children:[s.jsx("span",{className:"reaction-emoji",children:Ne.emoji}),s.jsx("span",{className:"reaction-count",children:Ne.count})]},Ne.emoji)})}),Zs===d.id&&Z.user&&s.jsxs("div",{className:"add-reaction-container quick-react-bar",children:[["","","","",""].map(Ne=>s.jsx("button",{className:"quick-react-btn",onClick:()=>Ti(d.id,Ne),title:`React with ${Ne}`,children:Ne},Ne)),s.jsx("button",{className:"add-reaction-btn",onClick:()=>Vs(Vi===d.id?null:d.id),title:"More reactions",children:"+"}),Vi===d.id&&s.jsx("div",{className:"emoji-picker",children:go.map(Ne=>s.jsx("button",{className:"emoji-option",onClick:()=>Ka(d.id,Ne),title:`React with ${Ne}`,children:Ne},Ne))})]})]}),j===d.id&&s.jsx("div",{className:"delete-confirm-overlay",children:s.jsxs("div",{className:"delete-confirm-dialog",children:[s.jsx("p",{children:"Are you sure you want to delete this message?"}),s.jsxs("div",{className:"delete-confirm-actions",children:[s.jsx("button",{onClick:()=>ss(d.id),className:"delete-confirm-btn",children:"Delete"}),s.jsx("button",{onClick:()=>ee(null),className:"delete-cancel-btn",children:"Cancel"})]})]})})]})]})]},d.id||y)}),jo&&s.jsxs("button",{className:"scroll-to-bottom-btn",onClick:yu,children:[" ",cc>0&&s.jsx("span",{className:"scroll-to-bottom-count",children:cc})]})]}),qe&&Mo(qe)&&s.jsxs("div",{className:"typing-indicator",children:[s.jsxs("div",{className:"typing-dots-animated",children:[s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{})]}),s.jsx("span",{className:"typing-text",children:Mo(qe)})]}),s.jsxs("div",{className:"message-input-container",children:[Ct&&s.jsxs("div",{className:"reply-input-preview",children:[s.jsx("div",{className:"reply-input-bar"}),s.jsxs("div",{className:"reply-input-content",children:[s.jsxs("span",{className:"reply-input-text",children:["Replying to ",s.jsx("strong",{children:Ct.author}),": ",Ct.content.substring(0,100),Ct.content.length>100?"...":""]}),s.jsx("button",{className:"reply-cancel-btn",onClick:bc,title:"Cancel reply",children:""})]})]}),lt&&Z.activeChannel&&s.jsx(K0,{channelId:Z.activeChannel,token:Z.token||"",keyPair:Ye,encryptionEnabled:Le}),s.jsx("textarea",{ref:Eo,className:"message-input",placeholder:`Message ${Rt}`,value:un,rows:1,onChange:d=>{qt(d.target.value),d.target.style.height="auto",d.target.style.height=Math.min(d.target.scrollHeight,200)+"px",qe&&gu(qe)},onKeyDown:d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),Gl())}}),s.jsx(Q0,{isOpen:sc,onToggle:()=>al(d=>!d),onSelect:Do,onClose:()=>al(!1)}),lt&&Z.activeChannel&&s.jsx(V0,{channelId:Z.activeChannel,token:Z.token||"",keyPair:Ye,encryptionEnabled:Le})]})]})}),fn&&s.jsx(I0,{ws:De,currentUserId:localStorage.getItem("accord_user_id"),channelId:fn,channelName:ru,onLeave:()=>{Ys(null),Gi("")}}),s.jsxs("div",{className:"member-sidebar",children:[s.jsxs("div",{className:"member-header",children:["Members  ",en.filter(d=>d.user).length]}),(()=>{const d=localStorage.getItem("accord_user_id"),y=Ce&&Hl(Ce,"KickMembers"),_=he=>{var tt;const wt=he.user_id===d,rt=da(he.user_id);return s.jsxs("div",{className:`member ${rt==="offline"?"member-offline":""}`,onContextMenu:_t=>{var En;return rs(_t,he.user_id,he.public_key_hash,Xt(he.user),(En=he.profile)==null?void 0:En.bio,he.user)},children:[s.jsxs("div",{className:"member-avatar-wrapper",children:[s.jsx("div",{className:"member-avatar",children:Xt(he.user)[0]}),s.jsx("span",{className:`presence-dot presence-${rt}`,title:rt})]}),s.jsx("span",{className:"member-name",children:Xt(he.user)}),s.jsx("span",{className:"member-role-badge",title:he.role,children:ns(he.role)}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"4px"},children:[!wt&&s.jsx("button",{onClick:_t=>{_t.stopPropagation(),ls(he.user)},className:"member-action-btn",title:"Send DM",children:"DM"}),y&&!wt&&s.jsx("button",{onClick:_t=>{_t.stopPropagation(),sl(he.user_id,Xt(he.user))},className:"member-action-btn danger",title:"Kick member",children:"Kick"})]})]},((tt=he.user)==null?void 0:tt.id)||he.user_id)},R=hu.filter(he=>he.hoist).sort((he,wt)=>wt.position-he.position),I=Bo.filter(he=>he.user);if(R.length===0){const he=I.filter(rt=>da(rt.user_id)!=="offline"),wt=I.filter(rt=>da(rt.user_id)==="offline");return s.jsxs(s.Fragment,{children:[he.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"role-section-header",children:["Online  ",he.length]}),he.map(rt=>_(rt))]}),wt.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"role-section-header",style:{color:"#72767d"},children:["Offline  ",wt.length]}),wt.map(rt=>_(rt))]})]})}const xe=new Set,be=[];for(const he of R)be.push({name:he.name,color:he.color,members:[]});const We=I.filter(he=>!xe.has(he.user_id)),Qe=We.filter(he=>da(he.user_id)!=="offline"),Ne=We.filter(he=>da(he.user_id)==="offline");return s.jsxs(s.Fragment,{children:[be.filter(he=>he.members.length>0).map(he=>s.jsxs(Vr.Fragment,{children:[s.jsxs("div",{className:"role-section-header",style:{color:he.color||void 0},children:[he.name,"  ",he.members.length]}),he.members.map(wt=>_(wt))]},he.name)),Qe.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"role-section-header",children:["Online  ",Qe.length]}),Qe.map(he=>_(he))]}),Ne.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"role-section-header",style:{color:"#72767d"},children:["Offline  ",Ne.length]}),Ne.map(he=>_(he))]}),I.length===0&&en.length===0&&s.jsx("div",{className:"members-empty",children:it.length===0?"Join or create a node to see members":"No members loaded"})]})})()]}),pi&&s.jsxs("div",{className:"error-toast",children:[s.jsx("span",{style:{flex:1},children:pi}),s.jsx("button",{onClick:()=>Mt(""),className:"error-toast-close",children:""})]}),Qi&&!Js&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-card",children:[s.jsx("h3",{children:"Create a Node"}),s.jsx("p",{children:"A Node is your community space. A #general channel will be created automatically."}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Node Name"}),s.jsx("input",{type:"text",placeholder:"My Community",value:vi,onChange:d=>Dl(d.target.value),onKeyDown:d=>{d.key==="Enter"&&gc()},className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Description (optional)"}),s.jsx("input",{type:"text",placeholder:"What's this node about?",value:bi,onChange:d=>Ji(d.target.value),className:"form-input"})]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{onClick:gc,disabled:hn||!vi.trim(),className:"btn btn-green",children:hn?"Creating...":"Create Node"}),s.jsx("button",{onClick:()=>{Oa(!1),Dl(""),Ji("")},className:"btn btn-outline",children:"Cancel"})]}),s.jsx("div",{style:{borderTop:"1px solid var(--border)",marginTop:"16px",paddingTop:"16px",textAlign:"center"},children:s.jsxs("button",{onClick:()=>Ua(!0),className:"btn-ghost",children:["Have an invite code? ",s.jsx("strong",{children:"Join a Node"})]})})]})}),Js&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-card",children:[s.jsx("h3",{children:"Join a Node"}),s.jsx("p",{children:"Enter an invite code or link to join an existing Node."}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Invite Code or Link"}),s.jsx("input",{type:"text",placeholder:"accord://host/invite/CODE or just the code",value:wn,onChange:d=>yi(d.target.value),onKeyDown:d=>{d.key==="Enter"&&wn.trim()&&pc()},className:"form-input"})]}),Ii&&s.jsx("div",{className:"auth-error",children:Ii}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{onClick:pc,disabled:Rl||!wn.trim(),className:"btn btn-primary",children:Rl?"Joining...":"Join Node"}),s.jsx("button",{onClick:()=>{Ua(!1),Oa(!1),yi(""),Ml("")},className:"btn btn-outline",children:"Cancel"})]}),s.jsx("div",{style:{borderTop:"1px solid var(--border)",marginTop:"16px",paddingTop:"16px",textAlign:"center"},children:s.jsxs("button",{onClick:()=>Ua(!1),className:"btn-ghost",children:["Want to create your own? ",s.jsx("strong",{children:"Create a Node"})]})})]})}),Fa&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-card",children:[s.jsx("h3",{children:"Invite Link Generated"}),s.jsx("p",{children:"Share this link to invite others to your node. The relay address is encoded for privacy."}),s.jsx("div",{className:"modal-code-block",style:{wordBreak:"break-all",fontFamily:"monospace",fontSize:"0.85em"},children:Ks}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Ks).then(()=>{alert("Invite code copied to clipboard!")}).catch(()=>{const d=document.createElement("textarea");d.value=Ks,document.body.appendChild(d),d.select(),document.execCommand("copy"),document.body.removeChild(d),alert("Invite code copied to clipboard!")})},className:"btn btn-primary",style:{width:"auto"},children:"Copy"}),s.jsx("button",{onClick:()=>{Wa(!1),Al("")},className:"btn btn-outline",style:{width:"auto"},children:"Close"})]})]})}),wi&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-card",children:[s.jsx("h3",{children:"Delete Channel"}),s.jsxs("p",{children:["Are you sure you want to delete ",s.jsxs("strong",{children:["#",wi.name]}),"? This action cannot be undone. All messages will be permanently lost."]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{onClick:()=>Uo(wi.id),className:"btn btn-red",children:"Delete Channel"}),s.jsx("button",{onClick:()=>Wi(null),className:"btn btn-outline",children:"Cancel"})]})]})}),mu&&Ce&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-card",style:{maxWidth:"480px"},children:[s.jsx("h3",{children:" Import Discord Template"}),Na?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{color:"#43b581",marginBottom:"12px",fontSize:"14px"},children:" Import complete!"}),s.jsxs("div",{style:{color:"#dcddde",fontSize:"13px",lineHeight:"1.6"},children:[Na.roles_created!==void 0&&s.jsxs("div",{children:["Roles created: ",s.jsx("strong",{children:Na.roles_created})]}),Na.channels_created!==void 0&&s.jsxs("div",{children:["Channels created: ",s.jsx("strong",{children:Na.channels_created})]}),Na.categories_created!==void 0&&s.jsxs("div",{children:["Categories created: ",s.jsx("strong",{children:Na.categories_created})]})]}),s.jsx("div",{className:"modal-actions",style:{marginTop:"16px"},children:s.jsx("button",{className:"btn btn-green",onClick:()=>{$i(!1),tc(""),ac(null),Fi(""),Ce&&(Ut(Ce),as(Ce))},children:"Done"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{style:{color:"#b9bbbe",fontSize:"14px"},children:"Paste a discord.new link, discord.com/template link, or raw template code."}),s.jsx("div",{className:"form-group",children:s.jsx("input",{type:"text",placeholder:"discord.new/CODE or template code",value:ec,onChange:d=>tc(d.target.value),className:"form-input",disabled:nc})}),So&&s.jsx("div",{style:{color:"#f04747",fontSize:"13px",marginBottom:"8px"},children:So}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{className:"btn btn-green",disabled:nc||!ec.trim(),onClick:async()=>{Fi(""),xo(!0);try{let d=ec.trim();const y=d.match(/discord\.new\/([A-Za-z0-9]+)/),_=d.match(/discord\.com\/template\/([A-Za-z0-9]+)/);y?d=y[1]:_&&(d=_[1]);const R=await W.importDiscordTemplate(Ce,d,Z.token||"");ac(R)}catch(d){Fi(d.message||"Import failed")}finally{xo(!1)}},children:nc?" Importing...":"Import"}),s.jsx("button",{className:"btn btn-outline",onClick:()=>{$i(!1),tc(""),Fi(""),ac(null)},children:"Cancel"})]})]})]})}),Ps&&Ce&&(()=>{const d=it.find(y=>y.id===Ce);return d?s.jsx($0,{isOpen:Ps,onClose:()=>Si(!1),node:d,token:Z.token||"",userRole:Fe[Ce]||"member",onNodeUpdated:y=>{Qn(_=>_.map(R=>R.id===y.id?y:R))},onLeaveNode:()=>{Sa(null),Dn([]),xa([]),ra()}}):null})(),s.jsx(J0,{isVisible:Qs,onClose:()=>Xi(!1),nodeId:Ce,channels:In,token:Z.token||null,onNavigateToMessage:bu}),s.jsx(W0,{isOpen:Xs,onClose:()=>Zi(!1),preferences:yo,onPreferencesChange:vu}),s.jsx(P0,{isOpen:Ol,onClose:()=>Ba(!1),currentUser:Z.user,serverInfo:{version:nl,buildHash:Ul,connectedSince:zl,relayAddress:W.getBaseUrl(),isConnected:Z.isConnected},onUserUpdate:d=>{Z.user&&Xe(y=>({...y,user:{...y.user,...d}}))}}),uu&&s.jsx("div",{className:"settings-overlay",onClick:()=>Ws(!1),children:s.jsxs("div",{className:"connection-info-modal",onClick:d=>d.stopPropagation(),children:[s.jsxs("div",{className:"connection-info-header",children:[s.jsx("h3",{children:"Connection Info"}),s.jsx("button",{className:"settings-close",onClick:()=>Ws(!1),children:""})]}),s.jsxs("div",{className:"connection-info-body",children:[s.jsxs("div",{className:"connection-info-row",children:[s.jsx("span",{className:"connection-info-label",children:"Status"}),s.jsx("span",{className:"connection-info-value",children:Z.isConnected?" Connected":" Disconnected"})]}),nl&&s.jsxs("div",{className:"connection-info-row",children:[s.jsx("span",{className:"connection-info-label",children:"Server Version"}),s.jsx("span",{className:"connection-info-value",children:nl})]}),Ul&&s.jsxs("div",{className:"connection-info-row",children:[s.jsx("span",{className:"connection-info-label",children:"Build Hash"}),s.jsxs("span",{className:"connection-info-value copyable",title:"Click to copy",onClick:()=>{navigator.clipboard.writeText(Ul)},children:[s.jsx("code",{children:Ul}),s.jsx("span",{className:"copy-hint",children:""})]})]}),zl&&s.jsxs("div",{className:"connection-info-row",children:[s.jsx("span",{className:"connection-info-label",children:"Connected Since"}),s.jsx("span",{className:"connection-info-value",children:new Date(zl).toLocaleString()})]}),s.jsxs("div",{className:"connection-info-row",children:[s.jsx("span",{className:"connection-info-label",children:"Relay Address"}),s.jsx("span",{className:"connection-info-value",children:s.jsx("code",{children:W.getBaseUrl()})})]})]})]})}),Gs&&s.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"400px",height:"100vh",background:"var(--background)",borderLeft:"1px solid var(--border)",zIndex:1e3,display:"flex",flexDirection:"column",color:"var(--text)"},children:[s.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600},children:" Pinned Messages"}),s.jsx("button",{onClick:()=>gi(!1),style:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"var(--text)",padding:"4px",borderRadius:"4px"},children:""})]}),s.jsx("div",{style:{flex:1,overflowY:"auto",padding:"16px"},children:po.length===0?s.jsxs("div",{style:{textAlign:"center",color:"var(--text-muted)",marginTop:"50px"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),s.jsx("p",{children:"No pinned messages in this channel yet."}),s.jsx("p",{style:{fontSize:"14px"},children:"Pin messages to keep important information easily accessible."})]}):s.jsx("div",{children:po.map((d,y)=>s.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"var(--background-modifier-accent)",borderRadius:"8px",border:"1px solid var(--border)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px",fontSize:"14px"},children:[s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"var(--primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:600,marginRight:"8px"},children:(d.author||"?")[0]}),s.jsx("span",{style:{fontWeight:600,marginRight:"8px"},children:d.author}),s.jsxs("span",{style:{color:"var(--text-muted)",fontSize:"12px"},children:[new Date(d.timestamp).toLocaleDateString()," at ",d.time]})]}),s.jsx("div",{style:{marginLeft:"32px",lineHeight:"1.4"},dangerouslySetInnerHTML:{__html:xt.highlightMentions(d.content)}}),s.jsxs("div",{style:{marginLeft:"32px",marginTop:"8px",fontSize:"12px",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"4px"},children:[" Pinned ",new Date(d.pinned_at).toLocaleDateString()]})]},d.id||y))})})]}),tl&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-card",style:{maxWidth:"380px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[s.jsx("h3",{style:{margin:0},children:"Start a Direct Message"}),s.jsx("button",{onClick:()=>Da(!1),className:"error-toast-close",style:{color:"var(--text-muted)"},children:""})]}),s.jsx("p",{children:"Select a user to start a direct message:"}),s.jsxs("div",{style:{maxHeight:"300px",overflow:"auto"},children:[en.filter(d=>d.user_id!==localStorage.getItem("accord_user_id")).map(d=>s.jsxs("div",{className:"member",onClick:()=>{ls(d.user),Da(!1)},children:[s.jsx("div",{className:"dm-avatar",style:{width:"24px",height:"24px",fontSize:"12px",marginRight:"12px"},children:Xt(d.user)[0].toUpperCase()}),s.jsxs("div",{children:[s.jsx("div",{style:{color:"var(--text-primary)",fontSize:"14px",fontWeight:"500"},children:Xt(d.user)}),s.jsxs("div",{style:{color:"var(--text-muted)",fontSize:"12px"},children:[ns(d.role)," ",d.role]})]})]},d.user_id)),en.filter(d=>d.user_id!==localStorage.getItem("accord_user_id")).length===0&&s.jsx("div",{className:"members-empty",children:"No other members available"})]})]})}),lc&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-card",children:[s.jsx("h3",{children:"Set Your Display Name"}),s.jsx("p",{children:"Choose a name that others will see instead of your fingerprint."}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Display Name"}),s.jsx("input",{type:"text",placeholder:"Enter a display name...",value:Bl,onChange:d=>wo(d.target.value),onKeyDown:d=>{d.key==="Enter"&&Ha()},className:"form-input",autoFocus:!0,maxLength:32})]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{onClick:Ha,disabled:_o||!Bl.trim(),className:"btn btn-green",style:{width:"auto"},children:_o?"Saving...":"Save"}),s.jsx("button",{onClick:()=>_i(!1),className:"btn btn-outline",style:{width:"auto"},children:"Skip"})]})]})}),Ot&&s.jsxs("div",{className:"context-menu",style:{left:Ot.x,top:Ot.y},children:[s.jsxs("div",{className:"context-menu-item context-menu-profile-header",children:[s.jsx("div",{style:{fontWeight:600,fontSize:"14px"},children:Ot.displayName}),s.jsx("div",{style:{fontSize:"11px",color:"var(--text-faint)",fontFamily:"var(--font-mono)"},children:Et(Ot.publicKeyHash)}),Ot.bio&&s.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)",marginTop:"4px"},children:Ot.bio})]}),s.jsx("div",{className:"context-menu-separator"}),s.jsx("div",{className:"context-menu-item",onClick:()=>{const d=`Display Name: ${Ot.displayName}
Fingerprint: ${Et(Ot.publicKeyHash)}
Full Hash: ${Ot.publicKeyHash}${Ot.bio?`
Bio: ${Ot.bio}`:""}`;alert(d),Ea(null)},children:" View Profile"}),Ot.user&&Ot.userId!==localStorage.getItem("accord_user_id")&&s.jsx("div",{className:"context-menu-item",onClick:()=>{Ot.user&&ls(Ot.user),Ea(null)},children:" Send DM"}),s.jsx("div",{className:"context-menu-separator"}),s.jsx("div",{className:"context-menu-item",onClick:()=>{navigator.clipboard.writeText(Ot.publicKeyHash).catch(()=>{}),Ea(null)},children:" Copy Public Key Hash"})]}),ic&&s.jsx("div",{className:"modal-overlay",onClick:()=>Pi(!1),children:s.jsxs("div",{className:"modal-card shortcuts-modal",onClick:d=>d.stopPropagation(),children:[s.jsx("h3",{children:" Keyboard Shortcuts"}),s.jsxs("div",{className:"shortcuts-list",children:[s.jsxs("div",{className:"shortcut-row",children:[s.jsx("kbd",{children:"Enter"}),s.jsx("span",{children:"Send message"})]}),s.jsxs("div",{className:"shortcut-row",children:[s.jsx("kbd",{children:"Shift + Enter"}),s.jsx("span",{children:"New line in message"})]}),s.jsxs("div",{className:"shortcut-row",children:[s.jsx("kbd",{children:"Escape"}),s.jsx("span",{children:"Close modal / Cancel edit"})]}),s.jsxs("div",{className:"shortcut-row",children:[s.jsx("kbd",{children:"Ctrl + K"}),s.jsx("span",{children:"Open search"})]}),s.jsxs("div",{className:"shortcut-row",children:[s.jsx("kbd",{children:"Ctrl + /"}),s.jsx("span",{children:"Show this help"})]}),s.jsxs("div",{className:"shortcut-row",children:[s.jsx("kbd",{children:"Ctrl + ,"}),s.jsx("span",{children:"Open settings"})]})]}),s.jsx("div",{className:"modal-actions",style:{marginTop:"16px"},children:s.jsx("button",{onClick:()=>Pi(!1),className:"btn btn-outline",style:{width:"auto"},children:"Close"})})]})})]})}class tx extends w.Component{constructor(l){super(l),this.state={hasError:!1,error:null}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,u){console.error("Uncaught error:",l,u)}render(){var l;return this.state.hasError?s.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#ff6b6b"},children:[s.jsx("h1",{children:"Something went wrong"}),s.jsx("p",{children:(l=this.state.error)==null?void 0:l.message}),s.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),style:{marginTop:"1rem",padding:"0.5rem 1rem",cursor:"pointer",background:"#5865f2",color:"white",border:"none",borderRadius:"4px"},children:"Try Again"})]}):this.props.children}}window.DOMPurify=ib;Bv.createRoot(document.getElementById("root")).render(s.jsx(Vr.StrictMode,{children:s.jsx(tx,{children:s.jsx(ex,{})})}));
